(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(36),r=n(37),a=n(38);var o=n(34),s=n(24),u=n(5),c=n(3),h=n(20),l=n(4),f=n(7);function d(t,e,n){return(d=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Object(f.a)(r,n.prototype),r}).apply(null,arguments)}function v(t){var e="function"===typeof Map?new Map:void 0;return(v=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return d(t,arguments,Object(c.a)(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Object(f.a)(i,t)})(t)}var p=n(1),y=n(2);n.d(e,"a",function(){return $}),n.d(e,"b",function(){return O}),n.d(e,"c",function(){return Z}),n.d(e,"d",function(){return m}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return Q}),n.d(e,"g",function(){return et}),n.d(e,"h",function(){return x}),n.d(e,"i",function(){return z}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return k}),n.d(e,"l",function(){return E}),n.d(e,"m",function(){return S}),n.d(e,"n",function(){return G}),n.d(e,"o",function(){return it}),n.d(e,"p",function(){return H}),n.d(e,"q",function(){return I}),n.d(e,"r",function(){return X}),n.d(e,"s",function(){return J}),n.d(e,"u",function(){return Y}),n.d(e,"v",function(){return V}),n.d(e,"w",function(){return W});var g=1e-6,m=!0,_=!1,b={CCW:-1,CW:1,NOT_ORIENTABLE:0},w=2*Math.PI,x=1,k=0,O=2,S=1,E=2,T=Object.freeze({DP_TOL:g,CCW:m,CW:_,ORIENTATION:b,PIx2:w,INSIDE:x,OUTSIDE:k,BOUNDARY:O,CONTAINS:3,INTERLACE:4,OVERLAP_SAME:S,OVERLAP_OPPOSITE:E});function j(t){return t<g&&t>-g}function P(t,e){return t-e<g&&t-e>-g}function A(t,e){return t-e>g}function C(t,e){return t-e<-g}var I=Object.freeze({DECIMALS:3,EQ_0:j,EQ:P,GT:A,GE:function(t,e){return t-e>-g},LT:C,LE:function(t,e){return t-e<g}}),L=function(){function t(){Object(p.a)(this,t)}return Object(y.a)(t,null,[{key:"ILLEGAL_PARAMETERS",get:function(){return new ReferenceError("Illegal Parameters")}},{key:"ZERO_DIVISION",get:function(){return new Error("Zero division")}}]),t}(),M={Utils:I,Errors:L,Matrix:void 0,Planar_set:void 0,Point:void 0,Vector:void 0,Line:void 0,Circle:void 0,Segment:void 0,Arc:void 0,Box:void 0,Edge:void 0,Face:void 0,Ray:void 0,Ray_shooting:void 0,Polygon:void 0,Distance:void 0};for(var R in T)M[R]=T[R];var D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(p.a)(this,t),this.a=e,this.b=n,this.c=i,this.d=r,this.tx=a,this.ty=o}return Object(y.a)(t,[{key:"clone",value:function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)}},{key:"transform",value:function(t){return[t[0]*this.a+t[1]*this.c+this.tx,t[0]*this.b+t[1]*this.d+this.ty]}},{key:"multiply",value:function(e){return new t(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.tx+this.c*e.ty+this.tx,this.b*e.tx+this.d*e.ty+this.ty)}},{key:"translate",value:function(){for(var e,n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];if(1==r.length&&r[0]instanceof M.Vector)e=r[0].x,n=r[0].y;else{if(2!=r.length||"number"!=typeof r[0]||"number"!=typeof r[1])throw M.Errors.ILLEGAL_PARAMETERS;e=r[0],n=r[1]}return this.multiply(new t(1,0,0,1,e,n))}},{key:"rotate",value:function(e){var n=Math.cos(e),i=Math.sin(e);return this.multiply(new t(n,i,-i,n,0,0))}},{key:"scale",value:function(e,n){return this.multiply(new t(e,0,0,n,0,0))}},{key:"equalTo",value:function(t){return!!M.Utils.EQ(this.tx,t.tx)&&(!!M.Utils.EQ(this.ty,t.ty)&&(!!M.Utils.EQ(this.a,t.a)&&(!!M.Utils.EQ(this.b,t.b)&&(!!M.Utils.EQ(this.c,t.c)&&!!M.Utils.EQ(this.d,t.d)))))}}]),t}();M.Matrix=D;M.matrix=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Matrix,e)};var N=function(){function t(e,n){Object(p.a)(this,t),this.low=e,this.high=n}return Object(y.a)(t,[{key:"clone",value:function(){return new t(this.low,this.high)}},{key:"less_than",value:function(t){return this.low<t.low||this.low==t.low&&this.high<t.high}},{key:"equal_to",value:function(t){return this.low==t.low&&this.high==t.high}},{key:"intersect",value:function(t){return!this.not_intersect(t)}},{key:"not_intersect",value:function(t){return this.high<t.low||t.high<this.low}},{key:"output",value:function(){return[this.low,this.high]}},{key:"max",get:function(){return this.high}}],[{key:"comparable_max",value:function(t,e){return Math.max(t,e)}},{key:"comparable_less_than",value:function(t,e){return t<e}}]),t}(),F=1,U=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:F;Object(p.a)(this,t),this.left=i,this.right=r,this.parent=a,this.color=o,this.item={key:e,value:n},e&&e instanceof Array&&2==e.length&&(Number.isNaN(e[0])||Number.isNaN(e[1])||(this.item.key=new N(Math.min(e[0],e[1]),Math.max(e[0],e[1])))),this.max=this.item.key?this.item.key.max:void 0}return Object(y.a)(t,[{key:"isNil",value:function(){return void 0===this.item.key&&void 0===this.item.value&&null===this.left&&null===this.right&&this.color===F}},{key:"less_than",value:function(t){return this.item.key.less_than(t.item.key)}},{key:"equal_to",value:function(t){var e=!0;return this.item.value&&t.item.value&&(e=this.item.value.equal_to?this.item.value.equal_to(t.item.value):this.item.value==t.item.value),this.item.key.equal_to(t.item.key)&&e}},{key:"intersect",value:function(t){return this.item.key.intersect(t.item.key)}},{key:"copy_data",value:function(t){this.item.key=t.item.key.clone(),this.item.value=t.item.value}},{key:"update_max",value:function(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){var t=this.item.key.constructor.comparable_max;this.max=t(this.max,this.right.max)}if(this.left&&this.left.max){var e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.left.max)}}},{key:"not_intersect_left_subtree",value:function(t){return(0,this.item.key.constructor.comparable_less_than)(this.left.max.high?this.left.max.high:this.left.max,t.item.key.low)}},{key:"not_intersect_right_subtree",value:function(t){var e=this.item.key.constructor.comparable_less_than,n=this.right.max.low?this.right.max.low:this.right.item.key.low;return e(t.item.key.high,n)}}]),t}(),B=function(){function t(){Object(p.a)(this,t),this.root=null,this.nil_node=new U}return Object(y.a)(t,[{key:"isEmpty",value:function(){return null==this.root||this.root==this.nil_node}},{key:"insert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(void 0!==t){var n=new U(t,e,this.nil_node,this.nil_node,null,0);return this.tree_insert(n),this.recalc_max(n),n}}},{key:"exist",value:function(t,e){var n=new U(t,e);return!!this.tree_search(this.root,n)}},{key:"remove",value:function(t,e){var n=new U(t,e),i=this.tree_search(this.root,n);return i&&this.tree_delete(i),i}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return t||e.output()},n=new U(t),i=[];return this.tree_search_interval(this.root,n,i),i.map(function(t){return e(t.item.value,t.item.key)})}},{key:"forEach",value:function(t){this.tree_walk(this.root,function(e){return t(e.item.key,e.item.value)})}},{key:"map",value:function(e){var n=new t;return this.tree_walk(this.root,function(t){return n.insert(t.item.key,e(t.item.value,t.item.key))}),n}},{key:"recalc_max",value:function(t){for(var e=t;null!=e.parent;)e.parent.update_max(),e=e.parent}},{key:"tree_insert",value:function(t){var e=this.root,n=null;if(null==this.root||this.root==this.nil_node)this.root=t;else{for(;e!=this.nil_node;)n=e,e=t.less_than(e)?e.left:e.right;t.parent=n,t.less_than(n)?n.left=t:n.right=t}this.insert_fixup(t)}},{key:"insert_fixup",value:function(t){var e,n;for(e=t;e!=this.root&&0==e.parent.color;)e.parent==e.parent.parent.left?0==(n=e.parent.parent.right).color?(e.parent.color=F,n.color=F,e.parent.parent.color=0,e=e.parent.parent):(e==e.parent.right&&(e=e.parent,this.rotate_left(e)),e.parent.color=F,e.parent.parent.color=0,this.rotate_right(e.parent.parent)):0==(n=e.parent.parent.left).color?(e.parent.color=F,n.color=F,e.parent.parent.color=0,e=e.parent.parent):(e==e.parent.left&&(e=e.parent,this.rotate_right(e)),e.parent.color=F,e.parent.parent.color=0,this.rotate_left(e.parent.parent));this.root.color=F}},{key:"tree_delete",value:function(t){var e,n;(n=(e=t.left==this.nil_node||t.right==this.nil_node?t:this.tree_successor(t)).left!=this.nil_node?e.left:e.right).parent=e.parent,e==this.root?this.root=n:(e==e.parent.left?e.parent.left=n:e.parent.right=n,e.parent.update_max()),this.recalc_max(n),e!=t&&(t.copy_data(e),t.update_max(),this.recalc_max(t)),e.color==F&&this.delete_fixup(n)}},{key:"delete_fixup",value:function(t){for(var e,n=t;n!=this.root&&null!=n.parent&&n.color==F;)n==n.parent.left?(0==(e=n.parent.right).color&&(e.color=F,n.parent.color=0,this.rotate_left(n.parent),e=n.parent.right),e.left.color==F&&e.right.color==F?(e.color=0,n=n.parent):(e.right.color==F&&(e.color=0,e.left.color=F,this.rotate_right(e),e=n.parent.right),e.color=n.parent.color,n.parent.color=F,e.right.color=F,this.rotate_left(n.parent),n=this.root)):(0==(e=n.parent.left).color&&(e.color=F,n.parent.color=0,this.rotate_right(n.parent),e=n.parent.left),e.left.color==F&&e.right.color==F?(e.color=0,n=n.parent):(e.left.color==F&&(e.color=0,e.right.color=F,this.rotate_left(e),e=n.parent.left),e.color=n.parent.color,n.parent.color=F,e.left.color=F,this.rotate_right(n.parent),n=this.root));n.color=F}},{key:"tree_search",value:function(t,e){if(null!=t&&t!=this.nil_node)return e.equal_to(t)?t:e.less_than(t)?this.tree_search(t.left,e):this.tree_search(t.right,e)}},{key:"tree_search_interval",value:function(t,e,n){null!=t&&t!=this.nil_node&&(t.left==this.nil_node||t.not_intersect_left_subtree(e)||this.tree_search_interval(t.left,e,n),t.intersect(e)&&n.push(t),t.right==this.nil_node||t.not_intersect_right_subtree(e)||this.tree_search_interval(t.right,e,n))}},{key:"local_minimum",value:function(t){for(var e=t;null!=e.left&&e.left!=this.nil_node;)e=e.left;return e}},{key:"local_maximum",value:function(t){for(var e=t;null!=e.right&&e.right!=this.nil_node;)e=e.right;return e}},{key:"tree_successor",value:function(t){var e,n,i;if(t.right!=this.nil_node)e=this.local_minimum(t.right);else{for(n=t,i=t.parent;null!=i&&i.right==n;)n=i,i=i.parent;e=i}return e}},{key:"rotate_left",value:function(t){var e=t.right;t.right=e.left,e.left!=this.nil_node&&(e.left.parent=t),e.parent=t.parent,t==this.root?this.root=e:t==t.parent.left?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e,null!=t&&t!=this.nil_node&&t.update_max(),null!=(e=t.parent)&&e!=this.nil_node&&e.update_max()}},{key:"rotate_right",value:function(t){var e=t.left;t.left=e.right,e.right!=this.nil_node&&(e.right.parent=t),e.parent=t.parent,t==this.root?this.root=e:t==t.parent.left?t.parent.left=e:t.parent.right=e,e.right=t,t.parent=e,null!=t&&t!=this.nil_node&&t.update_max(),null!=(e=t.parent)&&e!=this.nil_node&&e.update_max()}},{key:"tree_walk",value:function(t,e){null!=t&&t!=this.nil_node&&(this.tree_walk(t.left,e),e(t),this.tree_walk(t.right,e))}},{key:"testRedBlackProperty",value:function(){var t=!0;return this.tree_walk(this.root,function(e){0==e.color&&(e.left.color==F&&e.right.color==F||(t=!1))}),t}},{key:"testBlackHeightProperty",value:function(t){var e=0,n=0;if(t.color==F&&e++,(n=t.left!=this.nil_node?this.testBlackHeightProperty(t.left):1)!=(t.right!=this.nil_node?this.testBlackHeightProperty(t.right):1))throw new Error("Red-black height property violated");return e+=n}},{key:"size",get:function(){var t=0;return this.tree_walk(this.root,function(){return t++}),t}},{key:"keys",get:function(){var t=[];return this.tree_walk(this.root,function(e){return t.push(e.item.key.output?e.item.key.output():e.item.key)}),t}},{key:"values",get:function(){var t=[];return this.tree_walk(this.root,function(e){return t.push(e.item.value)}),t}},{key:"items",get:function(){var t=[];return this.tree_walk(this.root,function(e){return t.push({key:e.item.key.output?e.item.key.output():e.item.key,value:e.item.value})}),t}}]),t}(),q=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).index=new B,t}return Object(l.a)(e,t),Object(y.a)(e,[{key:"add",value:function(t){var n=this.size;if(Object(h.a)(Object(c.a)(e.prototype),"add",this).call(this,t),this.size>n)this.index.insert(t.box,t);return this}},{key:"delete",value:function(t){var n=Object(h.a)(Object(c.a)(e.prototype),"delete",this).call(this,t);return n&&this.index.remove(t.box,t),n}},{key:"clear",value:function(){Object(h.a)(Object(c.a)(e.prototype),"clear",this).call(this),this.index=new B}},{key:"search",value:function(t){return this.index.search(t)}},{key:"hit",value:function(t){var e=new M.Box(t.x-1,t.y-1,t.x+1,t.y+1);return this.index.search(e).filter(function(e){return t.on(e)})}},{key:"svg",value:function(){return Object(s.a)(this).reduce(function(t,e){return t+e.svg()},"")}}]),e}(v(Set));M.PlanarSet=q;var G=function(){function t(){Object(p.a)(this,t),this.x=0,this.y=0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(0!==n.length){if(1===n.length&&n[0]instanceof Array&&2===n[0].length){var r=n[0];if("number"==typeof r[0]&&"number"==typeof r[1])return this.x=r[0],void(this.y=r[1])}if(1===n.length&&n[0]instanceof Object&&"point"===n[0].name){var a=n[0],o=a.x,s=a.y;return this.x=o,void(this.y=s)}if(2===n.length&&"number"==typeof n[0]&&"number"==typeof n[1])return this.x=n[0],void(this.y=n[1]);throw M.Errors.ILLEGAL_PARAMETERS}}return Object(y.a)(t,[{key:"clone",value:function(){return new M.Point(this.x,this.y)}},{key:"equalTo",value:function(t){return M.Utils.EQ(this.x,t.x)&&M.Utils.EQ(this.y,t.y)}},{key:"lessThan",value:function(t){return!!M.Utils.LT(this.y,t.y)||!(!M.Utils.EQ(this.y,t.y)||!M.Utils.LT(this.x,t.x))}},{key:"rotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=e.x+(this.x-e.x)*Math.cos(t)-(this.y-e.y)*Math.sin(t),i=e.y+(this.x-e.x)*Math.sin(t)+(this.y-e.y)*Math.cos(t);return new M.Point(n,i)}},{key:"translate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1==e.length&&e[0]instanceof M.Vector)return new M.Point(this.x+e[0].x,this.y+e[0].y);if(2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1])return new M.Point(this.x+e[0],this.y+e[1]);throw M.Errors.ILLEGAL_PARAMETERS}},{key:"transform",value:function(t){return new M.Point(t.transform([this.x,this.y]))}},{key:"projectionOn",value:function(t){if(this.equalTo(t.pt))return this.clone();var e=new M.Vector(this,t.pt);if(M.Utils.EQ_0(e.cross(t.norm)))return t.pt.clone();var n=e.dot(t.norm),i=t.norm.multiply(n);return this.translate(i)}},{key:"leftTo",value:function(t){var e=new M.Vector(t.pt,this);return M.Utils.GT(e.dot(t.norm),0)}},{key:"distanceTo",value:function(e){if(e instanceof t){var n=e.x-this.x,i=e.y-this.y;return[Math.sqrt(n*n+i*i),new M.Segment(this,e)]}return e instanceof M.Line?M.Distance.point2line(this,e):e instanceof M.Circle?M.Distance.point2circle(this,e):e instanceof M.Segment?M.Distance.point2segment(this,e):e instanceof M.Arc?M.Distance.point2arc(this,e):e instanceof M.Polygon?M.Distance.point2polygon(this,e):e instanceof M.PlanarSet?M.Distance.shape2planarSet(this,e):void 0}},{key:"on",value:function(t){return t instanceof M.Point?this.equalTo(t):t instanceof M.Line?t.contains(this):t instanceof M.Circle?t.contains(this):t instanceof M.Segment?t.contains(this):t instanceof M.Arc?t.contains(this):t instanceof M.Polygon?t.contains(this):void 0}},{key:"svg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.r,n=t.stroke,i=t.strokeWidth,r=t.fill,a=t.id,o=t.className,s=a&&a.length>0?'id="'.concat(a,'"'):"",u=o&&o.length>0?'class="'.concat(o,'"'):"";return'\n<circle cx="'.concat(this.x,'" cy="').concat(this.y,'" r="').concat(e||3,'" stroke="').concat(n||"black",'" stroke-width="').concat(i||1,'" fill="').concat(r||"red",'" ').concat(s," ").concat(u," />")}},{key:"toJSON",value:function(){return Object.assign({},this,{name:"point"})}},{key:"box",get:function(){return new M.Box(this.x,this.y,this.x,this.y)}},{key:"vertices",get:function(){return[this.clone()]}}]),t}();M.Point=G;var Y=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Point,e)};M.point=Y;var X=function(){function t(){Object(p.a)(this,t),this.x=0,this.y=0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(0!==n.length){if(1===n.length&&n[0]instanceof Array&&2===n[0].length){var r=n[0];if("number"==typeof r[0]&&"number"==typeof r[1])return this.x=r[0],void(this.y=r[1])}if(1===n.length&&n[0]instanceof Object&&"vector"===n[0].name){var a=n[0],o=a.x,s=a.y;return this.x=o,void(this.y=s)}if(2===n.length){var u=n[0],c=n[1];if("number"==typeof u&&"number"==typeof c)return this.x=u,void(this.y=c);if(u instanceof M.Point&&c instanceof M.Point)return this.x=c.x-u.x,void(this.y=c.y-u.y)}throw M.Errors.ILLEGAL_PARAMETERS}}return Object(y.a)(t,[{key:"clone",value:function(){return new M.Vector(this.x,this.y)}},{key:"equalTo",value:function(t){return M.Utils.EQ(this.x,t.x)&&M.Utils.EQ(this.y,t.y)}},{key:"multiply",value:function(t){return new M.Vector(t*this.x,t*this.y)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"normalize",value:function(){if(!M.Utils.EQ_0(this.length))return new M.Vector(this.x/this.length,this.y/this.length);throw M.Errors.ZERO_DIVISION}},{key:"rotate",value:function(t){var e=new M.Point(this.x,this.y).rotate(t);return new M.Vector(e.x,e.y)}},{key:"rotate90CCW",value:function(){return new M.Vector(-this.y,this.x)}},{key:"rotate90CW",value:function(){return new M.Vector(this.y,-this.x)}},{key:"invert",value:function(){return new M.Vector(-this.x,-this.y)}},{key:"add",value:function(t){return new M.Vector(this.x+t.x,this.y+t.y)}},{key:"subtract",value:function(t){return new M.Vector(this.x-t.x,this.y-t.y)}},{key:"angleTo",value:function(t){var e=this.normalize(),n=t.normalize(),i=Math.atan2(e.cross(n),e.dot(n));return i<0&&(i+=2*Math.PI),i}},{key:"projectionOn",value:function(t){var e=t.normalize(),n=this.dot(e);return e.multiply(n)}},{key:"toJSON",value:function(){return Object.assign({},this,{name:"vector"})}},{key:"slope",get:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t=2*Math.PI+t),t}},{key:"length",get:function(){return Math.sqrt(this.dot(this))}}]),t}();M.Vector=X;var W=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Vector,e)};M.vector=W;var H=function(){function t(){Object(p.a)(this,t),this.ps=new M.Point,this.pe=new M.Point;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(0!=n.length){if(1==n.length&&n[0]instanceof Array&&4==n[0].length){var r=n[0];return this.ps=new M.Point(r[0],r[1]),void(this.pe=new M.Point(r[2],r[3]))}if(1==n.length&&n[0]instanceof Object&&"segment"===n[0].name){var a=n[0],o=a.ps,s=a.pe;return this.ps=new M.Point(o.x,o.y),void(this.pe=new M.Point(s.x,s.y))}if(2==n.length&&n[0]instanceof M.Point&&n[1]instanceof M.Point)return this.ps=n[0].clone(),void(this.pe=n[1].clone());if(4==n.length)return this.ps=new M.Point(n[0],n[1]),void(this.pe=new M.Point(n[2],n[3]));throw M.Errors.ILLEGAL_PARAMETERS}}return Object(y.a)(t,[{key:"clone",value:function(){return new M.Segment(this.start,this.end)}},{key:"equalTo",value:function(t){return this.ps.equalTo(t.ps)&&this.pe.equalTo(t.pe)}},{key:"contains",value:function(t){return M.Utils.EQ_0(this.distanceToPoint(t))}},{key:"intersect",value:function(e){return e instanceof M.Point?this.contains(e)?[e]:[]:e instanceof M.Line?t.intersectSegment2Line(this,e):e instanceof M.Segment?t.intersectSegment2Segment(this,e):e instanceof M.Circle?t.intersectSegment2Circle(this,e):e instanceof M.Arc?t.intersectSegment2Arc(this,e):e instanceof M.Polygon?M.Polygon.intersectShape2Polygon(this,e):void 0}},{key:"distanceTo",value:function(t){if(t instanceof M.Point){var e=M.Distance.point2segment(t,this),n=Object(o.a)(e,2),i=n[0],r=n[1];return[i,r=r.reverse()]}if(t instanceof M.Circle){var a=M.Distance.segment2circle(this,t),s=Object(o.a)(a,2);return[s[0],s[1]]}if(t instanceof M.Line){var u=M.Distance.segment2line(this,t),c=Object(o.a)(u,2);return[c[0],c[1]]}if(t instanceof M.Segment){var h=M.Distance.segment2segment(this,t),l=Object(o.a)(h,2);return[l[0],l[1]]}if(t instanceof M.Arc){var f=M.Distance.segment2arc(this,t),d=Object(o.a)(f,2);return[d[0],d[1]]}if(t instanceof M.Polygon){var v=M.Distance.shape2polygon(this,t),p=Object(o.a)(v,2);return[p[0],p[1]]}if(t instanceof M.PlanarSet){var y=M.Distance.shape2planarSet(this,t),g=Object(o.a)(y,2);return[g[0],g[1]]}}},{key:"tangentInStart",value:function(){return new M.Vector(this.start,this.end).normalize()}},{key:"tangentInEnd",value:function(){return new M.Vector(this.end,this.start).normalize()}},{key:"reverse",value:function(){return new t(this.end,this.start)}},{key:"split",value:function(t){return this.contains(t)?this.start.equalTo(this.end)?[this.clone()]:this.start.equalTo(t)||this.end.equalTo(t)?[this]:[new M.Segment(this.start,t),new M.Segment(t,this.end)]:[]}},{key:"middle",value:function(){return new M.Point((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}},{key:"distanceToPoint",value:function(t){var e,n=M.Distance.point2segment(t,this),o=(e=n,Object(i.a)(e)||Object(r.a)(e)||Object(a.a)()),s=o[0];o.slice(1);return s}},{key:"definiteIntegral",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(this.end.x-this.start.x)*(this.start.y-t+(this.end.y-t))/2}},{key:"translate",value:function(){var e,n;return new t((e=this.ps).translate.apply(e,arguments),(n=this.pe).translate.apply(n,arguments))}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new M.Point,n=new M.Matrix;return n=n.translate(e.x,e.y).rotate(t).translate(-e.x,-e.y),this.transform(n)}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new M.Matrix;return new t(this.ps.transform(e),this.pe.transform(e))}},{key:"isZeroLength",value:function(){return this.ps.equalTo(this.pe)}},{key:"svg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stroke,n=t.strokeWidth,i=t.id,r=t.className,a=i&&i.length>0?'id="'.concat(i,'"'):"",o=r&&r.length>0?'class="'.concat(r,'"'):"";return'\n<line x1="'.concat(this.start.x,'" y1="').concat(this.start.y,'" x2="').concat(this.end.x,'" y2="').concat(this.end.y,'" stroke="').concat(e||"black",'" stroke-width="').concat(n||1,'" ').concat(a," ").concat(o," />")}},{key:"toJSON",value:function(){return Object.assign({},this,{name:"segment"})}},{key:"start",get:function(){return this.ps}},{key:"end",get:function(){return this.pe}},{key:"vertices",get:function(){return[this.ps.clone(),this.pe.clone()]}},{key:"length",get:function(){return this.start.distanceTo(this.end)[0]}},{key:"slope",get:function(){return new M.Vector(this.start,this.end).slope}},{key:"box",get:function(){return new M.Box(Math.min(this.start.x,this.end.x),Math.min(this.start.y,this.end.y),Math.max(this.start.x,this.end.x),Math.max(this.start.y,this.end.y))}}],[{key:"intersectSegment2Line",value:function(t,e){var n=[];return t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&!t.isZeroLength()&&n.push(t.pe),n.length>0?n:t.isZeroLength()?n:t.ps.leftTo(e)&&t.pe.leftTo(e)||!t.ps.leftTo(e)&&!t.pe.leftTo(e)?n:new M.Line(t.ps,t.pe).intersect(e)}},{key:"intersectSegment2Segment",value:function(t,e){var n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;if(e.isZeroLength())return e.ps.on(t)&&n.push(e.ps),n;var i=new M.Line(t.ps,t.pe),r=new M.Line(e.ps,e.pe);if(i.incidentTo(r))t.ps.on(e)&&n.push(t.ps),t.pe.on(e)&&n.push(t.pe),!e.ps.on(t)||e.ps.equalTo(t.ps)||e.ps.equalTo(t.pe)||n.push(e.ps),!e.pe.on(t)||e.pe.equalTo(t.ps)||e.pe.equalTo(t.pe)||n.push(e.pe);else{var a=i.intersect(r);a.length>0&&a[0].on(t)&&a[0].on(e)&&n.push(a[0])}return n}},{key:"intersectSegment2Circle",value:function(t,e){var n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength()){var i=t.ps.distanceTo(e.pc),r=Object(o.a)(i,2),a=r[0];r[1];return M.Utils.EQ(a,e.r)&&n.push(t.ps),n}var s=new M.Line(t.ps,t.pe).intersect(e),u=!0,c=!1,h=void 0;try{for(var l,f=s[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;d.on(t)&&n.push(d)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}return n}},{key:"intersectSegment2Arc",value:function(t,e){var n=[];if(t.box.not_intersect(e.box))return n;if(t.isZeroLength())return t.ps.on(e)&&n.push(t.ps),n;var i=new M.Line(t.ps,t.pe),r=new M.Circle(e.pc,e.r),a=i.intersect(r),o=!0,s=!1,u=void 0;try{for(var c,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var l=c.value;l.on(t)&&l.on(e)&&n.push(l)}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return n}}]),t}();M.Segment=H;var V=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Segment,e)};M.segment=V;var z=function(){function t(){Object(p.a)(this,t),this.pt=new M.Point,this.norm=new M.Vector(0,1);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(0!=n.length){if(1==n.length&&n[0]instanceof Object&&"line"===n[0].name){var r=n[0],a=r.pt,o=r.norm;return this.pt=new M.Point(a),void(this.norm=new M.Vector(o))}if(2==n.length){var s=n[0],u=n[1];if(s instanceof M.Point&&u instanceof M.Point)return this.pt=s,void(this.norm=t.points2norm(s,u));if(s instanceof M.Point&&u instanceof M.Vector){if(M.Utils.EQ_0(u.x)&&M.Utils.EQ_0(u.y))throw M.Errors.ILLEGAL_PARAMETERS;return this.pt=s.clone(),this.norm=u.clone(),void(this.norm=this.norm.normalize())}if(s instanceof M.Vector&&u instanceof M.Point){if(M.Utils.EQ_0(s.x)&&M.Utils.EQ_0(s.y))throw M.Errors.ILLEGAL_PARAMETERS;return this.pt=u.clone(),this.norm=s.clone(),void(this.norm=this.norm.normalize())}}throw M.Errors.ILLEGAL_PARAMETERS}}return Object(y.a)(t,[{key:"clone",value:function(){return new M.Line(this.pt,this.norm)}},{key:"parallelTo",value:function(t){return M.Utils.EQ_0(this.norm.cross(t.norm))}},{key:"incidentTo",value:function(t){return this.parallelTo(t)&&this.pt.on(t)}},{key:"contains",value:function(t){if(this.pt.equalTo(t))return!0;var e=new M.Vector(this.pt,t);return M.Utils.EQ_0(this.norm.dot(e))}},{key:"intersect",value:function(e){return e instanceof M.Point?this.contains(e)?[e]:[]:e instanceof M.Line?t.intersectLine2Line(this,e):e instanceof M.Circle?t.intersectLine2Circle(this,e):e instanceof M.Segment?e.intersect(this):e instanceof M.Arc?t.intersectLine2Arc(this,e):e instanceof M.Polygon?M.Polygon.intersectLine2Polygon(this,e):void 0}},{key:"distanceTo",value:function(t){if(t instanceof M.Point){var e=M.Distance.point2line(t,this),n=Object(o.a)(e,2),i=n[0],r=n[1];return[i,r=r.reverse()]}if(t instanceof M.Circle){var a=M.Distance.circle2line(t,this),s=Object(o.a)(a,2),u=s[0],c=s[1];return[u,c=c.reverse()]}if(t instanceof M.Segment){var h=M.Distance.segment2line(t,this),l=Object(o.a)(h,2);return[l[0],l[1].reverse()]}if(t instanceof M.Arc){var f=M.Distance.arc2line(t,this),d=Object(o.a)(f,2);return[d[0],d[1].reverse()]}if(t instanceof M.Polygon){var v=M.Distance.shape2polygon(this,t),p=Object(o.a)(v,2);return[p[0],p[1]]}}},{key:"svg",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.intersectLine2Box(this,e);if(0===i.length)return"";var r=i[0],a=2==i.length?i[1]:i.find(function(t){return!t.equalTo(r)});return void 0===a&&(a=r),new M.Segment(r,a).svg(n)}},{key:"toJSON",value:function(){return Object.assign({},this,{name:"line"})}},{key:"slope",get:function(){return new M.Vector(this.norm.y,-this.norm.x).slope}},{key:"standard",get:function(){return[this.norm.x,this.norm.y,this.norm.dot(this.pt)]}}],[{key:"points2norm",value:function(t,e){if(t.equalTo(e))throw M.Errors.ILLEGAL_PARAMETERS;return new M.Vector(t,e).normalize().rotate90CCW()}},{key:"intersectLine2Line",value:function(t,e){var n=[],i=Object(o.a)(t.standard,3),r=i[0],a=i[1],s=i[2],u=Object(o.a)(e.standard,3),c=u[0],h=u[1],l=u[2],f=r*h-a*c,d=s*h-a*l,v=r*l-s*c;if(!M.Utils.EQ_0(f)){var p=new M.Point(d/f,v/f);n.push(p)}return n}},{key:"intersectLine2Circle",value:function(t,e){var n=[],i=e.pc.projectionOn(t),r=e.pc.distanceTo(i)[0];if(M.Utils.EQ(r,e.r))n.push(i);else if(M.Utils.LT(r,e.r)){var a,o,s=Math.sqrt(e.r*e.r-r*r);a=t.norm.rotate90CCW().multiply(s),o=i.translate(a),n.push(o),a=t.norm.rotate90CW().multiply(s),o=i.translate(a),n.push(o)}return n}},{key:"intersectLine2Box",value:function(t,e){for(var n=[new M.Point(e.xmin,e.ymin),new M.Point(e.xmax,e.ymin),new M.Point(e.xmax,e.ymax),new M.Point(e.xmin,e.ymax)],i=[],r=[new M.Segment(n[0],n[1]),new M.Segment(n[1],n[2]),new M.Segment(n[2],n[3]),new M.Segment(n[3],n[0])],a=0;a<r.length;a++){var o=r[a].intersect(t),s=!0,u=!1,c=void 0;try{for(var h,l=o[Symbol.iterator]();!(s=(h=l.next()).done);s=!0){var f=h.value;i.push(f)}}catch(d){u=!0,c=d}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}}return i}},{key:"intersectLine2Arc",value:function(e,n){var i=[];if(0==t.intersectLine2Box(e,n.box).length)return i;var r=new M.Circle(n.pc,n.r),a=e.intersect(r),o=!0,s=!1,u=void 0;try{for(var c,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var l=c.value;l.on(n)&&i.push(l)}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return i}}]),t}();M.Line=z;M.line=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Line,e)};var Q=function(){function t(){Object(p.a)(this,t),this.pc=new M.Point,this.r=1;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(1==n.length&&n[0]instanceof Object&&"circle"===n[0].name){var r=n[0],a=r.pc,o=r.r;return this.pc=new M.Point(a),void(this.r=o)}var s=[].concat(n),u=s[0],c=s[1];return u&&u instanceof M.Point&&(this.pc=u.clone()),void(void 0!==c&&(this.r=c))}return Object(y.a)(t,[{key:"clone",value:function(){return new M.Circle(this.pc.clone(),this.r)}},{key:"contains",value:function(t){return M.Utils.LE(t.distanceTo(this.center)[0],this.r)}},{key:"toArc",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new M.Arc(this.center,this.r,Math.PI,-Math.PI,t)}},{key:"intersect",value:function(e){return e instanceof M.Point?this.contains(e)?[e]:[]:e instanceof M.Line?e.intersect(this):e instanceof M.Segment?e.intersect(this):e instanceof M.Circle?t.intersectCirle2Circle(this,e):e instanceof M.Arc?e.intersect(this):e instanceof M.Polygon?M.Polygon.intersectShape2Polygon(this,e):void 0}},{key:"distanceTo",value:function(t){if(t instanceof M.Point){var e=M.Distance.point2circle(t,this),n=Object(o.a)(e,2),i=n[0],r=n[1];return[i,r=r.reverse()]}if(t instanceof M.Circle){var a=M.Distance.circle2circle(this,t),s=Object(o.a)(a,2);return[s[0],s[1]]}if(t instanceof M.Line){var u=M.Distance.circle2line(this,t),c=Object(o.a)(u,2);return[c[0],c[1]]}if(t instanceof M.Segment){var h=M.Distance.segment2circle(t,this),l=Object(o.a)(h,2),f=l[0],d=l[1];return[f,d=d.reverse()]}if(t instanceof M.Arc){var v=M.Distance.arc2circle(t,this),p=Object(o.a)(v,2),y=p[0],g=p[1];return[y,g=g.reverse()]}if(t instanceof M.Polygon){var m=M.Distance.shape2polygon(this,t),_=Object(o.a)(m,2);return[_[0],_[1]]}if(t instanceof M.PlanarSet){var b=M.Distance.shape2planarSet(this,t),w=Object(o.a)(b,2);return[w[0],w[1]]}}},{key:"svg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stroke,n=t.strokeWidth,i=t.fill,r=t.fillOpacity,a=t.id,o=t.className,s=a&&a.length>0?'id="'.concat(a,'"'):"",u=o&&o.length>0?'class="'.concat(o,'"'):"";return'\n<circle cx="'.concat(this.pc.x,'" cy="').concat(this.pc.y,'" r="').concat(this.r,'" stroke="').concat(e||"black",'" stroke-width="').concat(n||1,'" fill="').concat(i||"none",'" fill-opacity="').concat(r||1,'" ').concat(s," ").concat(u," />")}},{key:"toJSON",value:function(){return Object.assign({},this,{name:"circle"})}},{key:"center",get:function(){return this.pc}},{key:"box",get:function(){return new M.Box(this.pc.x-this.r,this.pc.y-this.r,this.pc.x+this.r,this.pc.y+this.r)}}],[{key:"intersectCirle2Circle",value:function(t,e){var n=[];if(t.box.not_intersect(e.box))return n;var i=new M.Vector(t.pc,e.pc),r=t.r,a=e.r;if(M.Utils.EQ_0(r)||M.Utils.EQ_0(a))return n;if(M.Utils.EQ_0(i.x)&&M.Utils.EQ_0(i.y)&&M.Utils.EQ(r,a))return n.push(t.pc.translate(-r,0)),n;var o,s=t.pc.distanceTo(e.pc)[0];if(M.Utils.GT(s,r+a))return n;if(M.Utils.LT(s,Math.abs(r-a)))return n;if(i.x/=s,i.y/=s,M.Utils.EQ(s,r+a)||M.Utils.EQ(s,Math.abs(r-a)))return o=t.pc.translate(r*i.x,r*i.y),n.push(o),n;var u=r*r/(2*s)-a*a/(2*s)+s/2,c=t.pc.translate(u*i.x,u*i.y),h=Math.sqrt(r*r-u*u);return o=c.translate(i.rotate90CCW().multiply(h)),n.push(o),o=c.translate(i.rotate90CW().multiply(h)),n.push(o),n}}]),t}();M.Circle=Q;M.circle=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Circle,e)};var $=function(){function t(){Object(p.a)(this,t),this.pc=new M.Point,this.r=1,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=M.CCW;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(0!=n.length){if(1==n.length&&n[0]instanceof Object&&"arc"===n[0].name){var r=n[0],a=r.pc,o=r.r,s=r.startAngle,u=r.endAngle,c=r.counterClockwise;return this.pc=new M.Point(a.x,a.y),this.r=o,this.startAngle=s,this.endAngle=u,void(this.counterClockwise=c)}var h=[].concat(n),l=h[0],f=h[1],d=h[2],v=h[3],y=h[4];return l&&l instanceof M.Point&&(this.pc=l.clone()),void 0!==f&&(this.r=f),void 0!==d&&(this.startAngle=d),void 0!==v&&(this.endAngle=v),void(void 0!==y&&(this.counterClockwise=y))}}return Object(y.a)(t,[{key:"clone",value:function(){return new M.Arc(this.pc.clone(),this.r,this.startAngle,this.endAngle,this.counterClockwise)}},{key:"contains",value:function(t){if(!M.Utils.EQ(this.pc.distanceTo(t)[0],this.r))return!1;if(t.equalTo(this.start))return!0;var e=new M.Vector(this.pc,t).slope,n=new M.Arc(this.pc,this.r,this.startAngle,e,this.counterClockwise);return M.Utils.LE(n.length,this.length)}},{key:"split",value:function(t){if(!this.contains(t))return[];if(M.Utils.EQ_0(this.sweep))return[this.clone()];if(this.start.equalTo(t)||this.end.equalTo(t))return[this.clone()];var e=new M.Vector(this.pc,t).slope;return[new M.Arc(this.pc,this.r,this.startAngle,e,this.counterClockwise),new M.Arc(this.pc,this.r,e,this.endAngle,this.counterClockwise)]}},{key:"middle",value:function(){var t=this.counterClockwise?this.startAngle+this.sweep/2:this.startAngle-this.sweep/2;return new M.Arc(this.pc,this.r,this.startAngle,t,this.counterClockwise).end}},{key:"chordHeight",value:function(){return(1-Math.cos(Math.abs(this.sweep/2)))*this.r}},{key:"intersect",value:function(t){return t instanceof M.Point?this.contains(t)?[t]:[]:t instanceof M.Line?t.intersect(this):t instanceof M.Circle?M.Arc.intersectArc2Circle(this,t):t instanceof M.Segment?t.intersect(this):t instanceof M.Arc?M.Arc.intersectArc2Arc(this,t):t instanceof M.Polygon?M.Polygon.intersectShape2Polygon(this,t):void 0}},{key:"distanceTo",value:function(t){if(t instanceof M.Point){var e=M.Distance.point2arc(t,this),n=Object(o.a)(e,2),i=n[0],r=n[1];return[i,r=r.reverse()]}if(t instanceof M.Circle){var a=M.Distance.arc2circle(this,t),s=Object(o.a)(a,2);return[s[0],s[1]]}if(t instanceof M.Line){var u=M.Distance.arc2line(this,t),c=Object(o.a)(u,2);return[c[0],c[1]]}if(t instanceof M.Segment){var h=M.Distance.segment2arc(t,this),l=Object(o.a)(h,2),f=l[0],d=l[1];return[f,d=d.reverse()]}if(t instanceof M.Arc){var v=M.Distance.arc2arc(this,t),p=Object(o.a)(v,2);return[p[0],p[1]]}if(t instanceof M.Polygon){var y=M.Distance.shape2polygon(this,t),g=Object(o.a)(y,2);return[g[0],g[1]]}if(t instanceof M.PlanarSet){var m=M.Distance.shape2planarSet(this,t),_=Object(o.a)(m,2);return[_[0],_[1]]}}},{key:"breakToFunctional",value:function(){for(var t=[],e=[0,Math.PI/2,2*Math.PI/2,3*Math.PI/2],n=[this.pc.translate(this.r,0),this.pc.translate(0,this.r),this.pc.translate(-this.r,0),this.pc.translate(0,-this.r)],i=[],r=0;r<4;r++)n[r].on(this)&&i.push(new M.Arc(this.pc,this.r,this.startAngle,e[r],this.counterClockwise));if(0==i.length)t.push(this.clone());else{i.sort(function(t,e){return t.length-e.length});for(var a=0;a<i.length;a++){var o=t.length>0?t[t.length-1]:void 0,s=void 0;s=o?new M.Arc(this.pc,this.r,o.endAngle,i[a].endAngle,this.counterClockwise):new M.Arc(this.pc,this.r,this.startAngle,i[a].endAngle,this.counterClockwise),M.Utils.EQ_0(s.length)||t.push(s.clone())}var u,c=t.length>0?t[t.length-1]:void 0;u=c?new M.Arc(this.pc,this.r,c.endAngle,this.endAngle,this.counterClockwise):new M.Arc(this.pc,this.r,this.startAngle,this.endAngle,this.counterClockwise),M.Utils.EQ_0(u.length)||t.push(u.clone())}return t}},{key:"tangentInStart",value:function(){var t=new M.Vector(this.pc,this.start),e=this.counterClockwise?Math.PI/2:-Math.PI/2;return t.rotate(e).normalize()}},{key:"tangentInEnd",value:function(){var t=new M.Vector(this.pc,this.end),e=this.counterClockwise?-Math.PI/2:Math.PI/2;return t.rotate(e).normalize()}},{key:"reverse",value:function(){return new M.Arc(this.pc,this.r,this.endAngle,this.startAngle,!this.counterClockwise)}},{key:"translate",value:function(){var t,e=this.clone();return e.pc=(t=this.pc).translate.apply(t,arguments),e}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new M.Point,n=new M.Matrix;return n=n.translate(e.x,e.y).rotate(t).translate(-e.x,-e.y),this.transform(n)}},{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new M.Matrix,e=this.start.transform(t),n=this.end.transform(t),i=this.pc.transform(t);return M.Arc.arcSE(i,e,n,this.counterClockwise)}},{key:"definiteIntegral",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.breakToFunctional().reduce(function(e,n){return e+n.circularSegmentDefiniteIntegral(t)},0)}},{key:"circularSegmentDefiniteIntegral",value:function(t){var e=new M.Line(this.start,this.end),n=this.pc.leftTo(e),i=new M.Segment(this.start,this.end).definiteIntegral(t),r=this.circularSegmentArea();return n?i-r:i+r}},{key:"circularSegmentArea",value:function(){return.5*this.r*this.r*(this.sweep-Math.sin(this.sweep))}},{key:"svg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.sweep<=Math.PI?"0":"1",n=this.counterClockwise?"1":"0",i=t.stroke,r=t.strokeWidth,a=t.fill,o=t.id,s=t.className,u=o&&o.length>0?'id="'.concat(o,'"'):"",c=s&&s.length>0?'class="'.concat(s,'"'):"";return M.Utils.EQ(this.sweep,2*Math.PI)?new M.Circle(this.pc,this.r).svg(t):'\n<path d="M'.concat(this.start.x,",").concat(this.start.y,"\n                             A").concat(this.r,",").concat(this.r," 0 ").concat(e,",").concat(n," ").concat(this.end.x,",").concat(this.end.y,'"\n                    stroke="').concat(i||"black",'" stroke-width="').concat(r||1,'" fill="').concat(a||"none",'" ').concat(u," ").concat(c," />")}},{key:"toJSON",value:function(){return Object.assign({},this,{name:"arc"})}},{key:"sweep",get:function(){return M.Utils.EQ(this.startAngle,this.endAngle)?0:M.Utils.EQ(Math.abs(this.startAngle-this.endAngle),M.PIx2)?M.PIx2:(t=this.counterClockwise?M.Utils.GT(this.endAngle,this.startAngle)?this.endAngle-this.startAngle:this.endAngle-this.startAngle+M.PIx2:M.Utils.GT(this.startAngle,this.endAngle)?this.startAngle-this.endAngle:this.startAngle-this.endAngle+M.PIx2,M.Utils.GT(t,M.PIx2)&&(t-=M.PIx2),M.Utils.LT(t,0)&&(t+=M.PIx2),t);var t}},{key:"start",get:function(){return new M.Point(this.pc.x+this.r,this.pc.y).rotate(this.startAngle,this.pc)}},{key:"end",get:function(){return new M.Point(this.pc.x+this.r,this.pc.y).rotate(this.endAngle,this.pc)}},{key:"center",get:function(){return this.pc.clone()}},{key:"vertices",get:function(){return[this.start.clone(),this.end.clone()]}},{key:"length",get:function(){return Math.abs(this.sweep*this.r)}},{key:"box",get:function(){var t=this.breakToFunctional().reduce(function(t,e){return t.merge(e.start.box)},new M.Box);return t=t.merge(this.end.box)}}],[{key:"arcSE",value:function(t,e,n,i){var r=M.vector,a=r(t,e).slope,o=r(t,n).slope;M.Utils.EQ(a,o)&&(o+=2*Math.PI,i=!0);var s=r(t,e).length;return new M.Arc(t,s,a,o,i)}},{key:"intersectArc2Arc",value:function(t,e){var n,i=[];if(t.box.not_intersect(e.box))return i;if(t.pc.equalTo(e.pc)&&M.Utils.EQ(t.r,e.r))return(n=t.start).on(e)&&i.push(n),(n=t.end).on(e)&&i.push(n),(n=e.start).on(t)&&i.push(n),(n=e.end).on(t)&&i.push(n),i;var r=new M.Circle(t.pc,t.r),a=new M.Circle(e.pc,e.r),o=r.intersect(a),s=!0,u=!1,c=void 0;try{for(var h,l=o[Symbol.iterator]();!(s=(h=l.next()).done);s=!0){var f=h.value;f.on(t)&&f.on(e)&&i.push(f)}}catch(d){u=!0,c=d}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}return i}},{key:"intersectArc2Circle",value:function(t,e){var n=[];if(t.box.not_intersect(e.box))return n;if(e.pc.equalTo(t.pc)&&M.Utils.EQ(e.r,t.r))return n.push(t.start),n.push(t.end),n;var i=e,r=new M.Circle(t.pc,t.r),a=i.intersect(r),o=!0,s=!1,u=void 0;try{for(var c,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var l=c.value;l.on(t)&&n.push(l)}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return n}}]),t}();M.Arc=$;var J=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Arc,e)};M.arc=J;var Z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Object(p.a)(this,t),this.xmin=e,this.ymin=n,this.xmax=i,this.ymax=r}return Object(y.a)(t,[{key:"clone",value:function(){return new t(this.xmin,this.ymin,this.xmax,this.ymax)}},{key:"not_intersect",value:function(t){return this.xmax<t.xmin||this.xmin>t.xmax||this.ymax<t.ymin||this.ymin>t.ymax}},{key:"intersect",value:function(t){return!this.not_intersect(t)}},{key:"merge",value:function(e){return new t(void 0===this.xmin?e.xmin:Math.min(this.xmin,e.xmin),void 0===this.ymin?e.ymin:Math.min(this.ymin,e.ymin),void 0===this.xmax?e.xmax:Math.max(this.xmax,e.xmax),void 0===this.ymax?e.ymax:Math.max(this.ymax,e.ymax))}},{key:"less_than",value:function(t){return!!this.low.lessThan(t.low)||!(!this.low.equalTo(t.low)||!this.high.lessThan(t.high))}},{key:"equal_to",value:function(t){return this.low.equalTo(t.low)&&this.high.equalTo(t.high)}},{key:"output",value:function(){return this.clone()}},{key:"set",value:function(t,e,n,i){this.xmin=t,this.ymin=e,this.xmax=n,this.ymax=i}},{key:"svg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stroke,n=t.strokeWidth,i=t.fill,r=t.id,a=t.className,o=r&&r.length>0?'id="'.concat(r,'"'):"",s=a&&a.length>0?'class="'.concat(a,'"'):"",u=this.xmax-this.xmin,c=this.ymax-this.ymin;return'\n<rect x="'.concat(this.xmin,'" y="').concat(this.ymin,'" width=').concat(u," height=").concat(c,' stroke="').concat(e||"black",'" stroke-width="').concat(n||1,'" fill="').concat(i||"none",'" ').concat(o," ").concat(s," />")}},{key:"low",get:function(){return new M.Point(this.xmin,this.ymin)}},{key:"high",get:function(){return new M.Point(this.xmax,this.ymax)}},{key:"max",get:function(){return this.clone()}},{key:"center",get:function(){return new M.Point((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)}}],[{key:"comparable_max",value:function(t,e){return t.merge(e)}},{key:"comparable_less_than",value:function(t,e){return t.lessThan(e)}}]),t}();M.Box=Z;M.box=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Box,e)};var K=function(t,e){if(t.box.not_intersect(e.box))return M.OUTSIDE;var n=new M.Ray(e),i=new M.Line(n.pt,n.norm),r=t.edges.search(n.box);if(0==r.length)return M.OUTSIDE;var a=[],o=!0,s=!1,u=void 0;try{for(var c,h=r[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var l=c.value,f=!0,d=!1,v=void 0;try{for(var p,y=n.intersect(l.shape)[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var g=p.value;if(g.equalTo(e))return M.BOUNDARY;a.push({pt:g,edge:l})}}catch(q){d=!0,v=q}finally{try{f||null==y.return||y.return()}finally{if(d)throw v}}}}catch(q){s=!0,u=q}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}a.sort(function(t,e){return C(t.pt.x,e.pt.x)?-1:A(t.pt.x,e.pt.x)?1:0});for(var m=0,_=0;_<a.length;_++){var b=a[_];if(b.pt.equalTo(b.edge.shape.start)){if(_>0&&b.pt.equalTo(a[_-1].pt)&&b.edge.prev===a[_-1].edge)continue;for(var w=b.edge.prev;j(w.length);)w=w.prev;var x=w.shape.tangentInEnd(),k=b.pt.translate(x),O=b.edge.shape.tangentInStart(),S=b.pt.translate(O),E=k.leftTo(i),T=S.leftTo(i);(E&&!T||!E&&T)&&m++}else if(b.pt.equalTo(b.edge.shape.end)){if(_>0&&b.pt.equalTo(a[_-1].pt)&&b.edge.next===a[_-1].edge)continue;for(var I=b.edge.next;j(I.length);)I=I.next;var L=I.shape.tangentInStart(),R=b.pt.translate(L),D=b.edge.shape.tangentInEnd(),N=b.pt.translate(D),F=R.leftTo(i),U=N.leftTo(i);(F&&!U||!F&&U)&&m++}else if(b.edge.shape instanceof M.Segment)m++;else{var B=b.edge.shape.box;P(b.pt.y,B.ymin)||P(b.pt.y,B.ymax)||m++}}return m%2==1?M.INSIDE:M.OUTSIDE},tt=function(){function t(e){Object(p.a)(this,t),this.shape=e,this.next,this.prev,this.face,this.arc_length=0,this.bvStart=void 0,this.bvEnd=void 0,this.bv=void 0,this.overlap=void 0}return Object(y.a)(t,[{key:"isSegment",value:function(){return this.shape instanceof M.Segment}},{key:"isArc",value:function(){return this.shape instanceof M.Arc}},{key:"middle",value:function(){return this.shape.middle()}},{key:"contains",value:function(t){return this.shape.contains(t)}},{key:"setInclusion",value:function(t){if(void 0!==this.bv)return this.bv;if(void 0===this.bvStart&&(this.bvStart=K(t,this.start)),void 0===this.bvEnd&&(this.bvEnd=K(t,this.end)),this.bvStart===M.OUTSIDE||this.bvEnd==M.OUTSIDE)this.bv=M.OUTSIDE;else if(this.bvStart===M.INSIDE||this.bvEnd==M.INSIDE)this.bv=M.INSIDE;else{var e=K(t,this.middle());this.bv=e}return this.bv}},{key:"setOverlap",value:function(t){var e=void 0,n=this.shape,i=t.shape;n instanceof M.Segment&&i instanceof M.Segment?n.start.equalTo(i.start)&&n.end.equalTo(i.end)?e=M.OVERLAP_SAME:n.start.equalTo(i.end)&&n.end.equalTo(i.start)&&(e=M.OVERLAP_OPPOSITE):n instanceof M.Arc&&i instanceof M.Arc?n.start.equalTo(i.start)&&n.end.equalTo(i.end)&&n.middle().equalTo(i.middle())?e=M.OVERLAP_SAME:n.start.equalTo(i.end)&&n.end.equalTo(i.start)&&n.middle().equalTo(i.middle())&&(e=M.OVERLAP_OPPOSITE):(n instanceof M.Segment&&i instanceof M.Arc||n instanceof M.Arc&&i instanceof M.Segment)&&(n.start.equalTo(i.start)&&n.end.equalTo(i.end)&&n.middle().equalTo(i.middle())?e=M.OVERLAP_SAME:n.start.equalTo(i.end)&&n.end.equalTo(i.start)&&n.middle().equalTo(i.middle())&&(e=M.OVERLAP_OPPOSITE)),void 0===this.overlap&&(this.overlap=e),void 0===t.overlap&&(t.overlap=e)}},{key:"svg",value:function(){if(this.shape instanceof M.Segment)return" L".concat(this.shape.end.x,",").concat(this.shape.end.y);if(this.shape instanceof M.Arc){var t,e=this.shape,n=e.counterClockwise?"1":"0";if(M.Utils.EQ(e.sweep,2*Math.PI)){var i=e.counterClockwise?1:-1,r=new M.Arc(e.pc,e.r,e.startAngle,e.startAngle+i*Math.PI,e.counterClockwise),a=new M.Arc(e.pc,e.r,e.startAngle+i*Math.PI,e.endAngle,e.counterClockwise);return t="0"," A".concat(r.r,",").concat(r.r," 0 ").concat(t,",").concat(n," ").concat(r.end.x,",").concat(r.end.y,"\n                    A").concat(a.r,",").concat(a.r," 0 ").concat(t,",").concat(n," ").concat(a.end.x,",").concat(a.end.y)}return t=e.sweep<=Math.PI?"0":"1"," A".concat(e.r,",").concat(e.r," 0 ").concat(t,",").concat(n," ").concat(e.end.x,",").concat(e.end.y)}}},{key:"toJSON",value:function(){return this.shape.toJSON()}},{key:"start",get:function(){return this.shape.start}},{key:"end",get:function(){return this.shape.end}},{key:"length",get:function(){return this.shape.length}},{key:"box",get:function(){return this.shape.box}}]),t}();M.Edge=tt;var et=function(t){function e(t){var n;Object(p.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this)))._box=void 0,n._orientation=void 0;for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if(0==r.length)return Object(u.a)(n);if(1==r.length)if(r[0]instanceof Array){var o=r[0];if(0==o.length)return Object(u.a)(n);if(o.every(function(t){return t instanceof M.Point})){var s=e.points2segments(o);n.shapes2face(t.edges,s)}else if(o.every(function(t){return t instanceof M.Segment||t instanceof M.Arc}))n.shapes2face(t.edges,o);else if(o.every(function(t){return"segment"===t.name||"arc"===t.name})){var h=[],l=!0,f=!1,d=void 0;try{for(var v,y=o[Symbol.iterator]();!(l=(v=y.next()).done);l=!0){var g=v.value,m=void 0;m="segment"===g.name?new M.Segment(g):new M.Arc(g),h.push(m)}}catch(T){f=!0,d=T}finally{try{l||null==y.return||y.return()}finally{if(f)throw d}}n.shapes2face(t.edges,h)}}else if(r[0]instanceof e){var _=r[0];n.first=_.first,n.last=_.last;var b=!0,w=!1,x=void 0;try{for(var k,O=_[Symbol.iterator]();!(b=(k=O.next()).done);b=!0){var S=k.value;t.edges.add(S)}}catch(T){w=!0,x=T}finally{try{b||null==O.return||O.return()}finally{if(w)throw x}}}else if(r[0]instanceof M.Circle)n.shapes2face(t.edges,[r[0].toArc(M.CCW)]);else if(r[0]instanceof M.Box){var E=r[0];n.shapes2face(t.edges,[new M.Segment(new M.Point(E.xmin,E.ymin),new M.Point(E.xmax,E.ymin)),new M.Segment(new M.Point(E.xmax,E.ymin),new M.Point(E.xmax,E.ymax)),new M.Segment(new M.Point(E.xmax,E.ymax),new M.Point(E.xmin,E.ymax)),new M.Segment(new M.Point(E.xmin,E.ymax),new M.Point(E.xmin,E.ymin))])}return 2==r.length&&r[0]instanceof M.Edge&&r[1]instanceof M.Edge&&(n.first=r[0],n.last=r[1],n.last.next=n.first,n.first.prev=n.last,n.setArcLength()),n}return Object(l.a)(e,t),Object(y.a)(e,[{key:"shapes2face",value:function(t,e){var n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,u=new M.Edge(s);this.append(t,u)}}catch(c){i=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}},{key:"append",value:function(t,n){Object(h.a)(Object(c.a)(e.prototype),"append",this).call(this,n),this.setOneEdgeArcLength(n),n.face=this,t.add(n)}},{key:"insert",value:function(t,n,i){Object(h.a)(Object(c.a)(e.prototype),"insert",this).call(this,n,i),this.setOneEdgeArcLength(n),n.face=this,t.add(n)}},{key:"remove",value:function(t,n){Object(h.a)(Object(c.a)(e.prototype),"remove",this).call(this,n),this.setArcLength(),t.delete(n)}},{key:"reverse",value:function(){var t=[],e=this.last;do{e.shape=e.shape.reverse(),t.push(e),e=e.prev}while(e!==this.last);this.first=void 0,this.last=void 0;for(var n=t,i=0;i<n.length;i++){var r=n[i];void 0===this.first?(r.prev=r,r.next=r,this.first=r,this.last=r):(r.prev=this.last,this.last.next=r,this.last=r,this.last.next=this.first,this.first.prev=this.last),this.setOneEdgeArcLength(r)}void 0!==this._orientation&&(this._orientation=void 0,this._orientation=this.orientation())}},{key:"setArcLength",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;this.setOneEdgeArcLength(a),a.face=this}}catch(o){e=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}}},{key:"setOneEdgeArcLength",value:function(t){t===this.first?t.arc_length=0:t.arc_length=t.prev.arc_length+t.prev.length}},{key:"area",value:function(){return Math.abs(this.signedArea())}},{key:"signedArea",value:function(){var t=0,e=this.box.ymin,n=!0,i=!1,r=void 0;try{for(var a,o=this[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){t+=a.value.shape.definiteIntegral(e)}}catch(s){i=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return t}},{key:"orientation",value:function(){if(void 0===this._orientation){var t=this.signedArea();M.Utils.EQ_0(t)?this._orientation=M.ORIENTATION.NOT_ORIENTABLE:M.Utils.LT(t,0)?this._orientation=M.ORIENTATION.CCW:this._orientation=M.ORIENTATION.CW}return this._orientation}},{key:"isSimple",value:function(t){return 0==e.getSelfIntersections(this,t,!0).length}},{key:"toJSON",value:function(){return this.edges.map(function(t){return t.toJSON()})}},{key:"svg",value:function(){var t="\nM".concat(this.first.start.x,",").concat(this.first.start.y),e=!0,n=!1,i=void 0;try{for(var r,a=this[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){t+=r.value.svg()}}catch(o){n=!0,i=o}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return t+=" z"}},{key:"edges",get:function(){return this.toArray()}},{key:"box",get:function(){if(void 0===this._box){var t=new M.Box,e=!0,n=!1,i=void 0;try{for(var r,a=this[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;t=t.merge(o.box)}}catch(s){n=!0,i=s}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}this._box=t}return this._box}}],[{key:"points2segments",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(new M.Segment(t[n],t[(n+1)%t.length]));return e}},{key:"getSelfIntersections",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=e.search(c.box),l=!0,f=!1,d=void 0;try{for(var v,p=h[Symbol.iterator]();!(l=(v=p.next()).done);l=!0){var y=v.value;if(c!==y&&(!(c.shape instanceof M.Segment&&y.shape instanceof M.Segment)||c.next!==y&&c.prev!==y)){var g=c.shape.intersect(y.shape),m=!0,_=!1,b=void 0;try{for(var w,x=g[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value;if((!k.equalTo(c.start)||!k.equalTo(y.end)||y!==c.prev)&&((!k.equalTo(c.end)||!k.equalTo(y.start)||y!==c.next)&&(i.push(k),n)))break}}catch(O){_=!0,b=O}finally{try{m||null==x.return||x.return()}finally{if(_)throw b}}if(i.length>0&&n)break}}}catch(O){f=!0,d=O}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}if(i.length>0&&n)break}}catch(O){a=!0,o=O}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return i}}]),e}(function(t){function e(t,n){var i;return Object(p.a)(this,e),(i=Object(u.a)(this,Object(c.a)(e).call(this,t,n))).setCircularLinks(),i}return Object(l.a)(e,t),Object(y.a)(e,[{key:"setCircularLinks",value:function(){this.isEmpty()||(this.last.next=this.first,this.first.prev=this.last)}},{key:Symbol.iterator,value:function(){var t=this,e=void 0;return{next:function(){var n=e||t.first,i=!t.first||!!e&&e===t.first;return e=n?n.next:void 0,{value:n,done:i}}}}},{key:"append",value:function(t){return Object(h.a)(Object(c.a)(e.prototype),"append",this).call(this,t),this.setCircularLinks(),this}},{key:"insert",value:function(t,n){return Object(h.a)(Object(c.a)(e.prototype),"insert",this).call(this,t,n),this.setCircularLinks(),this}},{key:"remove",value:function(t){return Object(h.a)(Object(c.a)(e.prototype),"remove",this).call(this,t),this}}]),e}(function(){function t(e,n){Object(p.a)(this,t),this.first=e,this.last=n||this.first}return Object(y.a)(t,[{key:Symbol.iterator,value:function(){var t=this,e=void 0;return{next:function(){return e=e?e.next:t.first,{value:e,done:void 0===e}}}}},{key:"toArray",value:function(){var t=[],e=!0,n=!1,i=void 0;try{for(var r,a=this[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;t.push(o)}}catch(s){n=!0,i=s}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return t}},{key:"append",value:function(t){return this.isEmpty()?this.first=t:(t.prev=this.last,this.last.next=t),this.last=t,this.last.next=void 0,this.first.prev=void 0,this}},{key:"insert",value:function(t,e){if(this.isEmpty())this.first=t,this.last=t;else{var n=e.next;e.next=t,n&&(n.prev=t),t.prev=e,t.next=n,this.last===e&&(this.last=t)}return this.last.next=void 0,this.first.prev=void 0,this}},{key:"remove",value:function(t){return t===this.first&&t===this.last?(this.first=void 0,this.last=void 0):(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this.first&&(this.first=t.next),t===this.last&&(this.last=t.prev)),this}},{key:"isEmpty",value:function(){return void 0===this.first}},{key:"size",get:function(){var t=0,e=!0,n=!1,i=void 0;try{for(var r,a=this[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){r.value;t++}}catch(o){n=!0,i=o}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return t}}]),t}()));M.Face=et;var nt=function(){function t(){Object(p.a)(this,t),this.pt=new M.Point;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(0!=n.length)if(1==n.length&&n[0]instanceof M.Point)this.pt=n[0].clone();else{if(2!=n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw M.Errors.ILLEGAL_PARAMETERS;this.pt=new M.Point(n[0],n[1])}}return Object(y.a)(t,[{key:"clone",value:function(){return new t(this.pt)}},{key:"intersect",value:function(t){return t instanceof M.Segment?this.intersectRay2Segment(this,t):t instanceof M.Arc?this.intersectRay2Arc(this,t):void 0}},{key:"intersectRay2Segment",value:function(t,e){var n=[];if(t.box.not_intersect(e.box))return n;var i=new M.Line(t.start,t.norm),r=i.intersect(e),a=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;M.Utils.GE(h.x,t.start.x)&&n.push(h)}}catch(l){o=!0,s=l}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return 2==r.length&&1==n.length&&t.start.on(i)&&n.push(t.start),n}},{key:"intersectRay2Arc",value:function(t,e){var n=[];if(t.box.not_intersect(e.box))return n;var i=new M.Line(t.start,t.norm).intersect(e),r=!0,a=!1,o=void 0;try{for(var s,u=i[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;M.Utils.GE(c.x,t.start.x)&&n.push(c)}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}},{key:"box",get:function(){return new M.Box(this.pt.x,this.pt.y,Number.POSITIVE_INFINITY,this.pt.y)}},{key:"start",get:function(){return this.pt}},{key:"norm",get:function(){return new M.Vector(0,1)}}]),t}();M.Ray=nt;M.ray=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(M.Ray,e)};var it=function(){function t(){Object(p.a)(this,t),this.faces=new M.PlanarSet,this.edges=new M.PlanarSet}return Object(y.a)(t,[{key:"isEmpty",value:function(){return 0===this.edges.size}},{key:"addFace",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=d(M.Face,[this].concat(e));return this.faces.add(i),i}},{key:"deleteFace",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;this.edges.delete(o)}}catch(s){n=!0,i=s}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return this.faces.delete(t)}},{key:"removeChain",value:function(t,e,n){if(n.next!==e){for(var i=e;i!==n.next;i=i.next)if(t.remove(this.edges,i),t.isEmpty()){this.deleteFace(t);break}}else this.deleteFace(t)}},{key:"addVertex",value:function(t,e){var n=e.shape.split(t);if(!(n.length<2)){var i=new M.Edge(n[0]),r=e.prev;return e.face.insert(this.edges,i,r),this.edges.delete(e),e.shape=n[1],this.edges.add(e),i}}},{key:"reverse",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.faces[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.reverse()}}catch(a){e=!0,n=a}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}return this}},{key:"clone",value:function(){var e=new t,n=!0,i=!1,r=void 0;try{for(var a,o=this.faces[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,u=[],c=!0,h=!1,l=void 0;try{for(var f,d=s[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;u.push(v.shape.clone())}}catch(p){h=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(h)throw l}}e.addFace(u)}}catch(p){i=!0,r=p}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}return e}},{key:"area",value:function(){var t=Object(s.a)(this.faces).reduce(function(t,e){return t+e.signedArea()},0);return Math.abs(t)}},{key:"contains",value:function(t){var e=K(this,t);return e==M.INSIDE||e==M.BOUNDARY}},{key:"distanceTo",value:function(t){if(t instanceof M.Point){var e=M.Distance.point2polygon(t,this),n=Object(o.a)(e,2),i=n[0],r=n[1];return[i,r=r.reverse()]}if(t instanceof M.Circle||t instanceof M.Line||t instanceof M.Segment||t instanceof M.Arc){var a=M.Distance.shape2polygon(t,this),s=Object(o.a)(a,2),u=s[0],c=s[1];return[u,c=c.reverse()]}if(t instanceof M.Polygon){var h,l,f=[Number.POSITIVE_INFINITY,new M.Segment],d=!0,v=!1,p=void 0;try{for(var y,g=this.edges[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var m=y.value,_=f[0],b=M.Distance.shape2planarSet(m.shape,t.edges,_),w=Object(o.a)(b,2);h=w[0],l=w[1],M.Utils.LT(h,_)&&(f=[h,l])}}catch(x){v=!0,p=x}finally{try{d||null==g.return||g.return()}finally{if(v)throw p}}return f}}},{key:"intersect",value:function(e){return e instanceof M.Point?this.contains(e)?[e]:[]:e instanceof M.Line?t.intersectLine2Polygon(e,this):e instanceof M.Circle||e instanceof M.Segment||e instanceof M.Arc?t.intersectShape2Polygon(e,this):e instanceof M.Polygon?t.intersectPolygon2Polygon(e,this):void 0}},{key:"isValid",value:function(){var t=!0,e=!0,n=!1,i=void 0;try{for(var r,a=this.faces[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){if(!r.value.isSimple(this.edges)){t=!1;break}}}catch(o){n=!0,i=o}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return t}},{key:"translate",value:function(e){var n=new t,i=!0,r=!1,a=void 0;try{for(var o,s=this.faces[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value,c=[],h=!0,l=!1,f=void 0;try{for(var d,v=u[Symbol.iterator]();!(h=(d=v.next()).done);h=!0){var p=d.value;c.push(p.shape.translate(e))}}catch(y){l=!0,f=y}finally{try{h||null==v.return||v.return()}finally{if(l)throw f}}n.addFace(c)}}catch(y){r=!0,a=y}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new M.Point,i=new t,r=!0,a=!1,o=void 0;try{for(var s,u=this.faces[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=[],l=!0,f=!1,d=void 0;try{for(var v,p=c[Symbol.iterator]();!(l=(v=p.next()).done);l=!0){var y=v.value;h.push(y.shape.rotate(e,n))}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}i.addFace(h)}}catch(g){a=!0,o=g}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return i}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new M.Matrix,n=new t,i=!0,r=!1,a=void 0;try{for(var o,s=this.faces[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value,c=[],h=!0,l=!1,f=void 0;try{for(var d,v=u[Symbol.iterator]();!(h=(d=v.next()).done);h=!0){var p=d.value;c.push(p.shape.transform(e))}}catch(y){l=!0,f=y}finally{try{h||null==v.return||v.return()}finally{if(l)throw f}}n.addFace(c)}}catch(y){r=!0,a=y}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}},{key:"svg",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stroke,n=t.strokeWidth,i=t.fill,r=t.fillRule,a=t.fillOpacity,o=t.id,s=t.className,u=o&&o.length>0?'id="'.concat(o,'"'):"",c=s&&s.length>0?'class="'.concat(s,'"'):"",h='\n<path stroke="'.concat(e||"black",'" stroke-width="').concat(n||1,'" fill="').concat(i||"lightcyan",'" fill-rule="').concat(r||"evenodd",'" fill-opacity="').concat(a||1,'" ').concat(u," ").concat(c,' d="'),l=!0,f=!1,d=void 0;try{for(var v,p=this.faces[Symbol.iterator]();!(l=(v=p.next()).done);l=!0){h+=v.value.svg()}}catch(y){f=!0,d=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}return h+='" >\n</path>'}},{key:"toJSON",value:function(){return Object(s.a)(this.faces).map(function(t){return t.toJSON()})}},{key:"box",get:function(){return Object(s.a)(this.faces).reduce(function(t,e){return t.merge(e.box)},new M.Box)}},{key:"vertices",get:function(){return Object(s.a)(this.edges).map(function(t){return t.start})}}],[{key:"intersectShape2Polygon",value:function(t,e){var n=[];if(e.isEmpty()||t.box.not_intersect(e.box))return n;var i=e.edges.search(t.box),r=!0,a=!1,o=void 0;try{for(var s,u=i[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=!0,l=!1,f=void 0;try{for(var d,v=t.intersect(c.shape)[Symbol.iterator]();!(h=(d=v.next()).done);h=!0){var p=d.value;n.push(p)}}catch(y){l=!0,f=y}finally{try{h||null==v.return||v.return()}finally{if(l)throw f}}}}catch(y){a=!0,o=y}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}},{key:"intersectLine2Polygon",value:function(t,e){var n=[];if(e.isEmpty())return n;var i=!0,r=!1,a=void 0;try{for(var o,s=e.edges[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value,c=!0,h=!1,l=void 0;try{for(var f,d=t.intersect(u.shape)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;n.push(v)}}catch(p){h=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(h)throw l}}}}catch(p){r=!0,a=p}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}},{key:"intersectPolygon2Polygon",value:function(e,n){var i=[];if(e.isEmpty()||n.isEmpty())return i;if(e.box.not_intersect(n.box))return i;var r=!0,a=!1,o=void 0;try{for(var s,u=e.edges[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=!0,l=!1,f=void 0;try{for(var d,v=t.intersectShape2Polygon(c.shape,n)[Symbol.iterator]();!(h=(d=v.next()).done);h=!0){var p=d.value;i.push(p)}}catch(y){l=!0,f=y}finally{try{h||null==v.return||v.return()}finally{if(l)throw f}}}}catch(y){a=!0,o=y}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return i}}]),t}();M.Polygon=it;var rt=function(){function t(){Object(p.a)(this,t)}return Object(y.a)(t,null,[{key:"point2point",value:function(t,e){return t.distanceTo(e)}},{key:"point2line",value:function(t,e){var n=t.projectionOn(e);return[new M.Vector(t,n).length,new M.Segment(t,n)]}},{key:"point2circle",value:function(t,e){var n=t.distanceTo(e.center),i=Object(o.a)(n,2),r=i[0];i[1];if(M.Utils.EQ_0(r))return[e.r,new M.Segment(t,e.toArc().start)];var a=Math.abs(r-e.r),s=new M.Vector(e.pc,t).normalize().multiply(e.r),u=e.pc.translate(s);return[a,new M.Segment(t,u)]}},{key:"point2segment",value:function(e,n){if(n.start.equalTo(n.end))return t.point2point(e,n.start);var i,r,a=new M.Vector(n.start,n.end),o=new M.Vector(n.start,e),s=new M.Vector(n.end,e),u=a.dot(o),c=-a.dot(s);if(M.Utils.GE(u,0)&&M.Utils.GE(c,0)){var h=n.tangentInStart();return i=Math.abs(h.cross(o)),r=n.start.translate(h.multiply(h.dot(o))),[i,new M.Segment(e,r)]}return u<0?e.distanceTo(n.start):e.distanceTo(n.end)}},{key:"point2arc",value:function(e,n){var i=new M.Circle(n.pc,n.r),r=[],a=t.point2circle(e,i),s=Object(o.a)(a,2);return s[0],s[1].end.on(n)&&r.push(t.point2circle(e,i)),r.push(t.point2point(e,n.start)),r.push(t.point2point(e,n.end)),t.sort(r),r[0]}},{key:"segment2line",value:function(e,n){var i=e.intersect(n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=[];return r.push(t.point2line(e.start,n)),r.push(t.point2line(e.end,n)),t.sort(r),r[0]}},{key:"segment2segment",value:function(e,n){var i=M.Segment.intersectSegment2Segment(e,n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=[];return r.push(t.point2segment(n.start,e)),r.push(t.point2segment(n.end,e)),r.push(t.point2segment(e.start,n)),r.push(t.point2segment(e.end,n)),t.sort(r),r[0]}},{key:"segment2circle",value:function(e,n){var i=e.intersect(n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=new M.Line(e.ps,e.pe),a=t.point2line(n.center,r),s=Object(o.a)(a,2),u=s[0],c=s[1];if(M.Utils.GE(u,n.r)&&c.end.on(e))return t.point2circle(c.end,n);var h=t.point2circle(e.start,n),l=Object(o.a)(h,2),f=l[0],d=l[1],v=t.point2circle(e.end,n),p=Object(o.a)(v,2),y=p[0],g=p[1];return M.Utils.LT(f,y)?[f,d]:[y,g]}},{key:"segment2arc",value:function(e,n){var i=e.intersect(n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=new M.Line(e.ps,e.pe),a=new M.Circle(n.pc,n.r),s=t.point2line(a.center,r),u=Object(o.a)(s,2),c=u[0],h=u[1];if(M.Utils.GE(c,a.r)&&h.end.on(e)){var l=t.point2circle(h.end,a),f=Object(o.a)(l,2),d=f[0],v=f[1];if(v.end.on(n))return[d,v]}var p,y,g=[];g.push(t.point2arc(e.start,n)),g.push(t.point2arc(e.end,n));var m=t.point2segment(n.start,e),_=Object(o.a)(m,2);p=_[0],y=_[1],g.push([p,y.reverse()]);var b=t.point2segment(n.end,e),w=Object(o.a)(b,2);return p=w[0],y=w[1],g.push([p,y.reverse()]),t.sort(g),g[0]}},{key:"circle2circle",value:function(e,n){var i=e.intersect(n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];if(e.center.equalTo(n.center)){var r=e.toArc(),a=n.toArc();return t.point2point(r.start,a.start)}var o=new M.Line(e.center,n.center),s=o.intersect(e),u=o.intersect(n),c=[];return c.push(t.point2point(s[0],u[0])),c.push(t.point2point(s[0],u[1])),c.push(t.point2point(s[1],u[0])),c.push(t.point2point(s[1],u[1])),t.sort(c),c[0]}},{key:"circle2line",value:function(e,n){var i=e.intersect(n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=t.point2line(e.center,n),a=Object(o.a)(r,2),s=(a[0],a[1]),u=t.point2circle(s.end,e),c=Object(o.a)(u,2),h=c[0],l=c[1];return[h,l=l.reverse()]}},{key:"arc2line",value:function(e,n){var i=n.intersect(e);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=new M.Circle(e.center,e.r),a=t.point2line(r.center,n),s=Object(o.a)(a,2),u=s[0],c=s[1];if(!M.Utils.GE(u,r.r)){var h=[];return h.push(t.point2line(e.start,n)),h.push(t.point2line(e.end,n)),t.sort(h),h[0]}var l=t.point2circle(c.end,r),f=Object(o.a)(l,2),d=f[0],v=f[1];return v.end.on(e)?[d,v]:void 0}},{key:"arc2circle",value:function(e,n){var i=e.intersect(n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=new M.Circle(e.center,e.r),a=t.circle2circle(r,n),s=Object(o.a)(a,2),u=s[0],c=s[1];if(c.start.on(e))return[u,c];var h=[];return h.push(t.point2circle(e.start,n)),h.push(t.point2circle(e.end,n)),t.sort(h),h[0]}},{key:"arc2arc",value:function(e,n){var i=e.intersect(n);if(i.length>0)return[0,new M.Segment(i[0],i[0])];var r=new M.Circle(e.center,e.r),a=new M.Circle(n.center,n.r),s=t.circle2circle(r,a),u=Object(o.a)(s,2),c=u[0],h=u[1];if(h.start.on(e)&&h.end.on(n))return[c,h];var l,f,d=[],v=t.point2arc(e.start,n),p=Object(o.a)(v,2);l=p[0],(f=p[1]).end.on(n)&&d.push([l,f]);var y=t.point2arc(e.end,n),g=Object(o.a)(y,2);l=g[0],(f=g[1]).end.on(n)&&d.push([l,f]);var m=t.point2arc(n.start,e),_=Object(o.a)(m,2);l=_[0],(f=_[1]).end.on(e)&&d.push([l,f.reverse()]);var b=t.point2arc(n.end,e),w=Object(o.a)(b,2);l=w[0],(f=w[1]).end.on(e)&&d.push([l,f.reverse()]);var x=t.point2point(e.start,n.start),k=Object(o.a)(x,2);l=k[0],f=k[1],d.push([l,f]);var O=t.point2point(e.start,n.end),S=Object(o.a)(O,2);l=S[0],f=S[1],d.push([l,f]);var E=t.point2point(e.end,n.start),T=Object(o.a)(E,2);l=T[0],f=T[1],d.push([l,f]);var j=t.point2point(e.end,n.end),P=Object(o.a)(j,2);return l=P[0],f=P[1],d.push([l,f]),t.sort(d),d[0]}},{key:"point2polygon",value:function(e,n){var i=[Number.POSITIVE_INFINITY,new M.Segment],r=!0,a=!1,s=void 0;try{for(var u,c=n.edges[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var h=u.value,l=h.shape instanceof M.Segment?t.point2segment(e,h.shape):t.point2arc(e,h.shape),f=Object(o.a)(l,2),d=f[0],v=f[1];M.Utils.LT(d,i[0])&&(i=[d,v])}}catch(p){a=!0,s=p}finally{try{r||null==c.return||c.return()}finally{if(a)throw s}}return i}},{key:"shape2polygon",value:function(t,e){var n=[Number.POSITIVE_INFINITY,new M.Segment],i=!0,r=!1,a=void 0;try{for(var s,u=e.edges[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,h=t.distanceTo(c.shape),l=Object(o.a)(h,2),f=l[0],d=l[1];M.Utils.LT(f,n[0])&&(n=[f,d])}}catch(v){r=!0,a=v}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}return n}},{key:"polygon2polygon",value:function(t,e){var n=[Number.POSITIVE_INFINITY,new M.Segment],i=!0,r=!1,a=void 0;try{for(var s,u=t.edges[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,h=!0,l=!1,f=void 0;try{for(var d,v=e.edges[Symbol.iterator]();!(h=(d=v.next()).done);h=!0){var p=d.value,y=c.shape.distanceTo(p.shape),g=Object(o.a)(y,2),m=g[0],_=g[1];M.Utils.LT(m,n[0])&&(n=[m,_])}}catch(b){l=!0,f=b}finally{try{h||null==v.return||v.return()}finally{if(l)throw f}}}}catch(b){r=!0,a=b}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}return n}},{key:"box2box_minmax",value:function(t,e){var n=Math.max(Math.max(t.xmin-e.xmax,0),Math.max(e.xmin-t.xmax,0)),i=Math.max(Math.max(t.ymin-e.ymax,0),Math.max(e.ymin-t.ymax,0)),r=n*n+i*i,a=t.merge(e),o=a.xmax-a.xmin,s=a.ymax-a.ymin;return[r,o*o+s*s]}},{key:"minmax_tree_process_level",value:function(e,n,i,r){var a,u,c=!0,h=!1,l=void 0;try{for(var f,d=n[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value,p=t.box2box_minmax(e.box,v.item.key),y=Object(o.a)(p,2);a=y[0],u=y[1],v.item.value instanceof M.Edge?r.insert([a,u],v.item.value.shape):r.insert([a,u],v.item.value),M.Utils.LT(u,i)&&(i=u)}}catch(b){h=!0,l=b}finally{try{c||null==d.return||d.return()}finally{if(h)throw l}}if(0===n.length)return i;var g=n.map(function(t){return t.left.isNil()?void 0:t.left}).filter(function(t){return void 0!==t}),m=n.map(function(t){return t.right.isNil()?void 0:t.right}).filter(function(t){return void 0!==t}),_=[].concat(Object(s.a)(g),Object(s.a)(m)).filter(function(n){var r=t.box2box_minmax(e.box,n.max),a=Object(o.a)(r,2),s=a[0];a[1];return M.Utils.LE(s,i)});return i=t.minmax_tree_process_level(e,_,i,r)}},{key:"minmax_tree",value:function(e,n,i){var r=new B,a=[n.index.root],o=i<Number.POSITIVE_INFINITY?i*i:Number.POSITIVE_INFINITY;return o=t.minmax_tree_process_level(e,a,o,r),r}},{key:"minmax_tree_calc_distance",value:function(e,n,i){var r,a;if(null!=n&&!n.isNil()){var s=t.minmax_tree_calc_distance(e,n.left,i),u=Object(o.a)(s,2);if(r=u[0],a=u[1])return[r,a];if(M.Utils.LT(r[0],Math.sqrt(n.item.key.low)))return[r,!0];var c=t.distance(e,n.item.value),h=Object(o.a)(c,2),l=h[0],f=h[1];M.Utils.LT(l,r[0])&&(r=[l,f]);var d=t.minmax_tree_calc_distance(e,n.right,r),v=Object(o.a)(d,2);return[r=v[0],a=v[1]]}return[i,!1]}},{key:"shape2planarSet",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY,r=[i,new M.Segment];if(n instanceof M.PlanarSet){var a=t.minmax_tree(e,n,i),s=t.minmax_tree_calc_distance(e,a.root,r),u=Object(o.a)(s,2);r=u[0],u[1]}return r}},{key:"sort",value:function(t){t.sort(function(t,e){return M.Utils.LT(t[0],e[0])?-1:M.Utils.GT(t[0],e[0])?1:0})}},{key:"distance",value:function(t,e){return t.distanceTo(e)}}]),t}();M.Distance=rt;e.t=M},function(t,e,n){"use strict";var i=n(39),r=n(57),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return null!==t&&"object"===typeof t}function u(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isUndefined:function(t){return"undefined"===typeof t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:c,merge:function t(){var e={};function n(n,i){"object"===typeof e[i]&&"object"===typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,function(e,r){t[r]=n&&"function"===typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r=n(0),a=n(21),o=n.n(a),s=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),u=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});var c=function(t){var e;void 0===t&&(t="store");var n=t+"Subscription",a=function(e){i(o,e);var a=o.prototype;function o(n,i){var r;return(r=e.call(this,n,i)||this)[t]=n.store,r}return a.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},a.render=function(){return r.Children.only(this.props.children)},o}(r.Component);return a.propTypes={store:u.isRequired,children:o.a.element.isRequired},a.childContextTypes=((e={})[t]=u.isRequired,e[n]=s,e),a}();function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function f(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}var d=n(49),v=n.n(d),p=n(22),y=n.n(p),g=n(35),m=null,_={notify:function(){}};var b=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=_}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var t=[],e=[];return{clear:function(){e=m,t=m},notify:function(){for(var n=t=e,i=0;i<n.length;i++)n[i]()},get:function(){return e},subscribe:function(n){var i=!0;return e===t&&(e=t.slice()),e.push(n),function(){i&&t!==m&&(i=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=_)},t}(),w=0,x={};function k(){}function O(t,e){var n,a;void 0===e&&(e={});var o=e,c=o.getDisplayName,d=void 0===c?function(t){return"ConnectAdvanced("+t+")"}:c,p=o.methodName,m=void 0===p?"connectAdvanced":p,_=o.renderCountProp,O=void 0===_?void 0:_,S=o.shouldHandleStateChanges,E=void 0===S||S,T=o.storeKey,j=void 0===T?"store":T,P=o.withRef,A=void 0!==P&&P,C=f(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),I=j+"Subscription",L=w++,M=((n={})[j]=u,n[I]=s,n),R=((a={})[I]=s,a);return function(e){y()(Object(g.isValidElementType)(e),"You must pass a component to the function returned by "+m+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",a=d(n),o=l({},C,{getDisplayName:d,methodName:m,renderCountProp:O,shouldHandleStateChanges:E,storeKey:j,withRef:A,displayName:a,wrappedComponentName:n,WrappedComponent:e}),s=function(n){function s(t,e){var i;return(i=n.call(this,t,e)||this).version=L,i.state={},i.renderCount=0,i.store=t[j]||e[j],i.propsMode=Boolean(t[j]),i.setWrappedInstance=i.setWrappedInstance.bind(h(h(i))),y()(i.store,'Could not find "'+j+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+j+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}i(s,n);var u=s.prototype;return u.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[I]=e||this.context[I],t},u.componentDidMount=function(){E&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(t){this.selector.run(t)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=k,this.store=null,this.selector.run=k,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return y()(A,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},u.setWrappedInstance=function(t){this.wrappedInstance=t},u.initSelector=function(){var e=t(this.store.dispatch,o);this.selector=function(t,e){var n={run:function(i){try{var r=t(e.getState(),i);(r!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=r,n.error=null)}catch(a){n.shouldComponentUpdate=!0,n.error=a}}};return n}(e,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(E){var t=(this.propsMode?this.props:this.context)[I];this.subscription=new b(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(t){if(!A&&!O&&(!this.propsMode||!this.subscription))return t;var e=l({},t);return A&&(e.ref=this.setWrappedInstance),O&&(e[O]=this.renderCount++),this.propsMode&&this.subscription&&(e[I]=this.subscription),e},u.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(r.createElement)(e,this.addExtraProps(t.props))},s}(r.Component);return s.WrappedComponent=e,s.displayName=a,s.childContextTypes=R,s.contextTypes=M,s.propTypes=M,v()(s,e)}}var S=Object.prototype.hasOwnProperty;function E(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function T(t,e){if(E(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!S.call(e,n[r])||!E(t[n[r]],e[n[r]]))return!1;return!0}var j=n(31);function P(t){return function(e,n){var i=t(e,n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function A(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function C(t,e){return function(e,n){n.displayName;var i=function(t,e){return i.dependsOnOwnProps?i.mapToProps(t,e):i.mapToProps(t)};return i.dependsOnOwnProps=!0,i.mapToProps=function(e,n){i.mapToProps=t,i.dependsOnOwnProps=A(t);var r=i(e,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=A(r),r=i(e,n)),r},i}}var I=[function(t){return"function"===typeof t?C(t):void 0},function(t){return t?void 0:P(function(t){return{dispatch:t}})},function(t){return t&&"object"===typeof t?P(function(e){return Object(j.b)(t,e)}):void 0}];var L=[function(t){return"function"===typeof t?C(t):void 0},function(t){return t?void 0:P(function(){return{}})}];function M(t,e,n){return l({},n,t,e)}var R=[function(t){return"function"===typeof t?function(t){return function(e,n){n.displayName;var i,r=n.pure,a=n.areMergedPropsEqual,o=!1;return function(e,n,s){var u=t(e,n,s);return o?r&&a(u,i)||(i=u):(o=!0,i=u),i}}}(t):void 0},function(t){return t?void 0:function(){return M}}];function D(t,e,n,i){return function(r,a){return n(t(r,a),e(i,a),a)}}function N(t,e,n,i,r){var a,o,s,u,c,h=r.areStatesEqual,l=r.areOwnPropsEqual,f=r.areStatePropsEqual,d=!1;function v(r,d){var v=!l(d,o),p=!h(r,a);return a=r,o=d,v&&p?(s=t(a,o),e.dependsOnOwnProps&&(u=e(i,o)),c=n(s,u,o)):v?(t.dependsOnOwnProps&&(s=t(a,o)),e.dependsOnOwnProps&&(u=e(i,o)),c=n(s,u,o)):p?function(){var e=t(a,o),i=!f(e,s);return s=e,i&&(c=n(s,u,o)),c}():c}return function(r,h){return d?v(r,h):(s=t(a=r,o=h),u=e(i,o),c=n(s,u,o),d=!0,c)}}function F(t,e){var n=e.initMapStateToProps,i=e.initMapDispatchToProps,r=e.initMergeProps,a=f(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(t,a),s=i(t,a),u=r(t,a);return(a.pure?N:D)(o,s,u,t,a)}function U(t,e,n){for(var i=e.length-1;i>=0;i--){var r=e[i](t);if(r)return r}return function(e,i){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function B(t,e){return t===e}var q=function(t){var e=void 0===t?{}:t,n=e.connectHOC,i=void 0===n?O:n,r=e.mapStateToPropsFactories,a=void 0===r?L:r,o=e.mapDispatchToPropsFactories,s=void 0===o?I:o,u=e.mergePropsFactories,c=void 0===u?R:u,h=e.selectorFactory,d=void 0===h?F:h;return function(t,e,n,r){void 0===r&&(r={});var o=r,u=o.pure,h=void 0===u||u,v=o.areStatesEqual,p=void 0===v?B:v,y=o.areOwnPropsEqual,g=void 0===y?T:y,m=o.areStatePropsEqual,_=void 0===m?T:m,b=o.areMergedPropsEqual,w=void 0===b?T:b,x=f(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=U(t,a,"mapStateToProps"),O=U(e,s,"mapDispatchToProps"),S=U(n,c,"mergeProps");return i(d,l({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:k,initMapDispatchToProps:O,initMergeProps:S,pure:h,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:_,areMergedPropsEqual:w},x))}}();n.d(e,"a",function(){return c}),n.d(e,"b",function(){return q})},function(t,e,n){"use strict";var i=n(3);function r(t,e,n){return(r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(i.a)(t)););return t}(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}n.d(e,"a",function(){return r})},function(t,e,n){t.exports=n(47)()},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r,a,o,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,a,o,s],h=0;(u=new Error(e.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";var r=n(1),a=n(2),o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(r.a)(this,t),this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=n,this.cancelable=i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}return Object(a.a)(t,[{key:"preventDefault",value:function(){return this.defaultPrevented=this.cancelable,this}},{key:"stopPropagation",value:function(){return this.propagationStopped=!0,this}},{key:"stopImmediatePropagation",value:function(){return this.immediatePropagationStopped=this.propagationStopped=!0,this}},{key:"remove",value:function(){return this.removed=!0,this}},{key:"clone",value:function(){var e=new t(this.type,this.bubbles,this.cancelable);for(var n in this)this.hasOwnProperty(n)&&(e[n]=this[n]);return e}},{key:"set",value:function(t){for(var e in t)this[e]=t[e];return this}},{key:"toString",value:function(){return"[".concat(this.constructor.name," (type=").concat(this.type,")]")}}]),t}(),s=function(){function t(){Object(r.a)(this,t),this._listeners=null,this._captureListeners=null}return Object(a.a)(t,null,[{key:"initialize",value:function(e){var n=t.prototype;e.addEventListener=n.addEventListener,e.on=n.on,e.removeEventListener=e.off=n.removeEventListener,e.removeAllEventListeners=n.removeAllEventListeners,e.hasEventListener=n.hasEventListener,e.dispatchEvent=n.dispatchEvent,e._dispatchEvent=n._dispatchEvent,e.willTrigger=n.willTrigger}}]),Object(a.a)(t,[{key:"addEventListener",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return r&&(this.removeEventListener(t,e,i),r=n[t]),r?r.push(e):n[t]=[e],e}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,r),i&&t.remove()},a)}},{key:"removeEventListener",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this._captureListeners:this._listeners;if(n){var i=n[t];if(i)for(var r=i.length,a=0;a<r;a++)if(i[a]===e){1===r?delete n[t]:i.splice(a,1);break}}}},{key:"off",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.removeEventListener(t,e,n)}},{key:"removeAllEventListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null}},{key:"dispatchEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"===typeof t){var i=this._listeners;if(!e&&(!i||!i[t]))return!0;t=new o(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(c){}if(t.bubbles&&this.parent){for(var r=this,a=[r];r.parent;)a.push(r=r.parent);var s,u=a.length;for(s=u-1;s>=0&&!t.propagationStopped;s--)a[s]._dispatchEvent(t,1+(0==s));for(s=1;s<u&&!t.propagationStopped;s++)a[s]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented}},{key:"hasEventListener",value:function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])}},{key:"willTrigger",value:function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1}},{key:"toString",value:function(){return"[".concat(this.constructor.name+this.name?" ".concat(this.name):"","]")}},{key:"_dispatchEvent",value:function(t,e){var n=1===e?this._captureListeners:this._listeners;if(t&&n){var i,r=n[t.type];if(!r||0===(i=r.length))return;try{t.currentTarget=this}catch(s){}try{t.eventPhase=e}catch(s){}t.removed=!1,r=r.slice();for(var a=0;a<i&&!t.immediatePropagationStopped;a++){var o=r[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1===e),t.removed=!1)}}}}]),t}(),u=n(5),c=n(3),h=n(20),l=n(4),f=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).name=t,n.timingMode=e.TIMEOUT,n.maxDelta=0,n.paused=!1,n._inited=!1,n._startTime=0,n._pausedTime=0,n._ticks=0,n._pausedTicks=0,n._interval=50,n._lastTime=0,n._times=null,n._tickTimes=null,n._timerId=null,n._raf=!0,n}return Object(l.a)(e,t),Object(a.a)(e,null,[{key:"RAF_SYNCHED",get:function(){return"synched"}},{key:"RAF",get:function(){return"raf"}},{key:"TIMEOUT",get:function(){return"timeout"}}]),Object(a.a)(e,[{key:"init",value:function(){this._inited||(this._inited=!0,this._times=[],this._tickTimes=[],this._startTime=this._getTime(),this._times.push(this._lastTime=0),this._setupTick())}},{key:"reset",value:function(){if(this._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(this._timerId)}else clearTimeout(this._timerId);this.removeAllEventListeners("tick"),this._timerId=this._times=this._tickTimes=null,this._startTime=this._lastTime=this._ticks=0,this._inited=!1}},{key:"addEventListener",value:function(t,n,i){return!this._inited&&this.init(),Object(h.a)(Object(c.a)(e.prototype),"addEventListener",this).call(this,t,n,i)}},{key:"getMeasuredTickTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._tickTimes;return!e||e.length<1?-1:(t=Math.min(e.length,t||0|this.framerate),e.reduce(function(t,e){return t+e},0)/t)}},{key:"getMeasuredFPS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._times;return!e||e.length<2?-1:(t=Math.min(e.length-1,t||0|this.framerate),1e3/((e[0]-e[t])/t))}},{key:"getTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._startTime?this._getTime()-(t?this._pausedTime:0):-1}},{key:"getEventTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._startTime?(this._lastTime||this._startTime)-(t?this._pausedTime:0):-1}},{key:"getTicks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._ticks-(t?this._pausedTicks:0)}},{key:"_handleSynch",value:function(){this._timerId=null,this._setupTick(),this._getTime()-this._lastTime>=.97*(this._interval-1)&&this._tick()}},{key:"_handleRAF",value:function(){this._timerId=null,this._setupTick(),this._tick()}},{key:"_handleTimeout",value:function(){this._timerId=null,this._setupTick(),this._tick()}},{key:"_setupTick",value:function(){if(null==this._timerId){var t=this.timingMode||this._raf&&e.RAF;if(t===e.RAF_SYNCHED||t===e.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return this._timerId=n(t===e.RAF?this._handleRAF.bind(this):this._handleSynch.bind(this)),void(this._raf=!0)}this._raf=!1,this._timerId=setTimeout(this._handleTimeout.bind(this),this._interval)}}},{key:"_tick",value:function(){var t=this.paused,e=this._getTime(),n=e-this._lastTime;if(this._lastTime=e,this._ticks++,t&&(this._pausedTicks++,this._pausedTime+=n),this.hasEventListener("tick")){var i=new o("tick"),r=this.maxDelta;i.delta=r&&n>r?r:n,i.paused=t,i.time=e,i.runTime=e-this._pausedTime,this.dispatchEvent(i)}for(this._tickTimes.unshift(this._getTime()-e);this._tickTimes.length>100;)this._tickTimes.pop();for(this._times.unshift(e);this._times.length>100;)this._times.pop()}},{key:"_getTime",value:function(){var t=window.performance&&window.performance.now;return(t&&t.call(performance)||(new Date).getTime())-this._startTime}},{key:"interval",get:function(){return this._interval},set:function(t){this._interval=t,this._inited&&this._setupTick()}},{key:"framerate",get:function(){return 1e3/this._interval},set:function(t){this.interval=1e3/t}}],[{key:"on",value:function(t,e,n,i,r,a){return v.on(t,e,n,i,r,a)}},{key:"removeEventListener",value:function(t,e,n){v.removeEventListener(t,e,n)}},{key:"off",value:function(t,e,n){v.off(t,e,n)}},{key:"removeAllEventListeners",value:function(t){v.removeAllEventListeners(t)}},{key:"dispatchEvent",value:function(t,e,n){return v.dispatchEvent(t,e,n)}},{key:"hasEventListener",value:function(t){return v.hasEventListener(t)}},{key:"willTrigger",value:function(t){return v.willTrigger(t)}},{key:"toString",value:function(){return v.toString()}},{key:"init",value:function(){v.init()}},{key:"reset",value:function(){v.reset()}},{key:"addEventListener",value:function(t,e,n){v.addEventListener(t,e,n)}},{key:"getMeasuredTickTime",value:function(t){return v.getMeasuredTickTime(t)}},{key:"getMeasuredFPS",value:function(t){return v.getMeasuredFPS(t)}},{key:"getTime",value:function(t){return v.getTime(t)}},{key:"getEventTime",value:function(t){return v.getEventTime(t)}},{key:"getTicks",value:function(t){return v.getTicks(t)}},{key:"interval",get:function(){return v.interval},set:function(t){v.interval=t}},{key:"framerate",get:function(){return v.framerate},set:function(t){v.framerate=t}},{key:"name",get:function(){return v.name},set:function(t){v.name=t}},{key:"timingMode",get:function(){return v.timingMode},set:function(t){v.timingMode=t}},{key:"maxDelta",get:function(){return v.maxDelta},set:function(t){v.maxDelta=t}},{key:"paused",get:function(){return v.paused},set:function(t){v.paused=t}}]),e}(s),d=f,v=new f("createjs.global"),p=function t(){throw Object(r.a)(this,t),new Error("\n\t\t\tStageGL is not currently supported on the EaselJS 2.0 branch.\n\t\t\tEnd of Q1 2018 is targetted for StageGL support.\n\t\t\tFollow @CreateJS on Twitter for updates.\n\t\t")},y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"black",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(r.a)(this,t),this.color=e,this.offsetX=n,this.offsetY=i,this.blur=a}return Object(a.a)(t,[{key:"toString",value:function(){return"[".concat(this.constructor.name,"]")}},{key:"clone",value:function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)}}]),t}();y.identity=new y("transparent");var g=0;var m=function(){function t(e,n){Object(r.a)(this,t),this.setValues(e,n)}return Object(a.a)(t,[{key:"setValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t,this.y=e,this}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"[".concat(this.constructor.name," (x=").concat(this.x," y=").concat(this.y,")]")}}]),t}(),_=function(){function t(e,n,i,a,o,s){Object(r.a)(this,t),this.setValues(e,n,i,a,o,s)}return Object(a.a)(t,[{key:"setValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a,this}},{key:"append",value:function(t,e,n,i,r,a){var o=this.a,s=this.b,u=this.c,c=this.d;return 1==t&&0==e&&0==n&&1==i||(this.a=o*t+u*e,this.b=s*t+c*e,this.c=o*n+u*i,this.d=s*n+c*i),this.tx=o*r+u*a+this.tx,this.ty=s*r+c*a+this.ty,this}},{key:"prepend",value:function(t,e,n,i,r,a){var o=this.a,s=this.c,u=this.tx;return this.a=t*o+n*this.b,this.b=e*o+i*this.b,this.c=t*s+n*this.d,this.d=e*s+i*this.d,this.tx=t*u+n*this.ty+r,this.ty=e*u+i*this.ty+a,this}},{key:"appendMatrix",value:function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)}},{key:"prependMatrix",value:function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)}},{key:"appendTransform",value:function(e,n,i,r,a,o,s,u,c){var h,l,f;return a%360?(h=a*t.DEG_TO_RAD,l=Math.cos(h),f=Math.sin(h)):(l=1,f=0),o||s?(o*=t.DEG_TO_RAD,s*=t.DEG_TO_RAD,this.append(Math.cos(s),Math.sin(s),-Math.sin(o),Math.cos(o),e,n),this.append(l*i,f*i,-f*r,l*r,0,0)):this.append(l*i,f*i,-f*r,l*r,e,n),(u||c)&&(this.tx-=u*this.a+c*this.c,this.ty-=u*this.b+c*this.d),this}},{key:"prependTransform",value:function(e,n,i,r,a,o,s,u,c){var h,l,f;return a%360?(h=a*t.DEG_TO_RAD,l=Math.cos(h),f=Math.sin(h)):(l=1,f=0),(u||c)&&(this.tx-=u,this.ty-=c),o||s?(o*=t.DEG_TO_RAD,s*=t.DEG_TO_RAD,this.prepend(l*i,f*i,-f*r,l*r,0,0),this.prepend(Math.cos(s),Math.sin(s),-Math.sin(o),Math.cos(o),e,n)):this.prepend(l*i,f*i,-f*r,l*r,e,n),this}},{key:"rotate",value:function(e){e*=t.DEG_TO_RAD;var n=Math.cos(e),i=Math.sin(e),r=this.a,a=this.b;return this.a=r*n+this.c*i,this.b=a*n+this.d*i,this.c=-r*i+this.c*n,this.d=-a*i+this.d*n,this}},{key:"skew",value:function(e,n){return e*=t.DEG_TO_RAD,n*=t.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0),this}},{key:"scale",value:function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this}},{key:"translate",value:function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this}},{key:"identity",value:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this}},{key:"invert",value:function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,a=t*i-e*n;return this.a=i/a,this.b=-e/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*r)/a,this.ty=-(t*this.ty-e*r)/a,this}},{key:"isIdentity",value:function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d}},{key:"equals",value:function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d}},{key:"transformPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new m;return n.x=t*this.a+e*this.c+this.tx,n.y=t*this.b+e*this.d+this.ty,n}},{key:"decompose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a);return Math.abs(1-n/i)<1e-5?(e.rotation=i/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=i/t.DEG_TO_RAD),e}},{key:"copy",value:function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)}},{key:"clone",value:function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)}},{key:"toString",value:function(){return"[".concat(this.constructor.name," (a=").concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,")]")}}]),t}();_.DEG_TO_RAD=Math.PI/180,_.identity=new _;var b=function(){function t(e,n,i,a,o){Object(r.a)(this,t),this.setValues(e,n,i,a,o)}return Object(a.a)(t,[{key:"setValues",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return this.visible=t,this.alpha=e,this.shadow=n,this.compositeOperation=i,this.matrix=r||this.matrix&&this.matrix.identity()||new _,this}},{key:"append",value:function(t,e,n,i,r){return this.alpha*=e,this.shadow=n||this.shadow,this.compositeOperation=i||this.compositeOperation,this.visible=this.visible&&t,r&&this.matrix.appendMatrix(r),this}},{key:"prepend",value:function(t,e,n,i,r){return this.alpha*=e,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||i,this.visible=this.visible&&t,r&&this.matrix.prependMatrix(r),this}},{key:"identity",value:function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this}},{key:"clone",value:function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())}}]),t}(),w=function(){function t(e,n,i,a){Object(r.a)(this,t),this.setValues(e,n,i,a)}return Object(a.a)(t,[{key:"setValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.x=t,this.y=e,this.width=n,this.height=i,this}},{key:"extend",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t+n>this.x+this.width&&(this.width=t+n-this.x),e+i>this.y+this.height&&(this.height=e+i-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this}},{key:"pad",value:function(t,e,n,i){return this.x-=e,this.y-=t,this.width+=e+i,this.height+=t+n,this}},{key:"copy",value:function(t){return this.setValues(t.x,t.y,t.width,t.height)}},{key:"contains",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t>=this.x&&t+n<=this.x+this.width&&e>=this.y&&e+i<=this.y+this.height}},{key:"union",value:function(t){return this.clone().extend(t.x,t.y,t.width,t.height)}},{key:"intersection",value:function(e){var n=e.x,i=e.y,r=n+e.width,a=i+e.height;return this.x>n&&(n=this.x),this.y>i&&(i=this.y),this.x+this.width<r&&(r=this.x+this.width),this.y+this.height<a&&(a=this.y+this.height),r<=n||a<=i?null:new t(n,i,r-n,a-i)}},{key:"intersects",value:function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height}},{key:"isEmpty",value:function(){return this.width<=0||this.height<=0}},{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"toString",value:function(){return"[".concat(this.constructor.name," (x=").concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,")]")}}]),t}(),x=function(){function t(){Object(r.a)(this,t),this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}return Object(a.a)(t,[{key:"getBounds",value:function(t){}},{key:"shaderParamSetup",value:function(t,e,n){}},{key:"applyFilter",value:function(t,e,n,i,r,a,o,s){a=a||t,null==o&&(o=e),null==s&&(s=n);try{var u=t.getImageData(e,n,i,r);if(this._applyFilter(u))return a.putImageData(u,o,s),!0}catch(c){}return!1}},{key:"toString",value:function(){return"[".concat(this.constructor.name,"]")}},{key:"clone",value:function(){return new t}},{key:"_applyFilter",value:function(t){}}]),t}(),k=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).width=void 0,t.height=void 0,t.x=void 0,t.y=void 0,t.scale=1,t.offX=0,t.offY=0,t.cacheID=0,t._filterOffX=0,t._filterOffY=0,t._cacheDataURLID=0,t._cacheDataURL=null,t._drawWidth=0,t._drawHeight=0,t._boundRect=new w,t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"define",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;if(!t)throw"No symbol to cache";this._options=o,this._useWebGL=void 0!==o,this.target=t,this.width=i>=1?i:1,this.height=r>=1?r:1,this.x=e,this.y=n,this.scale=a,this.update()}},{key:"update",value:function(t){if(!this.target)throw"define() must be called before update()";var n=e.getFilterBounds(this.target),i=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+n.width,this._drawHeight=Math.ceil(this.height*this.scale)+n.height,i&&this._drawWidth==i.width&&this._drawHeight==i.height||this._updateSurface(),this._filterOffX=n.x,this._filterOffY=n.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(t),this.cacheID=this.cacheID?this.cacheID+1:1}},{key:"release",value:function(){var t=this.target.stage;this._useWebGL&&this._webGLCache?(this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1):t instanceof p&&t.releaseTexture(this.target.cacheCanvas),this.target=this.target.cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1}},{key:"getCacheDataURL",value:function(){var t=this.target&&this.target.cacheCanvas;return t?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=t.toDataURL?t.toDataURL():null),this._cacheDataURL):null}},{key:"draw",value:function(t){return!!this.target&&(t.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0)}},{key:"getBounds",value:function(){var t=this.scale;return this._boundRect.setValue(this._filterOffX/t,this._filterOffY/t,this.width/t,this.height/t)}},{key:"_updateSurface",value:function(){var t;if(!this._useWebGL)return(t=this.target.cacheCanvas)||(t=this.target.cacheCanvas=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),t.width=this._drawWidth,void(t.height=this._drawHeight);if(!this._webGLCache)if("stage"===this._options.useGL){if(null==this.target.stage||!this.target.stage.isWebGL)throw"Cannot use 'stage' for cache because the object's parent stage is ".concat(null!=this.target.stage?"non WebGL.":"not set, please addChild to the correct stage.");this.target.cacheCanvas=!0,this._webGLCache=this.target.stage}else{if("new"!==this._options.useGL)throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;this.target.cacheCanvas=document.createElement("canvas"),this._webGLCache=new p(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0}var e=this._webGLCache;t=this.target.cacheCanvas,e.isCacheControlled&&(t.width=this._drawWidth,t.height=this._drawHeight,e.updateViewport(this._drawWidth,this._drawHeight)),this.target.filters?(e.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),e.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):e.isCacheControlled||e.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)}},{key:"_drawToCache",value:function(t){var e=this.target,n=e.cacheCanvas,i=this._webGLCache;if(!this._useWebGL||!i){var r=n.getContext("2d");return t||r.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),r.save(),r.globalCompositeOperation=t,r.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),r.translate(-this.x,-this.y),e.draw(r,!0),r.restore(),e.filters&&e.filters.length&&this._applyFilters(e),void(n._invalid=!0)}this._webGLCache.cacheDraw(e,e.filters,this),(n=this.target.cacheCanvas).width=this._drawWidth,n.height=this._drawHeight,n._invalid=!0}},{key:"_applyFilters",value:function(){for(var t=this.target.cacheCanvas,e=this.target.filters,n=this._drawWidth,i=this._drawHeight,r=t.getContext("2d").getImageData(0,0,n,i),a=e.length,o=0;o<a;o++)e[o]._applyFilter(r);t.getContext("2d").putImageData(r,0,0)}}],[{key:"getFilterBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new w,n=t.filters,i=n&&n.length;if(!!i<=0)return e;for(var r=0;r<i;r++){var a=n[r];if(a&&a.getBounds){var o=a.getBounds();o&&(0==r?e.setValues(o.x,o.y,o.width,o.height):e.extend(o.x,o.y,o.width,o.height))}}return e}}]),e}(x),O=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).alpha=1,t.cacheCanvas=null,t.bitmapCache=null,t.id=g++,t.mouseEnabled=!0,t.tickEnabled=!0,t.name=null,t.parent=null,t.regX=0,t.regY=0,t.rotation=0,t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.shadow=null,t.visible=!0,t.x=0,t.y=0,t.transformMatrix=null,t.compositeOperation=null,t.snapToPixel=!0,t.filters=null,t.mask=null,t.hitArea=null,t.cursor=null,t._props=new b,t._rectangle=new w,t._bounds=null,t._webGLRenderStyle=e._StageGL_NONE,t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"isVisible",value:function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)}},{key:"draw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.drawCache(t,e)}},{key:"drawCache",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.bitmapCache;return!(!n||e)&&n.draw(t)}},{key:"updateContext",value:function(t){var n=this,i=n.mask,r=n._props.matrix;i&&i.graphics&&!i.graphics.isEmpty()&&(i.getMatrix(r),t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),i.graphics.drawAsPath(t),t.clip(),r.invert(),t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty)),this.getMatrix(r);var a=r.tx,o=r.ty;e._snapToPixelEnabled&&n.snapToPixel&&(a=a+(a<0?-.5:.5)|0,o=o+(o<0?-.5:.5)|0),t.transform(r.a,r.b,r.c,r.d,a,o),t.globalAlpha*=n.alpha,n.compositeOperation&&(t.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(t,n.shadow)}},{key:"cache",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;this.bitmapCache||(this.bitmapCache=new k),this.bitmapCache.define(this,t,e,n,i,r,a)}},{key:"updateCache",value:function(t){if(!this.bitmapCache)throw"No cache found. cache() must be called before updateCache()";this.bitmapCache.update(t)}},{key:"uncache",value:function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)}},{key:"getCacheDataURL",value:function(){return this.bitmapCache?this.bitmapCache.getDataURL():null}},{key:"localToGlobal",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new m;return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,n)}},{key:"globalToLocal",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new m;return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,n)}},{key:"localToLocal",value:function(t,e,n,i){return i=this.localToGlobal(t,e,i),n.globalToLocal(i.x,i.y,i)}},{key:"setTransform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.x=t,this.y=e,this.scaleX=n,this.scaleY=i,this.rotation=r,this.skewX=a,this.skewY=o,this.regX=s,this.regY=u,this}},{key:"getMatrix",value:function(t){var e=this,n=t&&t.identity()||new _;return e.transformMatrix?n.copy(e.transformMatrix):n.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)}},{key:"getConcatenatedMatrix",value:function(t){for(var e=this,n=this.getMatrix(t);e=e.parent;)n.prependMatrix(e.getMatrix(e._props.matrix));return n}},{key:"getConcatenatedDisplayProps",value:function(t){t=t?t.identity():new b;var e=this,n=e.getMatrix(t.matrix);do{t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&n.prependMatrix(e.getMatrix(e._props.matrix))}while(e=e.parent);return t}},{key:"hitTest",value:function(t,n){var i=e._hitTestContext;i.setTransform(1,0,0,1,-t,-n),this.draw(i);var r=this._testHit(i);return i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),r}},{key:"set",value:function(t){for(var e in t)this[e]=t[e];return this}},{key:"getBounds",value:function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null}},{key:"getTransformedBounds",value:function(){return this._getBounds()}},{key:"setBounds",value:function(t,e,n,i){null==t&&(this._bounds=null),this._bounds=(this._bounds||new w).setValues(t,e,n,i)}},{key:"clone",value:function(){return this._cloneProps(new e)}},{key:"toString",value:function(){return"[".concat(this.constructor.name).concat(this.name?" (name=".concat(this.name,")"):"","]")}},{key:"_cloneProps",value:function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t}},{key:"_applyShadow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.identity;e=e,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur}},{key:"_tick",value:function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))}},{key:"_testHit",value:function(t){try{return t.getImageData(0,0,1,1).data[3]>1}catch(n){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";return!1}}},{key:"_getBounds",value:function(t,e){return this._transformBounds(this.getBounds(),t,e)}},{key:"_transformBounds",value:function(t,e,n){if(!t)return t;var i=t.x,r=t.y,a=t.width,o=t.height,s=this._props.matrix;s=n?s.identity():this.getMatrix(s),(i||r)&&s.appendTransform(0,0,1,1,0,0,0,-i,-r),e&&s.prependMatrix(e);var u=a*s.a,c=a*s.b,h=o*s.c,l=o*s.d,f=s.tx,d=s.ty,v=f,p=f,y=d,g=d;return(i=u+f)<v?v=i:i>p&&(p=i),(i=u+h+f)<v?v=i:i>p&&(p=i),(i=h+f)<v?v=i:i>p&&(p=i),(r=c+d)<y?y=r:r>g&&(g=r),(r=c+l+d)<y?y=r:r>g&&(g=r),(r=l+d)<y?y=r:r>g&&(g=r),t.setValues(v,y,p-v,g-y)}},{key:"_hasMouseEventListener",value:function(){for(var t=e._MOUSE_EVENTS,n=0,i=t.length;n<i;n++)if(this.hasEventListener(t[n]))return!0;return!!this.cursor}},{key:"stage",get:function(){for(var t=this;t.parent;)t=t.parent;return/^\[Stage(GL)?(\s\(name=\w+\))?\]$/.test(t.toString())?t:null}},{key:"scale",set:function(t){this.scaleX=this.scaleY=t},get:function(){return this.scaleX}}]),e}(s),S=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");S.getContext&&(O._hitTestCanvas=S,O._hitTestContext=S.getContext("2d"),S.width=S.height=1),O._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],O.suppressCrossDomainErrors=!1,O.snapToPixelEnabled=!1,O._StageGL_NONE=0,O._StageGL_SPRITE=1,O._StageGL_BITMAP=2;var E=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).children=[],t.mouseChildren=!0,t.tickChildren=!0,t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"isVisible",value:function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)}},{key:"draw",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(h.a)(Object(c.a)(e.prototype),"draw",this).call(this,t,n))return!0;for(var i=this.children.slice(),r=0,a=i.length;r<a;r++){var o=i[r];o.isVisible()&&(t.save(),o.updateContext(t),o.draw(t),t.restore())}return!0}},{key:"addChild",value:function(){var t=arguments.length;if(0===t)return null;var e=arguments.length<=0?void 0:arguments[0];if(t>1){for(var n=0;n<t;n++)e=this.addChild(n<0||arguments.length<=n?void 0:arguments[n]);return e}var i=e.parent,r=i===this;return i&&i._removeChildAt(i.children.indexOf(e),r),e.parent=this,this.children.push(e),r||e.dispatchEvent("added"),e}},{key:"addChildAt",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.length;if(0===i)return null;var r=e.pop();if(r<0||r>this.children.length)return e[i-2];if(i>2){for(var a=0;a<i-1;a++)this.addChildAt(e[a],r++);return e[i-2]}var o=e[0],s=o.parent,u=s===this;return s&&s._removeChildAt(s.children.indexOf(o),u),o.parent=this,this.children.splice(r++,0,o),u||o.dispatchEvent("added"),o}},{key:"removeChild",value:function(){var t=arguments.length;if(0===t)return!0;if(t>1){for(var e=!0,n=0;n<t;n++)e=e&&this.removeChild(n<0||arguments.length<=n?void 0:arguments[n]);return e}return this._removeChildAt(this.children.indexOf(arguments.length<=0?void 0:arguments[0]))}},{key:"removeChildAt",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.length;if(0===i)return!0;if(i>1){e.sort(function(t,e){return e-t});for(var r=!0,a=0;a<i;a++)r=r&&this._removeChildAt(e[a]);return r}return this._removeChildAt(e[0])}},{key:"removeAllChildren",value:function(){for(var t=this.children;t.length;)this._removeChildAt(0)}},{key:"getChildAt",value:function(t){return this.children[t]}},{key:"getChildByName",value:function(t){for(var e=this.children,n=e.length,i=0;i<n;i++)if(e[i].name===t)return e[i];return null}},{key:"sortChildren",value:function(t){this.children.sort(t)}},{key:"getChildIndex",value:function(t){return this.children.indexOf(t)}},{key:"swapChildrenAt",value:function(t,e){var n=this.children,i=n[t],r=n[e];i&&r&&(n[t]=r,n[e]=i)}},{key:"swapChildren",value:function(t,e){for(var n,i,r=this.children,a=r.length,o=0;o<a&&(r[o]===t&&(n=o),r[o]===e&&(i=o),null==n||null==i);o++);o!==a&&(r[n]=e,r[i]=t)}},{key:"setChildIndex",value:function(t,e){var n=this.children,i=n.length;if(!(t.parent!=this||e<0||e>=i)){for(var r=0;r<i&&n[r]!==t;r++);r!==i&&r!==e&&(n.splice(r,1),n.splice(e,0,t))}}},{key:"contains",value:function(t){for(;t;){if(t===this)return!0;t=t.parent}return!1}},{key:"hitTest",value:function(t,e){return null!=this.getObjectUnderPoint(t,e)}},{key:"getObjectsUnderPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,i,n>0,1===n),i}},{key:"getObjectUnderPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y,null,n>0,1===n)}},{key:"getBounds",value:function(){return this._getBounds(null,!0)}},{key:"getTransformedBounds",value:function(){return this._getBounds()}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._cloneProps(new e);return t&&this._cloneChildren(n),n}},{key:"_tick",value:function(t){if(this.tickChildren)for(var n=this.children.length-1;n>=0;n--){var i=this.children[n];i.tickEnabled&&i._tick&&i._tick(t)}Object(h.a)(Object(c.a)(e.prototype),"_tick",this).call(this,t)}},{key:"_cloneChildren",value:function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,n=this.children.length,i=0;i<n;i++){var r=this.children[i].clone(!0);r.parent=t,e.push(r)}}},{key:"_removeChildAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t<0||t>this.children.length-1)return!1;var n=this.children[t];return n&&(n.parent=null),this.children.splice(t,1),e||n.dispatchEvent("removed"),!0}},{key:"_getObjectsUnderPoint",value:function(t,n,i,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!o&&!this._testMask(this,t,n))return null;var s,u=O._hitTestContext;a=a||r&&this._hasMouseEventListener();for(var c=this.children,h=c.length-1;h>=0;h--){var l=c[h],f=l.hitArea;if(l.visible&&(f||l.isVisible())&&(!r||l.mouseEnabled)&&(f||this._testMask(l,t,n)))if(!f&&l instanceof e){var d=l._getObjectsUnderPoint(t,n,i,r,a,o+1);if(!i&&d)return r&&!this.mouseChildren?this:d}else{if(r&&!a&&!l._hasMouseEventListener())continue;var v=l.getConcatenatedDisplayProps(l._props);if(s=v.matrix,f&&(s.appendMatrix(f.getMatrix(f._props.matrix)),v.alpha=f.alpha),u.globalAlpha=v.alpha,u.setTransform(s.a,s.b,s.c,s.d,s.tx-t,s.ty-n),(f||l).draw(u),!this._testHit(u))continue;if(u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,2,2),!i)return r&&!this.mouseChildren?this:l;i.push(l)}}return null}},{key:"_testMask",value:function(t,e,n){var i=t.mask;if(!i||!i.graphics||i.graphics.isEmpty())return!0;var r=this._props.matrix,a=t.parent;r=a?a.getConcatenatedMatrix(r):r.identity(),r=i.getMatrix(i._props.matrix).prependMatrix(r);var o=O._hitTestContext;return o.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-n),i.graphics.drawAsPath(o),o.fillStyle="#000",o.fill(),!!this._testHit(o)&&(o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,2,2),!0)}},{key:"_getBounds",value:function(t,n){var i=Object(h.a)(Object(c.a)(e.prototype),"getBounds",this).call(this);if(i)return this._transformBounds(i,t,n);var r=this._props.matrix;r=n?r.identity():this.getMatrix(r),t&&r.prependMatrix(t);for(var a=this.children.length,o=null,s=0;s<a;s++){var u=this.children[s];u.visible&&(i=u._getBounds(r))&&(o?o.extend(i.x,i.y,i.width,i.height):o=i.clone())}return o}},{key:"numChildren",get:function(){return this.children.length}}]),e}(O),T=function(t){function e(t,n,i,a,o,s,h,l,f,d,v){var p;return Object(r.a)(this,e),(p=Object(u.a)(this,Object(c.a)(e).call(this,t,n,i))).stageX=a,p.stageY=o,p.rawX=null==f?a:f,p.rawY=null==d?o:d,p.nativeEvent=s,p.pointerID=h,p.primary=!!l,p.relatedTarget=v,p}return Object(l.a)(e,t),Object(a.a)(e,[{key:"clone",value:function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)}},{key:"toString",value:function(){return"[".concat(this.constructor.name," (type=").concat(this.type," stageX=").concat(this.stageX," stageY=").concat(this.stageY,")]")}},{key:"localX",get:function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x}},{key:"localY",get:function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y}},{key:"isTouch",get:function(){return-1!==this.pointerID}}]),e}(o),j=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).autoClear=!0,n.canvas="string"===typeof t?document.getElementById(t):t,n.mouseX=0,n.mouseY=0,n.drawRect=null,n.snapToPixelEnabled=!1,n.mouseInBounds=!1,n.tickOnUpdate=!0,n.mouseMoveOutside=!1,n.preventSelection=!0,n._pointerData={},n._pointerCount=0,n._primaryPointerID=null,n._mouseOverIntervalID=null,n._nextStage=null,n._prevStage=null,n.enableDOMEvents(!0),n}return Object(l.a)(e,t),Object(a.a)(e,[{key:"update",value:function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),!1!==this.dispatchEvent("drawstart",!1,!0))){O._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(e?n.clearRect(e.x,e.y,e.width,e.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}}},{key:"tick",value:function(t){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var e=new o("tick");if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);this._tick(e),this.dispatchEvent("tickend")}}},{key:"handleEvent",value:function(t){"tick"===t.type&&this.update(t)}},{key:"clear",value:function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}}},{key:"toDataURL",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",i=this.canvas.getContext("2d"),r=this.canvas.width,a=this.canvas.height;if(t){e=i.getImageData(0,0,r,a);var o=i.globalCompositeOperation;i.globalCompositeOperation="destination-over",i.fillStyle=t,i.fillRect(0,0,r,a)}var s=this.canvas.toDataURL(n);return t&&(i.putImageData(e,0,0),i.globalCompositeOperation=o),s}},{key:"enableMouseOver",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0===e&&this._testMouseOver(!0)),e<=0||(this._mouseOverIntervalID=setInterval(function(){return t._testMouseOver()},1e3/Math.min(50,e)))}},{key:"enableDOMEvents",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._eventListeners;if(!e&&n){for(var i in n){var r=n[i];r.t.removeEventListener(i,r.f,!1)}this._eventListeners=null}else if(e&&!n&&this.canvas){var a=window.addEventListener?window:document;for(var o in n=this._eventListeners={mouseup:{t:a,f:function(e){return t._handleMouseUp(e)}},mousemove:{t:a,f:function(e){return t._handleMouseMove(e)}},dblclick:{t:this.canvas,f:function(e){return t._handleDoubleClick(e)}},mousedown:{t:this.canvas,f:function(e){return t._handleMouseDown(e)}}}){var s=n[o];s.t.addEventListener&&s.t.addEventListener(o,s.f,!1)}}}},{key:"clone",value:function(){throw"Stage cannot be cloned."}},{key:"_getElementRect",value:function(t){var e;try{e=t.getBoundingClientRect()}catch(c){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),i=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,a=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),o=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),s=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),u=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:e.left+n+a,right:e.right+n-s,top:e.top+i+o,bottom:e.bottom+i-u}}},{key:"_getPointerData",value:function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e}},{key:"_handleMouseMove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;this._handlePointerMove(-1,t,t.pageX,t.pageY)}},{key:"_handlePointerMove",value:function(t,e,n,i,r){if((!this._prevStage||void 0!==r)&&this.canvas){var a=this._nextStage,o=this._getPointerData(t),s=o.inBounds;this._updatePointerPosition(t,e,n,i),(s||o.inBounds||this.mouseMoveOutside)&&(-1===t&&o.inBounds===!s&&this._dispatchMouseEvent(this,s?"mouseleave":"mouseenter",!1,t,o,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,o,e),this._dispatchMouseEvent(o.target,"pressmove",!0,t,o,e)),a&&a._handlePointerMove(t,e,n,i,null)}}},{key:"_updatePointerPosition",value:function(t,e,n,i){var r=this._getElementRect(this.canvas);n-=r.left,i-=r.top;var a=this.canvas.width,o=this.canvas.height;n/=(r.right-r.left)/a,i/=(r.bottom-r.top)/o;var s=this._getPointerData(t);(s.inBounds=n>=0&&i>=0&&n<=a-1&&i<=o-1)?(s.x=n,s.y=i):this.mouseMoveOutside&&(s.x=n<0?0:n>a-1?a-1:n,s.y=i<0?0:i>o-1?o-1:i),s.posEvtObj=e,s.rawX=n,s.rawY=i,t!==this._primaryPointerID&&-1!==t||(this.mouseX=s.x,this.mouseY=s.y,this.mouseInBounds=s.inBounds)}},{key:"_handleMouseUp",value:function(t){this._handlePointerUp(-1,t,!1)}},{key:"_handlePointerUp",value:function(t,e,n,i){var r=this._nextStage,a=this._getPointerData(t);if(!this._prevStage||void 0!==i){var o=null,s=a.target;i||!s&&!r||(o=this._getObjectsUnderPoint(a.x,a.y,null,!0)),a.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,a,e,o),a.down=!1),o===s&&this._dispatchMouseEvent(s,"click",!0,t,a,e),this._dispatchMouseEvent(s,"pressup",!0,t,a,e),n?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):a.target=null,r&&r._handlePointerUp(t,e,n,i||o&&this)}}},{key:"_handleMouseDown",value:function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)}},{key:"_handlePointerDown",value:function(t,e,n,i,r){this.preventSelection&&e.preventDefault(),null!=this._primaryPointerID&&-1!==t||(this._primaryPointerID=t),null!=i&&this._updatePointerPosition(t,e,n,i);var a=null,o=this._nextStage,s=this._getPointerData(t);r||(a=s.target=this._getObjectsUnderPoint(s.x,s.y,null,!0)),s.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,s,e,a),s.down=!0),this._dispatchMouseEvent(a,"mousedown",!0,t,s,e),o&&o._handlePointerDown(t,e,n,i,r||a&&this)}},{key:"_testMouseOver",value:function(t,e,n){if(!this._prevStage||void 0!==e){var i=this._nextStage;if(this._mouseOverIntervalID){var r=this._getPointerData(-1);if(r&&(t||this.mouseX!==this._mouseOverX||this.mouseY!==this._mouseOverY||!this.mouseInBounds)){var a=r.posEvtObj,o=n||a&&a.target===this.canvas,s=null,u=-1,c="";!e&&(t||this.mouseInBounds&&o)&&(s=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);for(var h=this._mouseOverTarget||[],l=h[h.length-1],f=this._mouseOverTarget=[],d=s;d;)f.unshift(d),c||(c=d.cursor),d=d.parent;this.canvas.style.cursor=c,!e&&n&&(n.canvas.style.cursor=c);for(var v=0,p=f.length;v<p&&f[v]==h[v];v++)u=v;l!=s&&this._dispatchMouseEvent(l,"mouseout",!0,-1,r,a,s);for(var y=h.length-1;y>u;y--)this._dispatchMouseEvent(h[y],"rollout",!1,-1,r,a,s);for(var g=f.length-1;g>u;g--)this._dispatchMouseEvent(f[g],"rollover",!1,-1,r,a,l);l!=s&&this._dispatchMouseEvent(s,"mouseover",!0,-1,r,a,l),i&&i._testMouseOver(t,e||s&&this,n||o&&this)}}else i&&i._testMouseOver(t,e,n)}}},{key:"_handleDoubleClick",value:function(t,e){var n=null,i=this._nextStage,r=this._getPointerData(-1);e||(n=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,r,t)),i&&i._handleDoubleClick(t,e||n&&this)}},{key:"_dispatchMouseEvent",value:function(t,e,n,i,r,a,o){if(t&&(n||t.hasEventListener(e))){var s=new T(e,n,!1,r.x,r.y,a,i,i===this._primaryPointerID||-1===i,r.rawX,r.rawY,o);t.dispatchEvent(s)}}},{key:"nextStage",get:function(){return this._nextStage},set:function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t}}]),e}(E);function P(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(void 0!==window.createjs&&void 0!==window.createjs.createCanvas&&(t=window.createjs.createCanvas()),void 0!==window.document&&void 0!==window.document.createElement&&(t=document.createElement("canvas")),void 0!==t)return t.width=e,t.height=n,t;throw"Canvas not supported in this environment."}var A=function(){function t(e){Object(r.a)(this,t),this.readyState=e.readyState,this._video=e,this._canvas=null,this._lastTime=-1,this.readyState<2&&e.addEventListener("canplaythrough",this._videoReady.bind(this))}return Object(a.a)(t,[{key:"getImage",value:function(){if(!(this.readyState<2)){var t=this._canvas,e=this._video;if(t||((t=this._canvas=P()).width=e.videoWidth,t.height=e.videoHeight),e.readyState>=2&&e.currentTime!==this._lastTime){var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.drawImage(e,0,0,t.width,t.height),this._lastTime=e.currentTime}return t}}},{key:"_videoReady",value:function(){this.readyState=2}}]),t}(),C=function(t){function e(t){var n;return Object(r.a)(this,e),n=Object(u.a)(this,Object(c.a)(e).call(this)),"string"===typeof t?(n.image=document.createElement("img"),n.image.src=t):n.image=t,n.sourceRect=null,n._webGLRenderStyle=O._StageGL_BITMAP,n}return Object(l.a)(e,t),Object(a.a)(e,[{key:"isVisible",value:function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)}},{key:"draw",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(h.a)(Object(c.a)(e.prototype),"draw",this).call(this,t,n))return!0;var i=this.image,r=this.sourceRect;if(i instanceof A&&(i=i.getImage()),null==i)return!0;if(r){var a=r.x,o=r.y,s=a+r.width,u=o+r.height,l=0,f=0,d=i.width,v=i.height;a<0&&(l-=a,a=0),s>d&&(s=d),o<0&&(f-=o,o=0),u>v&&(u=v),t.drawImage(i,a,o,s-a,u-o,l,f,s-a,u-o)}else t.drawImage(i,0,0);return!0}},{key:"getBounds",value:function(){var t=Object(h.a)(Object(c.a)(e.prototype),"getBounds",this).call(this);if(t)return t;var n=this.image,i=this.sourceRect||n;return n&&(n.naturalWidth||n.getContext||n.readyState>=2)?this._rectangle.setValues(0,0,i.width,i.height):null}},{key:"clone",value:function(t){var n=this.image;null!=n&&null!=t&&(n=n.cloneNode());var i=new e(n);return this.sourceRect&&(i.sourceRect=this.sourceRect.clone()),this._cloneProps(i),i}}]),e}(O),I=function(t){function e(t,n){var i;return Object(r.a)(this,e),(i=Object(u.a)(this,Object(c.a)(e).call(this))).currentFrame=0,i.currentAnimation=null,i.paused=!0,i.spriteSheet=t,i.currentAnimationFrame=0,i.framerate=0,i._animation=null,i._currentFrame=null,i._skipAdvance=!1,i._webGLRenderStyle=O._StageGL_SPRITE,null!=n&&i.gotoAndPlay(n),i}return Object(l.a)(e,t),Object(a.a)(e,[{key:"isVisible",value:function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)}},{key:"draw",value:function(t,n){if(Object(h.a)(Object(c.a)(e.prototype),"draw",this).call(this,t,n))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var r=i.rect;return r.width&&r.height&&t.drawImage(i.image,r.x,r.y,r.width,r.height,-i.regX,-i.regY,r.width,r.height),!0}},{key:"play",value:function(){this.paused=!1}},{key:"stop",value:function(){this.paused=!0}},{key:"gotoAndPlay",value:function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)}},{key:"gotoAndStop",value:function(t){this.paused=!0,this._goto(t)}},{key:"advance",value:function(t){var e=this.framerate||this.spriteSheet.framerate,n=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(n)}},{key:"getBounds",value:function(){return Object(h.a)(Object(c.a)(e.prototype),"getBounds",this).call(this)||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)}},{key:"clone",value:function(){return this._cloneProps(new e(this.spriteSheet))}},{key:"_cloneProps",value:function(t){return Object(h.a)(Object(c.a)(e.prototype),"_cloneProps",this).call(this,t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t}},{key:"_tick",value:function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),Object(h.a)(Object(c.a)(e.prototype),"_tick",this).call(this,t)}},{key:"_normalizeFrame",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this._animation,n=this.paused,i=this._currentFrame;if(e){var r=e.speed||1,a=this.currentAnimationFrame,o=e.frames.length;if(a+t*r>=o){var s=e.next;if(this._dispatchAnimationEnd(e,i,n,s,o-1))return;if(s)return this._goto(s,t-(o-a)/r);this.paused=!0,a=e.frames.length-1}else a+=t*r;this.currentAnimationFrame=a,this._currentFrame=e.frames[0|a]}else{i=this._currentFrame+=t;var u=this.spriteSheet.getNumFrames();if(i>=u&&u>0&&!this._dispatchAnimationEnd(e,i,n,u-1)&&(this._currentFrame-=u)>=u)return this._normalizeFrame()}i=0|this._currentFrame,this.currentFrame!=i&&(this.currentFrame=i,this.dispatchEvent("change"))}},{key:"_dispatchAnimationEnd",value:function(t,e,n,i,r){var a=t?t.name:null;if(this.hasEventListener("animationend")){var s=new o("animationend");s.name=a,s.next=i,this.dispatchEvent(s)}var u=this._animation!=t||this._currentFrame!=e;return u||n||!this.paused||(this.currentAnimationFrame=r,u=!0),u}},{key:"_goto",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.currentAnimationFrame=0,isNaN(t)){var n=this.spriteSheet.getAnimation(t);n&&(this._animation=n,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()}}]),e}(O),L=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).text=n,t.spriteSheet=i,t.lineHeight=0,t.letterSpacing=0,t.spaceWidth=0,t._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},t._oldStage=null,t._drawAction=null,t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"draw",value:function(t,n){this.drawCache(t,n)||(this._updateState(),Object(h.a)(Object(c.a)(e.prototype),"draw",this).call(this,t,n))}},{key:"getBounds",value:function(){return this._updateText(),Object(h.a)(Object(c.a)(e.prototype),"getBounds",this).call(this)}},{key:"isVisible",value:function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)}},{key:"clone",value:function(){return this._cloneProps(new e(this.text,this.spriteSheet))}},{key:"addChild",value:function(){}},{key:"addChildAt",value:function(){}},{key:"removeChild",value:function(){}},{key:"removeChildAt",value:function(){}},{key:"removeAllChildren",value:function(){}},{key:"_updateState",value:function(){this._updateText()}},{key:"_cloneProps",value:function(t){return Object(h.a)(Object(c.a)(e.prototype),"_cloneProps",this).call(this,t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t}},{key:"_getFrameIndex",value:function(t,e){var n,i=e.getAnimation(t);return i||(t!=(n=t.toUpperCase())||t!=(n=t.toLowerCase())||(n=null),n&&(i=e.getAnimation(n))),i&&i.frames[0]}},{key:"_getFrame",value:function(t,e){var n=this._getFrameIndex(t,e);return null==n?n:e.getFrame(n)}},{key:"_getLineHeight",value:function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1}},{key:"_getSpaceWidth",value:function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1}},{key:"_tick",value:function(t){var n=this.stage;n&&n.on("drawstart",this._updateText,this,!0),Object(h.a)(Object(c.a)(e.prototype),"_tick",this).call(this,t)}},{key:"_updateText",value:function(){var t,n=0,i=0,r=this._oldProps,a=!1,o=this.spaceWidth,s=this.lineHeight,u=this.spriteSheet,c=e._spritePool,h=this.children,l=0,f=h.length;for(var d in r)r[d]!=this[d]&&(r[d]=this[d],a=!0);if(a){var v=!!this._getFrame(" ",u);v||o||(o=this._getSpaceWidth(u)),s||(s=this._getLineHeight(u));for(var p=0,y=this.text.length;p<y;p++){var g=this.text.charAt(p);if(" "!==g||v)if("\n"!==g&&"\r"!==g){var m=this._getFrameIndex(g,u);null!=m&&(l<f?t=h[l]:(h.push(t=c.length?c.pop():new I),t.parent=this,f++),t.spriteSheet=u,t.gotoAndStop(m),t.x=n,t.y=i,l++,n+=t.getBounds().width+this.letterSpacing)}else"\r"===g&&"\n"===this.text.charAt(p+1)&&p++,n=0,i+=s;else n+=o}for(;f>l;)c.push(t=h.pop()),t.parent=null,f--;c.length>e.maxPoolSize&&(c.length=e.maxPoolSize)}}}]),e}(E);L.maxPoolSize=100,L._spritePool=[];var M=function(){function t(){Object(r.a)(this,t),this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._fill=null,this._strokeIgnoreScale=!1,this._commitIndex=0,this._instructions=[],this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.curveTo=this.quadraticCurveTo,this.drawRect=this.rect,this.mt=this.moveTo,this.lt=this.lineTo,this.at=this.arcTo,this.bt=this.bezierCurveTo,this.qt=this.quadraticCurveTo,this.a=this.arc,this.r=this.rect,this.cp=this.closePath,this.c=this.clear,this.f=this.beginFill,this.lf=this.beginLinearGradientFill,this.rf=this.beginRadialGradientFill,this.bf=this.beginBitmapFill,this.ef=this.endFill,this.ss=this.setStrokeStyle,this.sd=this.setStrokeDash,this.s=this.beginStroke,this.ls=this.beginLinearGradientStroke,this.rs=this.beginRadialGradientStroke,this.bs=this.beginBitmapStroke,this.es=this.endStroke,this.dr=this.drawRect,this.rr=this.drawRoundRect,this.rc=this.drawRoundRectComplex,this.dc=this.drawCircle,this.de=this.drawEllipse,this.dp=this.drawPolyStar,this.p=this.decodePath,this.clear()}return Object(a.a)(t,[{key:"isEmpty",value:function(){return!(this._instructions.length||this._activeInstructions.length)}},{key:"draw",value:function(t,e){this._updateInstructions();for(var n=this._instructions,i=n.length,r=this._storeIndex;r<i;r++)n[r].exec(t,e)}},{key:"drawAsPath",value:function(t){this._updateInstructions();for(var e,n=this._instructions,i=n.length,r=this._storeIndex;r<i;r++)!1!==(e=n[r]).path&&e.exec(t)}},{key:"moveTo",value:function(t,e){return this.append(new D(t,e),!0)}},{key:"lineTo",value:function(t,e){return this.append(new R(t,e))}},{key:"arcTo",value:function(t,e,n,i,r){return this.append(new N(t,e,n,i,r))}},{key:"arc",value:function(t,e,n,i,r,a){return this.append(new F(t,e,n,i,r,a))}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.append(new U(t,e,n,i))}},{key:"bezierCurveTo",value:function(t,e,n,i,r,a){return this.append(new B(t,e,n,i,r,a))}},{key:"rect",value:function(t,e,n,i){return this.append(new q(t,e,n,i))}},{key:"closePath",value:function(){return this._activeInstructions.length?this.append(new G):this}},{key:"clear",value:function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this}},{key:"beginFill",value:function(t){return this._setFill(t?new X(t):null)}},{key:"beginLinearGradientFill",value:function(t,e,n,i,r,a){return this._setFill((new X).linearGradient(t,e,n,i,r,a))}},{key:"beginRadialGradientFill",value:function(t,e,n,i,r,a,o,s){return this._setFill((new X).radialGradient(t,e,n,i,r,a,o,s))}},{key:"beginBitmapFill",value:function(t,e,n){return this._setFill(new X(null,n).bitmap(t,e))}},{key:"endFill",value:function(){return this.beginFill()}},{key:"setStrokeStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._updateInstructions(!0),this._strokeStyle=this.command=new H(t,e,n,i,r),this._stroke&&(this._stroke.ignoreScale=r),this._strokeIgnoreScale=r,this}},{key:"setStrokeDash",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._updateInstructions(!0),this._strokeDash=this.command=new V(t,e),this}},{key:"beginStroke",value:function(t){return this._setStroke(t?new W(t):null)}},{key:"beginLinearGradientStroke",value:function(t,e,n,i,r,a){return this._setStroke((new W).linearGradient(t,e,n,i,r,a))}},{key:"beginRadialGradientStroke",value:function(t,e,n,i,r,a,o,s){return this._setStroke((new W).radialGradient(t,e,n,i,r,a,o,s))}},{key:"beginBitmapStroke",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"repeat";return this._setStroke((new W).bitmap(t,e))}},{key:"endStroke",value:function(){return this.beginStroke()}},{key:"drawRoundRect",value:function(t,e,n,i,r){return this.drawRoundRectComplex(t,e,n,i,r,r,r,r)}},{key:"drawRoundRectComplex",value:function(t,e,n,i,r,a,o,s){return this.append(new z(t,e,n,i,r,a,o,s))}},{key:"drawCircle",value:function(t,e,n){return this.append(new Q(t,e,n))}},{key:"drawEllipse",value:function(t,e,n,i){return this.append(new $(t,e,n,i))}},{key:"drawPolyStar",value:function(t,e,n,i,r,a){return this.append(new J(t,e,n,i,r,a))}},{key:"append",value:function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this}},{key:"decodePath",value:function(e){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],i=[2,2,4,6,0],r=0,a=e.length,o=[],s=0,u=0,c=t._BASE_64;r<a;){var h=c[e.charAt(r)],l=h>>3,f=n[l];if(!f||3&h)throw"Bad path data (@".concat(r,"):c");var d=i[l];l||(s=u=0),o.length=0,r++;for(var v=2+(h>>2&1),p=0;p<d;p++){var y=c[e.charAt(r)],g=y>>5?-1:1;y=(31&y)<<6|c[e.charAt(r+1)],3===v&&(y=y<<6|c[e.charAt(r+2)]),y=g*y/10,p%2?s=y+=s:u=y+=u,o[p]=y,r+=v}f.apply(this,o)}return this}},{key:"store",value:function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this}},{key:"unstore",value:function(){return this._storeIndex=0,this}},{key:"clone",value:function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e}},{key:"toString",value:function(){return"[".concat(this.constructor.name,"]")}},{key:"_updateInstructions",value:function(e){var n=this._instructions,i=this._activeInstructions,r=this._commitIndex;if(this._dirty&&i.length){n.length=r,n.push(t.beginCmd);var a=i.length,o=n.length;n.length=o+a;for(var s=0;s<a;s++)n[s+o]=i[s];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&n.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&n.push(this._strokeStyle),e&&(this._oldStrokeDash=this._strokeDash,this._oldStrokeStyle=this._strokeStyle),n.push(this._stroke)),this._dirty=!1}e&&(i.length=0,this._commitIndex=n.length)}},{key:"_setFill",value:function(t){return this._updateInstructions(!0),this.command=this._fill=t,this}},{key:"_setStroke",value:function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this}},{key:"instructions",get:function(){return this._updateInstructions(),this._instructions}}],[{key:"getRGB",value:function(t,e,n,i){return null!=t&&null==n&&(i=e,n=255&t,e=t>>8&255,t=t>>16&255),null==i?"rgb(".concat(t,",").concat(e,",").concat(n,")"):"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(i,")")}},{key:"getHSL",value:function(t,e,n,i){return null==i?"hsl(".concat(t%360,",").concat(e,"%,").concat(n,"%)"):"hsl(".concat(t%360,",").concat(e,"%,").concat(n,"%,").concat(i,")")}},{key:"LineTo",get:function(){return R}},{key:"MoveTo",get:function(){return D}},{key:"ArcTo",get:function(){return N}},{key:"Arc",get:function(){return F}},{key:"QuadraticCurveTo",get:function(){return U}},{key:"BezierCurveTo",get:function(){return B}},{key:"Rect",get:function(){return q}},{key:"ClosePath",get:function(){return G}},{key:"BeginPath",get:function(){return Y}},{key:"Fill",get:function(){return X}},{key:"Stroke",get:function(){return W}},{key:"StrokeStyle",get:function(){return H}},{key:"StrokeDash",get:function(){return V}},{key:"RoundRect",get:function(){return z}},{key:"Circle",get:function(){return Q}},{key:"Ellipse",get:function(){return $}},{key:"PolyStar",get:function(){return J}}]),t}(),R=function(){function t(e,n){Object(r.a)(this,t),this.x=e,this.y=n}return Object(a.a)(t,[{key:"exec",value:function(t){t.lineTo(this.x,this.y)}}]),t}(),D=function(){function t(e,n){Object(r.a)(this,t),this.x=e,this.y=n}return Object(a.a)(t,[{key:"exec",value:function(t){t.moveTo(this.x,this.y)}}]),t}(),N=function(){function t(e,n,i,a,o){Object(r.a)(this,t),this.x1=e,this.y1=n,this.x2=i,this.y2=a,this.radius=o}return Object(a.a)(t,[{key:"exec",value:function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}}]),t}(),F=function(){function t(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(r.a)(this,t),this.x=e,this.y=n,this.radius=i,this.startAngle=a,this.endAngle=o,this.anticlockwise=s}return Object(a.a)(t,[{key:"exec",value:function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}}]),t}(),U=function(){function t(e,n,i,a){Object(r.a)(this,t),this.cpx=e,this.cpy=n,this.x=i,this.y=a}return Object(a.a)(t,[{key:"exec",value:function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)}}]),t}(),B=function(){function t(e,n,i,a,o,s){Object(r.a)(this,t),this.cp1x=e,this.cp1y=n,this.cp2x=i,this.cp2y=a,this.x=o,this.y=s}return Object(a.a)(t,[{key:"exec",value:function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)}}]),t}(),q=function(){function t(e,n,i,a){Object(r.a)(this,t),this.x=e,this.y=n,this.w=i,this.h=a}return Object(a.a)(t,[{key:"exec",value:function(t){t.rect(this.x,this.y,this.w,this.h)}}]),t}(),G=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"exec",value:function(t){t.closePath()}}]),t}(),Y=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"exec",value:function(t){t.beginPath()}}]),t}(),X=function(){function t(e,n){Object(r.a)(this,t),this.style=e,this.matrix=n,this.path=!1}return Object(a.a)(t,[{key:"exec",value:function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}}},{key:"linearGradient",value:function(t,e,n,i,r,a){for(var o=this.style=M._ctx.createLinearGradient(n,i,r,a),s=t.length,u=0;u<s;u++)o.addColorStop(e[u],t[u]);return o.props={colors:t,ratios:e,x0:n,y0:i,x1:r,y1:a,type:"linear"},this}},{key:"radialGradient",value:function(t,e,n,i,r,a,o,s){for(var u=this.style=M._ctx.createRadialGradient(n,i,r,a,o,s),c=t.length,h=0;h<c;h++)u.addColorStop(e[h],t[h]);return u.props={colors:t,ratios:e,x0:n,y0:i,r0:r,x1:a,y1:o,r1:s,type:"radial"},this}},{key:"bitmap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(t.naturalWidth||t.getContext||t.readyState>=2)&&((this.style=M._ctx.createPattern(t,e)).props={image:t,repetition:e,type:"bitmap"});return this}}]),t}(),W=function(t){function e(t,n){var i;return Object(r.a)(this,e),(i=Object(u.a)(this,Object(c.a)(e).call(this))).style=t,i.ignoreScale=n,i.path=!1,i}return Object(l.a)(e,t),Object(a.a)(e,[{key:"exec",value:function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())}}]),e}(X),H=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"butt",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"miter",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(r.a)(this,t),this.width=e,this.caps=n,this.joints=i,this.miterLimit=a,this.ignoreScale=o,this.path=!1}return Object(a.a)(t,[{key:"exec",value:function(t){t.lineWidth=this.width,t.lineCap=isNaN(this.caps)?this.caps:M._STROKE_CAPS_MAP[this.caps],t.lineJoin=isNaN(this.joints)?this.joints:M._STROKE_JOINTS_MAP[this.joints],t.miterLimit=this.miterLimit,t.ignoreScale=this.ignoreScale}}]),t}(),V=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,t),this.segments=e,this.offset=n}return Object(a.a)(t,[{key:"exec",value:function(t){t.setLineDash&&(t.setLineDash(this.segments),t.lineDashOffset=this.offset)}}]),t}(),z=function(){function t(e,n,i,a,o,s,u,c){Object(r.a)(this,t),this.x=e,this.y=n,this.w=i,this.h=a,this.radiusTL=o,this.radiusTR=s,this.radiusBR=u,this.radiusBL=c}return Object(a.a)(t,[{key:"exec",value:function(t){var e=(this.w<this.h?this.w:this.h)/2,n=0,i=0,r=0,a=0,o=this.x,s=this.y,u=this.w,c=this.h,h=this.radiusTL,l=this.radiusTR,f=this.radiusBR,d=this.radiusBL;h<0&&(h*=n=-1),h>e&&(h=e),l<0&&(l*=i=-1),l>e&&(l=e),f<0&&(f*=r=-1),f>e&&(f=e),d<0&&(d*=a=-1),d>e&&(d=e),t.moveTo(o+u-l,s),t.arcTo(o+u+l*i,s-l*i,o+u,s+l,l),t.lineTo(o+u,s+c-f),t.arcTo(o+u+f*r,s+c+f*r,o+u-f,s+c,f),t.lineTo(o+d,s+c),t.arcTo(o-d*a,s+c+d*a,o,s+c-d,d),t.lineTo(o,s+h),t.arcTo(o-h*n,s-h*n,o+h,s,h),t.closePath()}}]),t}(),Q=function(){function t(e,n,i){Object(r.a)(this,t),this.x=e,this.y=n,this.radius=i}return Object(a.a)(t,[{key:"exec",value:function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)}}]),t}(),$=function(){function t(e,n,i,a){Object(r.a)(this,t),this.x=e,this.y=n,this.w=i,this.h=a}return Object(a.a)(t,[{key:"exec",value:function(t){var e=this.x,n=this.y,i=this.w,r=this.h,a=.5522848,o=i/2*a,s=r/2*a,u=e+i,c=n+r,h=e+i/2,l=n+r/2;t.moveTo(e,l),t.bezierCurveTo(e,l-s,h-o,n,h,n),t.bezierCurveTo(h+o,n,u,l-s,u,l),t.bezierCurveTo(u,l+s,h+o,c,h,c),t.bezierCurveTo(h-o,c,e,l+s,e,l)}}]),t}(),J=function(){function t(e,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(r.a)(this,t),this.x=e,this.y=n,this.radius=i,this.sides=a,this.pointSize=o,this.angle=s}return Object(a.a)(t,[{key:"exec",value:function(t){var e=this.x,n=this.y,i=this.radius,r=this.angle/180*Math.PI,a=this.sides,o=1-this.pointSize,s=Math.PI/a;t.moveTo(e+Math.cos(r)*i,n+Math.sin(r)*i);for(var u=0;u<a;u++)r+=s,1!=o&&t.lineTo(e+Math.cos(r)*i*o,n+Math.sin(r)*i*o),r+=s,t.lineTo(e+Math.cos(r)*i,n+Math.sin(r)*i);t.closePath()}}]),t}();M.beginCmd=new Y,M._BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},M._STROKE_CAPS_MAP=["butt","round","square"],M._STROKE_JOINTS_MAP=["miter","round","bevel"],M._ctx=P().getContext("2d");var Z=n(6),K=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).ignoreGlobalPause=!1,n.loop=0,n.useTicks=!1,n.reversed=!1,n.bounce=!1,n.timeScale=1,n.duration=0,n.position=0,n.rawPosition=-1,n._paused=!0,n._next=null,n._prev=null,n._parent=null,n._labels=null,n._labelList=null,t&&(n.useTicks=!!t.useTicks,n.ignoreGlobalPause=!!t.ignoreGlobalPause,n.loop=!0===t.loop?-1:t.loop||0,n.reversed=!!t.reversed,n.bounce=!!t.bounce,n.timeScale=t.timeScale||1,t.onChange&&n.addEventListener("change",t.onChange),t.onComplete&&n.addEventListener("complete",t.onComplete)),n}return Object(l.a)(e,t),Object(a.a)(e,[{key:"advance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setPosition(this.rawPosition+t*this.timeScale,e)}},{key:"setPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=this.duration,a=this.loop,o=this.rawPosition,s=0,u=0,c=!1;if(t<0&&(t=0),0===r){if(c=!0,-1!==o)return c}else{if(u=t-(s=t/r|0)*r,(c=-1!==a&&t>=a*r+r)&&(t=(u=r)*(s=a)+r),t===o)return c;!this.reversed!==!(this.bounce&&s%2)&&(u=r-u)}this.position=u,this.rawPosition=t,this._updatePosition(n,c),c&&(this.paused=!0),i&&i(this),e||this._runActions(o,t,n,!n&&-1===o),this.dispatchEvent("change"),c&&this.dispatchEvent("complete")}},{key:"calculatePosition",value:function(t){var e=this.duration,n=this.loop,i=0,r=0;return 0===e?0:(-1!==n&&t>=n*e+e?(r=e,i=n):r=t<0?0:t-(i=t/e|0)*e,!this.reversed!==!(this.bounce&&i%2)?e-r:r)}},{key:"addLabel",value:function(t,e){this._labels||(this._labels={}),this._labels[t]=e;var n=this._labelList;if(n){for(var r=0,a=n.length;r<a&&!(e<n[r].position);r++);n.splice(i,0,{label:t,position:e})}}},{key:"gotoAndPlay",value:function(t){this.paused=!1,this._goto(t)}},{key:"gotoAndStop",value:function(t){this.paused=!0,this._goto(t)}},{key:"resolve",value:function(t){var e=Number(t);return isNaN(e)?this._labels&&this._labels[t]:e}},{key:"toString",value:function(){return"[".concat(this.constructor.name).concat(this.name?" (name=".concat(this.name,")"):"","]")}},{key:"clone",value:function(){throw"AbstractTween cannot be cloned."}},{key:"_init",value:function(t){t&&t.paused||(this.paused=!1),t&&null!=t.position&&this.setPosition(t.position)}},{key:"_goto",value:function(t){var e=this.resolve(t);null!=e&&this.setPosition(e,!1,!0)}},{key:"_runActions",value:function(t,e,n,i){if(this._actionHead||this.tweens){var r,a,o,s,u=this.duration,c=this.loop,h=this.reversed,l=this.bounce;if(0===u?(r=a=o=s=0,h=l=!1):(o=t-(r=t/u|0)*u,s=e-(a=e/u|0)*u),-1!==c&&(a>c&&(s=u,a=c),r>c&&(o=u,r=c)),n)return this._runActionsRange(s,s,n,i);if(r!==a||o!==s||n||i){-1===r&&(r=o=0);var f=t<=e,d=r;do{var v=d===r?o:f?0:u,p=d===a?s:f?u:0;if(!h!==!(l&&d%2)&&(v=u-v,p=u-p),l&&d!==r&&v===p);else if(this._runActionsRange(v,p,n,i||d!==r&&!l))return!0;i=!1}while(f&&++d<=a||!f&&--d>=a)}}}},{key:"_runActionsRange",value:function(t,e,n,i){throw"_runActionsRange is abstract and must be overridden by a subclass."}},{key:"_updatePosition",value:function(t,e){throw"_updatePosition is abstract and must be overridden by a subclass."}},{key:"labels",get:function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var n in e)t.push({label:n,position:e[n]});t.sort(function(t,e){return t.position-e.position})}return t},set:function(t){this._labels=t,this._labelList=null}},{key:"currentLabel",get:function(){for(var t=this.labels,e=this.position,n=0,r=t.length;n<r&&!(e<t[n].position);n++);return 0===i?null:t[i-1].label}},{key:"paused",get:function(){return this._paused},set:function(t){at._register(this,t),this._paused=t}}]),e}(s);function tt(t){return t}function et(t){return function(e){return Math.pow(e,t)}}function nt(t){return function(e){return 1-Math.pow(1-e,t)}}function it(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}}et(2),nt(2),it(2),et(3),nt(3),it(3),et(4),nt(4),it(4),et(5),nt(5),it(5),rt=1.7,function(t){t*=1.525}(1.7),function(t,e){var n=2*Math.PI}(1,.3),function(t,e){var n=2*Math.PI}(1,.3),function(t,e){var n=2*Math.PI}(1,.3*1.5);var rt,at=function(t){function e(t,n){var i;return Object(r.a)(this,e),(i=Object(u.a)(this,Object(c.a)(e).call(this,n))).pluginData=null,i.target=t,i.passive=!1,i._stepHead=new st(null,0,0,{},null,!0),i._stepTail=i._stepHead,i._stepPosition=0,i._actionHead=null,i._actionTail=null,i._plugins=null,i._pluginIds=null,i._injected=null,n&&(i.pluginData=n.pluginData,n.override&&e.removeTweens(t)),i.pluginData||(i.pluginData={}),i._init(n),i}return Object(l.a)(e,t),Object(a.a)(e,[{key:"wait",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t>0&&this._addStep(+t,this._stepTail.props,null,e),this}},{key:"to",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tt;e<0&&(e=0);var i=this._addStep(+e,null,n);return this._appendProps(t,i),this}},{key:"label",value:function(t){return this.addLabel(t,this.duration),this}},{key:"call",value:function(t,e,n){return this._addAction(n||this.target,t,e||[this])}},{key:"set",value:function(t,e){return this._addAction(e||this.target,this._set,[t])}},{key:"play",value:function(t){return this._addAction(t||this,this._set,[{paused:!1}])}},{key:"pause",value:function(t){return this._addAction(t||this,this._set,[{paused:!1}])}},{key:"clone",value:function(){throw"Tween can not be cloned."}},{key:"_addPlugin",value:function(t){var e=this._pluginIds||(this._pluginIds={}),n=t.id;if(n&&!e[n]){e[n]=!0;for(var i=this._plugins||(this._plugins=[]),r=t.priority||0,a=0,o=i.length;a<o;a++)if(r<i[a].priority)return void i.splice(a,0,t);i.push(t)}}},{key:"_updatePosition",value:function(t,e){var n=this._stepHead.next,i=this.position,r=this.duration;if(this.target&&n){for(var a=n.next;a&&a.t<=i;)a=(n=n.next).next;var o=e?0===r?1:i/r:(i-n.t)/n.d;this._updateTargetProps(n,o,e)}this._stepPosition=n?i-n.t:0}},{key:"_updateTargetProps",value:function(t,n,i){if(!(this.passive=!!t.passive)){var r,a,o,s,u=t.prev.props,c=t.props;(s=t.ease)&&(n=s(n,0,1,1));var h=this._plugins;t:for(var l in u){if(r=(a=u[l])!==(o=c[l])&&"number"===typeof a?a+(o-a)*n:n>=1?o:a,h)for(var f=0,d=h.length;f<d;f++){var v=h[f].change(this,t,l,r,n,i);if(v===e.IGNORE)continue t;void 0!==v&&(r=v)}this.target[l]=r}}}},{key:"_runActionsRange",value:function(t,e,n,i){var r=t>e,a=r?this._actionTail:this._actionHead,o=e,s=t;r&&(o=t,s=e);for(var u=this.position;a;){var c=a.t;if((c===e||c>s&&c<o||i&&c===t)&&(a.funct.apply(a.scope,a.params),u!==this.position))return!0;a=r?a.prev:a.next}}},{key:"_appendProps",value:function(t,n,i){var r,a,o,s,u,c=this._stepHead.props,h=this.target,l=e._plugins,f=n.prev,d=f.props,v=n.props||(n.props=this._cloneProps(d)),p={};for(r in t)if(t.hasOwnProperty(r)&&(p[r]=v[r]=t[r],void 0===c[r])){if(s=void 0,l)for(a=l.length-1;a>=0;a--)if(void 0!==(o=l[a].init(this,r,s))&&(s=o),s===e.IGNORE){(ignored=ignored||{})[r]=!0,delete v[r],delete p[r];break}s!==e.IGNORE&&(void 0===s&&(s=h[r]),d[r]=void 0===s?null:s)}for(r in p){o=t[r];for(var y=void 0,g=f;(y=g)&&(g=y.prev);)if(g.props!==y.props){if(void 0!==g.props[r])break;g.props[r]=d[r]}}if(i&&(l=this._plugins))for(a=l.length-1;a>=0;a--)l[a].step(this,n,p);(u=this._injected)&&(this._injected=null,this._appendProps(u,n,!1))}},{key:"_injectProp",value:function(t,e){(this._injected||(this._injected={}))[t]=e}},{key:"_addStep",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=new st(this._stepTail,this.duration,t,e,n,i);return this.duration+=t,this._stepTail=this._stepTail.next=r}},{key:"_addAction",value:function(t,e,n){var i=new ut(this._actionTail,this.duration,t,e,n);return this._actionTail?this._actionTail.next=i:this._actionHead=i,this._actionTail=i,this}},{key:"_set",value:function(t){for(var e in t)this[e]=t[e]}},{key:"_cloneProps",value:function(t){var e={};for(var n in t)e[n]=t[n];return e}}],[{key:"get",value:function(t,n){return new e(t,n)}},{key:"tick",value:function(t,n){for(var i=e._tweenHead;i;){var r=i._next;n&&!i.ignoreGlobalPause||i._paused||i.advance(i.useTicks?1:t),i=r}}},{key:"handleEvent",value:function(t){"tick"===t.type&&this.tick(t.delta,t.paused)}},{key:"removeTweens",value:function(t){if(t.tweenjs_count){for(var n=e._tweenHead;n;){var i=n._next;n.target===t&&(n.paused=!0),n=i}t.tweenjs_count=0}}},{key:"removeAllTweens",value:function(){for(var t=e._tweenHead;t;){var n=t._next;t._paused=!0,t.target&&(t.target.tweenjs_count=0),t._next=t._prev=null,t=n}e._tweenHead=e._tweenTail=null}},{key:"hasActiveTweens",value:function(t){return t?!!t.tweenjs_count:!!e._tweenHead}},{key:"installPlugin",value:function(t,n){t.install(n);for(var r=t.priority=t.priority||0,a=e._plugins=e._plugins||[],o=0,s=a.length;o<s&&!(r<a[o].priority);o++);a.splice(i,0,t)}},{key:"_register",value:function(t,n){var i=t.target;if(!n&&t._paused){i&&(i.tweenjs_count=i.tweenjs_count?i.tweenjs_count+1:1);var r=e._tweenTail;r?(e._tweenTail=r._next=t,t._prev=r):e._tweenHead=e._tweenTail=t,e._inited||(d.addEventListener("tick",e),e._inited=!0)}else if(n&&!t._paused){i&&i.tweenjs_count--;var a=t._next,o=t._prev;a?a._prev=o:e._tweenTail=o,o?o._next=a:e._tweenHead=a,t._next=t._prev=null}}}]),e}(K),ot=at.prototype;ot.w=ot.wait,ot.t=ot.to,ot.c=ot.call,ot.s=ot.set,at.IGNORE={},at._tweens=[],at._plugins=null,at._tweenHead=null,at._tweenTail=null;var st=function t(e,n,i,a,o,s){Object(r.a)(this,t),this.next=null,this.prev=e,this.t=n,this.d=i,this.props=a,this.ease=o,this.passive=s,this.index=e?e.index+1:0},ut=function t(e,n,i,a,o){Object(r.a)(this,t),this.next=null,this.d=0,this.prev=e,this.t=n,this.scope=i,this.funct=a,this.params=o},ct=n(24),ht=function(t){function e(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this,i))).tweens=[],i.tweens)&&(n=t).addTween.apply(n,Object(ct.a)(i.tweens));return i.labels&&(t.labels=i.labels),t._init(i),t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"addTween",value:function(){var t=arguments.length;if(1===t){var e=arguments.length<=0?void 0:arguments[0];this.tweens.push(e),e._parent=this,e.paused=!0;var n=e.duration;return e.loop>0&&(n*=e.loop+1),n>this.duration&&(this.duration=n),this.rawPosition>=0&&e.setPosition(this.rawPosition),e}if(t>1){for(var i=0;i<t;i++)this.addTween(i<0||arguments.length<=i?void 0:arguments[i]);return t-1<0||arguments.length<=t-1?void 0:arguments[t-1]}return null}},{key:"removeTween",value:function(){var t=arguments.length;if(1===t){for(var e=this.tweens,n=arguments.length<=0?void 0:arguments[0],i=e.length;i--;)if(e[i]===n)return e.splice(i,1),n._parent=null,n.duration>=this.duration&&this.updateDuration(),!0;return!1}if(t>1){for(var r=!0,a=0;a<t;a++)r=r&&this.removeTween(a<0||arguments.length<=a?void 0:arguments[a]);return r}return!0}},{key:"updateDuration",value:function(){this.duration=0;for(var t=0,e=this.tweens.length;t<e;t++){var n=this.tweens[t],i=n.duration;n.loop>0&&(i*=n.loop+1),i>this.duration&&(this.duration=i)}}},{key:"clone",value:function(){throw"Timeline can not be cloned."}},{key:"_updatePosition",value:function(t,e){for(var n=this.position,i=0,r=this.tweens.length;i<r;i++)this.tweens[i].setPosition(n,!0,t)}},{key:"_runActionsRange",value:function(t,e,n,i){for(var r=this.position,a=0,o=this.tweens.length;a<o;a++)if(this.tweens[a]._runActions(t,e,n,i),r!==this.position)return!0}}]),e}(K),lt=function(t){function e(t){var n;return Object(r.a)(this,e),n=Object(u.a)(this,Object(c.a)(e).call(this)),!e.inited&&e.init(),n.mode=null!=t.mode?t.mode:e.INDEPENDENT,n.startPosition=null!=t.startPosition?t.startPosition:0,"number"===typeof t.loop?n.loop=t.loop:!1===t.loop?n.loop=0:n.loop=-1,n.currentFrame=0,n.timeline=new ht(Object.assign({useTicks:!0,paused:!0},t)),n.paused=null!=t.paused&&t.paused,n.actionsEnabled=!0,n.autoReset=!0,n.frameBounds=n.frameBounds||t.frameBounds,n.framerate=null,n._synchOffset=0,n._rawPosition=-1,n._t=0,n._managed={},n._bound_resolveState=n._resolveState.bind(Object(Z.a)(Object(Z.a)(n))),n}return Object(l.a)(e,t),Object(a.a)(e,[{key:"isVisible",value:function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)}},{key:"draw",value:function(t,n){return!!this.drawCache(t,n)||(this._updateState(),Object(h.a)(Object(c.a)(e.prototype),"draw",this).call(this,t,n),!0)}},{key:"play",value:function(){this.paused=!1}},{key:"stop",value:function(){this.paused=!0}},{key:"gotoAndPlay",value:function(t){this.play(),this._goto(t)}},{key:"gotoAndStop",value:function(t){this.stop(),this._goto(t)}},{key:"advance",value:function(t){if(this.mode===e.INDEPENDENT){for(var n=this,i=n.framerate;(n=n.parent)&&null===i;)n.mode===e.INDEPENDENT&&(i=n._framerate);if(this._framerate=i,!this.paused){var r=null!==i&&-1!==i&&null!==t?t/(1e3/i)+this._t:1,a=0|r;for(this._t=r-a;a--;)this._updateTimeline(this._rawPosition+1,!1)}}}},{key:"clone",value:function(){throw"MovieClip cannot be cloned."}},{key:"_updateState",value:function(){-1!==this._rawPosition&&this.mode===e.INDEPENDENT||this._updateTimeline(-1)}},{key:"_tick",value:function(t){this.advance(t&&t.delta),Object(h.a)(Object(c.a)(e.prototype),"_tick",this).call(this,t)}},{key:"_goto",value:function(t){var e=this.timeline.resolve(t);null!=e&&(this._t=0,this._updateTimeline(e,!0))}},{key:"_reset",value:function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1}},{key:"_updateTimeline",value:function(t,n){var i=this.mode!==e.INDEPENDENT,r=this.timeline;i&&(t=this.startPosition+(this.mode===e.SINGLE_FRAME?0:this._synchOffset)),t<1&&(t=0),(this._rawPosition!==t||i)&&(this._rawPosition=t,r.loop=this.loop,r.setPosition(t,i||!this.actionsEnabled,n,this._bound_resolveState))}},{key:"_renderFirstFrame",value:function(){var t=this.timeline,e=t.rawPosition;t.setPosition(0,!0,!0,this._bound_resolveState),t.rawPosition=e}},{key:"_resolveState",value:function(){var t=this.timeline;for(var e in this.currentFrame=t.position,this._managed)this._managed[e]=1;var n=t.tweens,i=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value,c=u.target;if(c!==this&&!u.passive){var h=u._stepPosition;c instanceof O?this._addManagedChild(c,h):this._setState(c.state,h)}}}catch(v){r=!0,a=v}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}for(var l=this.children,f=l.length-1;f>=0;f--){var d=l[f].id;1===this._managed[d]&&(this.removeChildAt(f),delete this._managed[d])}}},{key:"_setState",value:function(t,e){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n],r=i.t,a=i.p;for(var o in a)r[o]=a[o];this._addManagedChild(r,e)}}},{key:"_addManagedChild",value:function(t,n){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=n,t.mode===e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)}},{key:"_getBounds",value:function(t,n){var i=this.getBounds();return!i&&this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame])),i?this._transformBounds(i,t,n):Object(h.a)(Object(c.a)(e.prototype),"_getBounds",this).call(this,t,n)}},{key:"labels",get:function(){return this.timeline.labels}},{key:"currentLabel",get:function(){return this.timeline.currentLabel}},{key:"duration",get:function(){return this.timeline.duration}},{key:"totalFrames",get:function(){return this.duration}}],[{key:"init",value:function(){e.inited||(ft.install(),e.inited=!0)}}]),e}(E);lt.INDEPENDENT="independent",lt.SINGLE_FRAME="single",lt.SYNCHED="synched",lt.inited=!1;var ft=function(){function t(){throw Object(r.a)(this,t),"MovieClipPlugin cannot be instantiated."}return Object(a.a)(t,null,[{key:"install",value:function(){at.installPlugin(t)}},{key:"init",value:function(t,e,n){return n}},{key:"tween",value:function(t,e,n,i,r,a,o,s){return t.target instanceof lt?1===a?r[e]:i[e]:n}}]),t}();ft.priority=100;var dt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new M;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).graphics=n,t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"isVisible",value:function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)}},{key:"draw",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!Object(h.a)(Object(c.a)(e.prototype),"draw",this).call(this,t,n)||(this.graphics.draw(t,this),!0)}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(t))}}]),e}(O),vt=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this))).complete=!0,n.framerate=0,n._animations=null,n._frames=null,n._images=null,n._data=null,n._loadCount=0,n._frameHeight=0,n._frameWidth=0,n._numFrames=0,n._regX=0,n._regY=0,n._spacing=0,n._margin=0,n._parseData(t),n}return Object(l.a)(e,t),Object(a.a)(e,[{key:"getNumFrames",value:function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length}},{key:"getAnimation",value:function(t){return this._data[t]}},{key:"getFrame",value:function(t){var e;return this._frames&&(e=this._frames[t])?e:null}},{key:"getFrameBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new w,n=this.getFrame(t);return n?e.setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null}},{key:"toString",value:function(){return"[".concat(this.constructor.name,"]")}},{key:"clone",value:function(){throw"SpriteSheet cannot be cloned."}},{key:"_parseData",value:function(t){var e=this;if(null!=t){if(this.framerate=t.framerate||0,t.images){var n=!0,i=!1,r=void 0;try{for(var a,o=function(){var t=a.value,n=e._images=[],i=void 0;"string"===typeof t&&(i=t,(t=document.createElement("img")).src=i),n.push(t),t.getContext||t.naturalWidth||(e._loadCount++,e.complete=!1,t.onload=function(){return e._handleImageLoad(i)},t.onerror=function(){return e._handleImageError(i)})},s=t.images[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)o()}catch(k){i=!0,r=k}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}if(null!=t.frames)if(Array.isArray(t.frames)){this._frames=[];var u=!0,c=!1,h=void 0;try{for(var l,f=t.frames[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;this._frames.push({image:this._images[d[4]?d[4]:0],rect:new w(d[0],d[1],d[2],d[3]),regX:d[5]||0,regY:d[6]||0})}}catch(k){c=!0,h=k}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}else{var v=t.frames;this._frameWidth=v.width,this._frameHeight=v.height,this._regX=v.regX||0,this._regY=v.regY||0,this._spacing=v.spacing||0,this._margin=v.margin||0,this._numFrames=v.count,0===this._loadCount&&this._calculateFrames()}if(this._animations=[],null!=t.animations){this._data={};var p=t.animations;for(var y in p){var g={name:y},m=p[y],_=void 0;if("number"===typeof m)_=g.frames=[m];else if(Array.isArray(m))if(1===m.length)g.frames=[m[0]];else{g.speed=m[3],g.next=m[2],_=g.frames=[];for(var b=m[0];b<=m[1];b++)_.push(b)}else{g.speed=m.speed,g.next=m.next;var x=m.frames;_=g.frames="number"===typeof x?[x]:x.slice(0)}!0!==g.next&&void 0!==g.next||(g.next=y),(!1===g.next||_.length<2&&g.next===y)&&(g.next=null),g.speed||(g.speed=1),this._animations.push(y),this._data[y]=g}}}}},{key:"_handleImageLoad",value:function(t){0===--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))}},{key:"_handleImageError",value:function(t){var e=new o("error");e.src=t,this.dispatchEvent(e),0===--this._loadCount&&this.dispatchEvent("complete")}},{key:"_calculateFrames",value:function(){if(!this._frames&&0!==this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,n=this._frameWidth,i=this._frameHeight,r=this._spacing,a=this._margin;t:for(var o=0,s=this._images,u=s.length;o<u;o++)for(var c=s[o],h=c.width||c.naturalWidth,l=c.height||c.naturalHeight,f=a;f<=l-a-i;){for(var d=a;d<=h-a-n;){if(e>=t)break t;e++,this._frames.push({image:c,rect:new w(d,f,n,i),regX:this._regX,regY:this._regY}),d+=n+r}f+=i+r}this._numFrames=e}}},{key:"animations",get:function(){return this._animations.slice()}}]),e}(s),pt=function(t){function e(t,n,i){var a;return Object(r.a)(this,e),(a=Object(u.a)(this,Object(c.a)(e).call(this))).text=t,a.font=n,a.color=i,a.textAlign="left",a.textBaseline="top",a.maxWidth=null,a.outline=0,a.lineHeight=0,a.lineWidth=null,a}return Object(l.a)(e,t),Object(a.a)(e,[{key:"isVisible",value:function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)}},{key:"draw",value:function(t,n){if(Object(h.a)(Object(c.a)(e.prototype),"draw",this).call(this,t,n))return!0;var i=this.color||"#000";return this.outline?(t.strokeStyle=i,t.lineWidth=1*this.outline):t.fillStyle=i,this._drawText(this._prepContext(t)),!0}},{key:"getMeasuredWidth",value:function(){return this._getMeasuredWidth(this.text)}},{key:"getMeasuredLineHeight",value:function(){return 1.2*this._getMeasuredWidth("M")}},{key:"getMeasuredHeight",value:function(){return this._drawText(null,{}).height}},{key:"getBounds",value:function(){var t=Object(h.a)(Object(c.a)(e.prototype),"getBounds",this).call(this);if(t)return t;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),i=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,r=i*e.H_OFFSETS[this.textAlign||"left"],a=(this.lineHeight||this.getMeasuredLineHeight())*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(r,a,i,n.height)}},{key:"getMetrics",value:function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)}},{key:"clone",value:function(){return this._cloneProps(new e(this.text,this.font,this.color))}},{key:"toString",value:function(){return"[".concat(this.constructor.name," (text=").concat(this.text.length>20?"".concat(this.text.substr(0,17),"..."):this.text,")]")}},{key:"_cloneProps",value:function(t){return Object(h.a)(Object(c.a)(e.prototype),"_cloneProps",this).call(this,t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t}},{key:"_prepContext",value:function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t.lineJoin="miter",t.miterLimit=2.5,t}},{key:"_drawText",value:function(t,n,i){var r=!!t;r||((t=e._ctx).save(),this._prepContext(t));var a=this.lineHeight||this.getMeasuredLineHeight(),o=0,s=0,u=String(this.text).split(/(?:\r\n|\r|\n)/),c=!0,h=!1,l=void 0;try{for(var f,d=u[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value,p=null;if(null!=this.lineWidth&&(p=t.measureText(v).width)>this.lineWidth){var y=v.split(/(\s)/);v=y[0],p=t.measureText(v).width;for(var g=y.length,m=1;m<g;m+=2){var _=t.measureText(y[m]+y[m+1]).width;p+_>this.lineWidth?(r&&this._drawTextLine(t,v,s*a),i&&i.push(v),p>o&&(o=p),v=y[m+1],p=t.measureText(v).width,s++):(v+=y[m]+y[m+1],p+=_)}}r&&this._drawTextLine(t,v,s*a),i&&i.push(v),n&&null==p&&(p=t.measureText(v).width),p>o&&(o=p),s++}}catch(b){h=!0,l=b}finally{try{c||null==d.return||d.return()}finally{if(h)throw l}}return n&&(n.width=o,n.height=s*a),r||t.restore(),n}},{key:"_drawTextLine",value:function(t,e,n){this.outline?t.strokeText(e,0,n,this.maxWidth||65535):t.fillText(e,0,n,this.maxWidth||65535)}},{key:"_getMeasuredWidth",value:function(t){var n=e._ctx;n.save();var i=this._prepContext(n).measureText(t).width;return n.restore(),i}}]),e}(O);pt.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},pt.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},pt._ctx=P().getContext("2d");var yt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this)))._blurX=n,t._blurXTable=[],t._lastBlurX=null,t._blurY=i,t._blurYTable=[],t._lastBlurY=null,t._quality=isNaN(a)||a<1?1:a,t._lastQuality=null,t.FRAG_SHADER_TEMPLATE="\n\t\t\tuniform float xWeight[{{blurX}}];\n\t\t\tuniform float yWeight[{{blurY}}];\n\t\t\tuniform vec2 textureOffset;\n\t\t\tvoid main (void) {\n\t\t\t\tvec4 color = vec4(0.0);\n\n\t\t\t\tfloat xAdj = ({{blurX}}.0-1.0)/2.0;\n\t\t\t\tfloat yAdj = ({{blurY}}.0-1.0)/2.0;\n\t\t\t\tvec2 sampleOffset;\n\n\t\t\t\tfor(int i=0; i<{{blurX}}; i++) {\n\t\t\t\t\tfor(int j=0; j<{{blurY}}; j++) {\n\t\t\t\t\t\tsampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));\n\t\t\t\t\t\tcolor += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = color.rgba;\n\t\t\t}\n\t\t",t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"shaderParamSetup",value:function(t,e,n){t.uniform1fv(t.getUniformLocation(n,"xWeight"),this._blurXTable),t.uniform1fv(t.getUniformLocation(n,"yWeight"),this._blurYTable),t.uniform2f(t.getUniformLocation(n,"textureOffset"),2/(e._viewportWidth*this._quality),2/(e._viewportHeight*this._quality))}},{key:"getBounds",value:function(t){var e=0|this.blurX,n=0|this.blurY;if(e<=0&&n<=0)return t;var i=Math.pow(this.quality,.2);return(t||new w).pad(n*i+1,e*i+1,n*i+1,e*i+1)}},{key:"clone",value:function(){return new e(this.blurX,this.blurY,this.quality)}},{key:"_updateShader",value:function(){var t=this.FRAG_SHADER_TEMPLATE;t=(t=t.replace(/{{blurX}}/g,this._blurXTable.length.toFixed(0))).replace(/{{blurY}}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=t}},{key:"_getTable",value:function(t){if(t<=1)return[1];for(var e=[],n=Math.ceil(2*t),i=(n+=n%2?0:1)/2|0,r=-i;r<=i;r++){var a=r/i*4.2;e.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-Math.pow(a,2)/4))}var o=e.reduce(function(t,e){return t+e},0);return e.map(function(t){return t/o})}},{key:"_applyFilter",value:function(t){var n=this._blurX>>1;if(isNaN(n)||n<0)return!1;var i=this._blurY>>1;if(isNaN(i)||i<0)return!1;if(0===n&&0===i)return!1;var r=this.quality;(isNaN(r)||r<1)&&(r=1),(r|=0)>3&&(r=3),r<1&&(r=1);var a=t.data,o=0,s=0,u=0,c=0,h=0,l=0,f=0,d=0,v=0,p=0,y=0,g=0,m=0,_=0,b=0,w=n+n+1|0,x=i+i+1|0,k=0|t.width,O=0|t.height,S=k-1|0,E=O-1|0,T=n+1|0,j=i+1|0,P={r:0,b:0,g:0,a:0},A=P;for(u=1;u<w;u++)A=A.n={r:0,b:0,g:0,a:0};A.n=P;var C={r:0,b:0,g:0,a:0},I=C;for(u=1;u<x;u++)I=I.n={r:0,b:0,g:0,a:0};I.n=C;for(var L=null,M=0|e.MUL_TABLE[n],R=0|e.SHG_TABLE[n],D=0|e.MUL_TABLE[i],N=0|e.SHG_TABLE[i];r-- >0;){f=l=0;var F=M,U=R;for(s=O;--s>-1;){for(d=T*(g=a[0|l]),v=T*(m=a[l+1|0]),p=T*(_=a[l+2|0]),y=T*(b=a[l+3|0]),A=P,u=T;--u>-1;)A.r=g,A.g=m,A.b=_,A.a=b,A=A.n;for(u=1;u<T;u++)c=l+((S<u?S:u)<<2)|0,d+=A.r=a[c],v+=A.g=a[c+1],p+=A.b=a[c+2],y+=A.a=a[c+3],A=A.n;for(L=P,o=0;o<k;o++)a[l++]=d*F>>>U,a[l++]=v*F>>>U,a[l++]=p*F>>>U,a[l++]=y*F>>>U,c=f+((c=o+n+1)<S?c:S)<<2,d-=L.r-(L.r=a[c]),v-=L.g-(L.g=a[c+1]),p-=L.b-(L.b=a[c+2]),y-=L.a-(L.a=a[c+3]),L=L.n;f+=k}for(F=D,U=N,o=0;o<k;o++){for(d=j*(g=a[l=o<<2|0])|0,v=j*(m=a[l+1|0])|0,p=j*(_=a[l+2|0])|0,y=j*(b=a[l+3|0])|0,I=C,u=0;u<j;u++)I.r=g,I.g=m,I.b=_,I.a=b,I=I.n;for(h=k,u=1;u<=i;u++)l=h+o<<2,d+=I.r=a[l],v+=I.g=a[l+1],p+=I.b=a[l+2],y+=I.a=a[l+3],I=I.n,u<E&&(h+=k);if(l=o,L=C,r>0)for(s=0;s<O;s++)a[(c=l<<2)+3]=b=y*F>>>U,b>0?(a[c]=d*F>>>U,a[c+1]=v*F>>>U,a[c+2]=p*F>>>U):a[c]=a[c+1]=a[c+2]=0,c=o+((c=s+j)<E?c:E)*k<<2,d-=L.r-(L.r=a[c]),v-=L.g-(L.g=a[c+1]),p-=L.b-(L.b=a[c+2]),y-=L.a-(L.a=a[c+3]),L=L.n,l+=k;else for(s=0;s<O;s++)a[(c=l<<2)+3]=b=y*F>>>U,b>0?(b=255/b,a[c]=(d*F>>>U)*b,a[c+1]=(v*F>>>U)*b,a[c+2]=(p*F>>>U)*b):a[c]=a[c+1]=a[c+2]=0,c=o+((c=s+j)<E?c:E)*k<<2,d-=L.r-(L.r=a[c]),v-=L.g-(L.g=a[c+1]),p-=L.b-(L.b=a[c+2]),y-=L.a-(L.a=a[c+3]),L=L.n,l+=k}}return!0}},{key:"blurX",get:function(){return this._blurX},set:function(t){(isNaN(t)||t<0)&&(t=0),this._blurX=t}},{key:"blurY",get:function(){return this._blurY},set:function(t){(isNaN(t)||t<0)&&(t=0),this._blurY=t}},{key:"quality",get:function(){return 0|this._quality},set:function(t){(isNaN(t)||t<0)&&(t=0),this._quality=t}},{key:"_buildShader",get:function(){var t=this._lastBlurX!==this._blurX,e=this._lastBlurY!==this._blurY,n=this._lastQuality!==this._quality;return t||e||n?((t||n)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(e||n)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader}},{key:"_builtShader",set:function(t){this._compiledShader=t}}]),e}(x);yt.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],yt.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];var gt=function(){function t(e,n,i,a){Object(r.a)(this,t),this.setColor(e,n,i,a)}return Object(a.a)(t,[{key:"setColor",value:function(t,e,n,i){return this.reset().adjustColor(t,e,n,i)}},{key:"reset",value:function(){return this.copy(t.IDENTITY_MATRIX)}},{key:"adjustColor",value:function(t,e,n,i){return this.adjustBrightness(t).adjustContrast(e).adjustSaturation(n).adjustHue(i)}},{key:"adjustBrightness",value:function(t){return 0===t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)}},{key:"adjustContrast",value:function(e){return 0===e||isNaN(e)?this:(n=(e=this._cleanValue(e,100))<0?127+e/100*127:127*(n=0===(n=e%1)?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-n)+t.DELTA_INDEX[1+(e<<0)]*n)+127,this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1]),this);var n}},{key:"adjustSaturation",value:function(t){if(0===t||isNaN(t))return this;var e=1+((t=this._cleanValue(t,100))>0?3*t/100:t/100);return this._multiplyMatrix([.3086*(1-e)+e,.6094*(1-e),.082*(1-e),0,0,.3086*(1-e),.6094*(1-e)+e,.082*(1-e),0,0,.3086*(1-e),.6094*(1-e),.082*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this}},{key:"adjustHue",value:function(t){if(0===t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),n=Math.sin(t);return this._multiplyMatrix([.213+.787*e+-.213*n,.715+-.715*e+-.715*n,.072+-.072*e+.928*n,0,0,.213+-.213*e+.143*n,.715+e*(1-.715)+.14*n,.072+-.072*e+-.283*n,0,0,.213+-.213*e+-.787*n,.715+-.715*e+.715*n,.072+.928*e+.072*n,0,0,0,0,0,1,0,0,0,0,0,1]),this}},{key:"concat",value:function(e){return(e=this._fixMatrix(e)).length!=t.LENGTH?this:(this._multiplyMatrix(e),this)}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"toArray",value:function(){for(var e=[],n=t.LENGTH,i=0;i<n;i++)e[i]=this[i];return e}},{key:"copy",value:function(e){for(var n=t.LENGTH,i=0;i<n;i++)this[i]=e[i];return this}},{key:"toString",value:function(){return"[".concat(this.constructor.name,"]")}},{key:"_multiplyMatrix",value:function(t){for(var e=[],n=0;n<5;n++){for(var i=0;i<5;i++)e[i]=this[i+5*n];for(var r=0;r<5;r++){for(var a=0,o=0;o<5;o++)a+=t[r+5*o]*e[o];this[r+5*n]=a}}}},{key:"_cleanValue",value:function(t,e){return Math.min(e,Math.max(-e,t))}},{key:"_fixMatrix",value:function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e}}]),t}();gt.DELTA_INDEX=Object.freeze([0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10]),gt.IDENTITY_MATRIX=Object.freeze([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]),gt.LENGTH=25;var mt={isSupported:function(){return!!("ontouchstart"in window||window.MSPointerEvent&&window.navigator.msMaxTouchPoints>0||window.PointerEvent&&window.navigator.maxTouchPoints>0)},enable:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(t&&t.canvas&&this.isSupported())&&(!!t.__touch||(t.__touch={pointers:{},multitouch:!e,preventDefault:!n,count:0},"ontouchstart"in window?this._IOS_enable(t):(window.PointerEvent||window.MSPointerEvent)&&this._IE_enable(t),!0))},disable:function(t){t&&("ontouchstart"in window?this._IOS_disable(t):(window.PointerEvent||window.MSPointerEvent)&&this._IE_disable(t),delete t.__touch)},_IOS_enable:function(t){var e=this,n=t.canvas,i=t.__touch.f=function(n){return e._IOS_handleEvent(t,n)};n.addEventListener("touchstart",i,!1),n.addEventListener("touchmove",i,!1),n.addEventListener("touchend",i,!1),n.addEventListener("touchcancel",i,!1)},_IOS_disable:function(t){var e=t.canvas;if(e){var n=t.__touch.f;e.removeEventListener("touchstart",n,!1),e.removeEventListener("touchmove",n,!1),e.removeEventListener("touchend",n,!1),e.removeEventListener("touchcancel",n,!1)}},_IOS_handleEvent:function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var n=e.changedTouches,i=e.type,r=(n.length,!0),a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=c.identifier;c.target==t.canvas&&("touchstart"===i?this._handleStart(t,h,e,c.pageX,c.pageY):"touchmove"===i?this._handleMove(t,h,e,c.pageX,c.pageY):"touchend"!==i&&"touchcancel"!==i||this._handleEnd(t,h,e))}}catch(l){a=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}},_IE_enable:function(t){var e=this,n=t.canvas,i=t.__touch.f=function(n){return e._IE_handleEvent(t,n)};void 0===window.PointerEvent?(n.addEventListener("MSPointerDown",i,!1),window.addEventListener("MSPointerMove",i,!1),window.addEventListener("MSPointerUp",i,!1),window.addEventListener("MSPointerCancel",i,!1),t.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",i,!1),window.addEventListener("pointermove",i,!1),window.addEventListener("pointerup",i,!1),window.addEventListener("pointercancel",i,!1),t.__touch.preventDefault&&(n.style.touchAction="none")),t.__touch.activeIDs={}},_IE_disable:function(t){var e=t.__touch.f;void 0===window.PointerEvent?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},_IE_handleEvent:function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var n=e.type,i=e.pointerId,r=t.__touch.activeIDs;if("MSPointerDown"===n||"pointerdown"===n){if(e.srcElement!=t.canvas)return;r[i]=!0,this._handleStart(t,i,e,e.pageX,e.pageY)}else r[i]&&("MSPointerMove"===n||"pointermove"===n?this._handleMove(t,i,e,e.pageX,e.pageY):"MSPointerUp"!==n&&"MSPointerCancel"!==n&&"pointerup"!==n&&"pointercancel"!==n||(delete r[i],this._handleEnd(t,i,e)))}},_handleStart:function(t,e,n,i,r){var a=t.__touch;if(a.multitouch||!a.count){var o=a.pointers;o[e]||(o[e]=!0,a.count++,t._handlePointerDown(e,n,i,r))}},_handleMove:function(t,e,n,i,r){t.__touch.pointers[e]&&t._handlePointerMove(e,n,i,r)},_handleEnd:function(t,e,n){var i=t.__touch,r=i.pointers;r[e]&&(i.count--,t._handlePointerUp(e,n,!0),delete r[e])}},_t=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(c.a)(e).call(this))).maxWidth=2048,t.maxHeight=2048,t.spriteSheet=null,t.scale=1,t.padding=1,t.timeSlice=.3,t.progress=-1,t.framerate=n,t._frames=[],t._animations={},t._data=null,t._nextFrameIndex=0,t._index=0,t._timerID=null,t._scale=1,t}return Object(l.a)(e,t),Object(a.a)(e,[{key:"addFrame",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(this._data)throw e.ERR_RUNNING;var o=n||t.bounds||t.nominalBounds||t.getBounds&&t.getBounds();return o?this._frames.push({source:t,sourceRect:o,scale:i,funct:r,data:a,index:this._frames.length,height:o.height*i})-1:null}},{key:"addAnimation",value:function(t,n,i,r){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:n,next:i,speed:r}}},{key:"addMovieClip",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(this._data)throw e.ERR_RUNNING;var s=t.frameBounds,u=n||t.bounds||t.nominalBounds||t.getBounds&&t.getBounds();if(u||s){for(var c=this._frames.length,h=t.timeline.duration,l=0;l<h;l++){var f=s&&s[l]?s[l]:u;this.addFrame(t,f,i,this._setupMovieClipFrame,{i:l,f:r,d:a})}var d=t.timeline._labels,v=[];for(var p in d)v.push({index:d[p],label:p});if(v.length){v.sort(function(t,e){return t.index-e.index});for(var y=0,g=v.length;y<g;y++){for(var m=v[y].label,_=c+v[y].index,b=c+(y===g-1?h:v[y+1].index),w=[],x=_;x<b;x++)w.push(x);o&&!(m=o(m,t,_,b))||this.addAnimation(m,w,!0)}}}}},{key:"build",value:function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet}},{key:"buildAsync",value:function(t){var n=this;if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild(),this._timerID=setTimeout(function(){return n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))}},{key:"stopAsync",value:function(){clearTimeout(this._timerID),this._data=null}},{key:"toString",value:function(){return"[".concat(this.constructor.name,"]")}},{key:"_startBuild",value:function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();if(i.sort(function(t,e){return t.height<=e.height?-1:1}),i[i.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var r=0,a=0,o=0;i.length;){var s=this._fillRow(i,r,o,n,t);if(s.w>a&&(a=s.w),r+=s.h,!s.h||!i.length){var u=window.createjs&&createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");u.width=this._getSize(a,this.maxWidth),u.height=this._getSize(r,this.maxHeight),this._data.images[o]=u,s.h||(a=r=0,o++)}}}},{key:"_setupMovieClipFrame",value:function(t,e){var n=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=n,e.f&&e.f(t,e.d,e.i)}},{key:"_getSize",value:function(t,e){for(var n=4;Math.pow(2,++n)<t;);return Math.min(e,Math.pow(2,n))}},{key:"_fillRow",value:function(t,n,i,r,a){for(var o=this.maxWidth,s=this.maxHeight-(n+=a),u=a,c=0,h=t.length-1;h>=0;h--){var l=t[h],f=this._scale*l.scale,d=l.sourceRect,v=l.source,p=Math.floor(f*d.x-a),y=Math.floor(f*d.y-a),g=Math.ceil(f*d.height+2*a),m=Math.ceil(f*d.width+2*a);if(m>o)throw e.ERR_DIMENSIONS;g>s||u+m>o||(l.img=i,l.rect=new w(u,n,m,g),c=c||g,t.splice(h,1),r[l.index]=[u,n,m,g,i,Math.round(-p+f*v.regX-a),Math.round(-y+f*v.regY-a)],u+=m)}return{w:u,h:c}}},{key:"_endBuild",value:function(){this.spriteSheet=new vt(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")}},{key:"_run",value:function(){for(var t=this,e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),n=(new Date).getTime()+e,i=!1;n>(new Date).getTime();)if(!this._drawNext()){i=!0;break}i?this._endBuild():this._timerID=setTimeout(function(){return t._run()},50-e);var r=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var a=new o("progress");a.progress=r,this.dispatchEvent(a)}}},{key:"_drawNext",value:function(){var t=this._frames[this._index],e=t.scale*this._scale,n=t.rect,i=t.sourceRect,r=this._data.images[t.img].getContext("2d");return t.funct&&t.funct(t.source,t.data),r.save(),r.beginPath(),r.rect(n.x,n.y,n.width,n.height),r.clip(),r.translate(Math.ceil(n.x-i.x*e),Math.ceil(n.y-i.y*e)),r.scale(e,e),t.source.draw(r),r.restore(),++this._index<this._frames.length}}]),e}(s);_t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",_t.ERR_RUNNING="a build is already running";P();(function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(u.a)(this,Object(c.a)(e).call(this)))._stage=t,n}return Object(l.a)(e,t),Object(a.a)(e,[{key:"log",value:function(t){t||(t=this._stage),e._log("Batches Per Draw: ".concat((t._batchID/t._drawID).toFixed(4))),this.logContextInfo(t._webGLContext),this.logDepth(t.children,""),this.logTextureFill(t)}},{key:"toggleGPUDraw",value:function(t,n){t||(t=this._stage),void 0===n&&(n=!!t._drawBuffers_),n&&t._drawBuffers_?(t._drawBuffers=t._drawBuffers_,t._drawBuffers_=void 0):(t._drawBuffers_=t._drawBuffers,t._drawBuffers=function(t){this.vocalDebug&&e._log("BlankDraw[".concat(this._drawID,":").concat(this._batchID,"] : ").concat(this.batchReason))})}},{key:"logDepth",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._log;t||(t=this._stage.children);for(var r=t.length,a=0;a<r;a++){var o=t[a];i("".concat(n,"-"),o),o.children&&o.children.length&&this.logDepth(o.children,"|".concat(n),i)}}},{key:"logContextInfo",value:function(t){t||(t=this._stage._webGLContext);var n="\n\t\t\t== LOG:\n\n\t\t\tMax textures per draw: ".concat(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),"\n\n\t\t\tMax textures active: ").concat(t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),"\n\n\t\t\t\n\n\t\t\tMax texture size: ").concat(t.getParameter(t.MAX_TEXTURE_SIZE)/2,"\n\n\t\t\tMax cache size: ").concat(t.getParameter(t.MAX_RENDERBUFFER_SIZE)/2,"\n\n\t\t\t\n\n\t\t\tMax attributes per vertex: ").concat(t.getParameter(t.MAX_VERTEX_ATTRIBS),"\n\n\t\t\tWebGL Version string: ").concat(t.getParameter(t.VERSION),"\n\n\t\t\t======\n\t\t");e._log(n)}},{key:"logTextureFill",value:function(t){t||(t=this._stage);var n=t._textureDictionary,i=t._batchTextureCount;e._log("".concat(textureMax,": ").concat(i));var r=[];for(var a in n){a.replace(window.location.origin,"");var o=n[a],s=!!o._lastActiveIndex&&o._lastActiveIndex===o._activeIndex;r.push({src:src,element:o,shifted:s}),o._lastActiveIndex=o._activeIndex}r.sort(function(e,n){return e.element._drawID===t._drawID?1:e.element._drawID<n.element._drawID?-1:0});for(var u=r.length,c=0;c<u;c++){var h=r[c],l=h.element._drawID===t._drawID;e._log("[".concat(h.src,"] ").concat(l?"ACTIVE":"stale"," ").concat(h.shifted?"steady":"DRIFT"),h.element)}}}],[{key:"dispProps",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="\tP: ".concat(t.x.toFixed(2),"x").concat(t.y.toFixed(2),"\t"),r="\tR: ".concat(t.regX.toFixed(2),"x").concat(t.regY.toFixed(2),"\t");e._log(n,"".concat(t.toString(),"\t"),i,r)}},{key:"_log",value:function(){var t,n;e.alternateOutput?(t=e.alternateOutput).log.apply(t,arguments):(n=console).log.apply(n,arguments)}}]),e}(s)).alternateOutput=null,n.d(e,"d",function(){return j}),n.d(e,"a",function(){return C}),n.d(e,"b",function(){return M}),n.d(e,"c",function(){return dt}),n.d(e,"e",function(){return pt}),n.d(e,"f",function(){return mt})},function(t,e,n){"use strict";var i=n(37);function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return x}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return g}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h});var i=n(17),r=0,a=1,o=2,s=1,u=2,c=3;function h(t,e){return f(t,e,s)}function l(t,e){return f(t,e.clone().reverse(),c)}function f(t,e,n){return function(t,e,n){var r=t.clone(),a=e.clone(),o=function(t,e){var n={int_points1:[],int_points2:[]},i=!0,r=!1,a=void 0;try{for(var o,s=t.edges[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value,c=e.edges.search(u.box),h=!0,l=!1,f=void 0;try{for(var v,p=c[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var y=v.value,g=u.shape.intersect(y.shape),m=!0,_=!1,b=void 0;try{for(var w,x=g[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value;d(u,k,n.int_points1),d(y,k,n.int_points2)}}catch(O){_=!0,b=O}finally{try{m||null==x.return||x.return()}finally{if(_)throw b}}}}catch(O){l=!0,f=O}finally{try{h||null==p.return||p.return()}finally{if(l)throw f}}}}catch(O){r=!0,a=O}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(r,a);v(o),g(r,o.int_points1_sorted),g(a,o.int_points2_sorted),function(t){if(t.int_points1.length<2)return;for(var e=!1,n=t.int_points1_sorted[0],r=t.int_points2[n.id],a=1;a<t.int_points1_sorted.length;a++){var o=t.int_points1_sorted[a];if(i.q.EQ(o.arc_length,n.arc_length)){var s=t.int_points2[o.id];o.edge_before===n.edge_before&&o.edge_after===n.edge_after&&s.edge_before===r.edge_before&&s.edge_after===r.edge_after&&(o.id=-1,s.id=-1,e=!0)}else n=o,r=t.int_points2[n.id]}r=t.int_points2_sorted[0],n=t.int_points1[r.id];for(var u=1;u<t.int_points2_sorted.length;u++){var c=t.int_points2_sorted[u];if(-1!=c.id)if(-1!=r.id&&i.q.EQ(c.arc_length,r.arc_length)){var h=t.int_points1[c.id];h.edge_before===n.edge_before&&h.edge_after===n.edge_after&&c.edge_before===r.edge_before&&c.edge_after===r.edge_after&&(h.id=-1,c.id=-1,e=!0)}else r=c,n=t.int_points1[r.id]}e&&(t.int_points1=t.int_points1.filter(function(t){return t.id>=0}),t.int_points2=t.int_points2.filter(function(t){return t.id>=0}),t.int_points1.forEach(function(t,e){return t.id=e}),t.int_points2.forEach(function(t,e){return t.id=e}),t.int_points1_sorted=[],t.int_points2_sorted=[],v(t))}(o);var u=m(r,o.int_points1),c=m(a,o.int_points2);return _(u,a),_(c,r),b(o.int_points1),b(o.int_points2),w(o.int_points1,e),w(o.int_points2,t),function(t){for(var e=void 0,n=void 0,r=void 0,a=t.int_points1.length,o=0;o<a;o++){var s=t.int_points1_sorted[o];s.face!==e&&(n=s,e=s.face),r=o+1===a?n:t.int_points1_sorted[o+1].face!==e?n:t.int_points1_sorted[o+1];var u=s.edge_after,c=r.edge_before;if(u.bv===i.b&&c.bv===i.b&&u===c){var h=t.int_points2[s.id],l=t.int_points2[r.id],f=h.edge_after,d=l.edge_before;f.bv===i.b&&d.bv===i.b&&f===d||(h=t.int_points2[r.id],l=t.int_points2[s.id],f=h.edge_after,d=l.edge_before),f.bv===i.b&&d.bv===i.b&&f===d&&u.setOverlap(f)}}}(o),x(r,n,o.int_points1_sorted,!0),x(a,n,o.int_points2_sorted,!1),E(r,u,n,!0),E(a,c,n,!1),function(t,e,n,i){var r=!0,a=!1,o=void 0;try{for(var u,c=function(){var e=u.value,r=!0,a=!1,o=void 0;try{for(var c,h=e[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var l=c.value;t.edges.add(l)}}catch(f){a=!0,o=f}finally{try{r||null==h.return||h.return()}finally{if(a)throw o}}n===s&&i&&void 0===i.find(function(t){return t.face===e})&&t.addFace(e.first,e.last)},h=e.faces[Symbol.iterator]();!(r=(u=h.next()).done);r=!0)c()}catch(l){a=!0,o=l}finally{try{r||null==h.return||h.return()}finally{if(a)throw o}}}(r,a,n,o.int_points2),function(t,e,n){if(0!==n.int_points1.length)for(var i=0;i<n.int_points1.length;i++){var r=n.int_points1[i],a=n.int_points2[i];if(void 0!==r.edge_before&&void 0===r.edge_after&&void 0===a.edge_before&&void 0!==a.edge_after&&(r.edge_before.next=a.edge_after,a.edge_after.prev=r.edge_before,r.edge_after=a.edge_after,a.edge_before=r.edge_before),void 0!==a.edge_before&&void 0===a.edge_after&&void 0===r.edge_before&&void 0!==r.edge_after&&(a.edge_before.next=r.edge_after,r.edge_after.prev=a.edge_before,a.edge_after=r.edge_after,r.edge_before=a.edge_before),void 0!==r.edge_before&&void 0===r.edge_after){var o=!0,s=!1,u=void 0;try{for(var c,h=n.int_points1_sorted[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var l=c.value;l!==r&&void 0===l.edge_before&&void 0!==l.edge_after&&l.pt.equalTo(r.pt)&&(r.edge_before.next=l.edge_after,l.edge_after.prev=r.edge_before,r.edge_after=l.edge_after,l.edge_before=r.edge_before)}}catch(m){s=!0,u=m}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}}if(void 0!==a.edge_before&&void 0===a.edge_after){var f=!0,d=!1,v=void 0;try{for(var p,y=n.int_points2_sorted[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var g=p.value;g!==a&&void 0===g.edge_before&&void 0!==g.edge_after&&g.pt.equalTo(a.pt)&&(a.edge_before.next=g.edge_after,g.edge_after.prev=a.edge_before,a.edge_after=g.edge_after,g.edge_before=a.edge_before)}}catch(m){d=!0,v=m}finally{try{f||null==y.return||y.return()}finally{if(d)throw v}}}}}(0,0,o),O(r,o.int_points1),O(a,o.int_points2),S(r,o.int_points1,o.int_points2),S(r,o.int_points2,o.int_points1),r}(t,e,n)}function d(t,e,n){var s=n.length,u=t.shape.split(e);if(0!==u.length){var c=0;1===u.length?t.shape.start.equalTo(e)?c=0:t.shape.end.equalTo(e)&&(c=t.shape.length):c=u[0].length;var h=r;i.q.EQ(c,0)&&(h|=a),i.q.EQ(c,t.shape.length)&&(h|=o);var l=h&o&&0===t.next.arc_length?0:t.arc_length+c;n.push({id:s,pt:e,arc_length:l,edge_before:t,edge_after:void 0,face:t.face,is_vertex:h})}}function v(t){0!==t.int_points1.length&&(t.int_points1_sorted=p(t.int_points1),t.int_points2_sorted=p(t.int_points2))}function p(t){var e=new Map,n=0,i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;e.has(u.face)||(e.set(u.face,n),n++)}}catch(p){r=!0,a=p}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}var c=!0,h=!1,l=void 0;try{for(var f,d=t[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;v.faceId=e.get(v.face)}}catch(p){h=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(h)throw l}}return t.slice().sort(y)}function y(t,e){return t.faceId<e.faceId?-1:t.faceId>e.faceId?1:i.q.LT(t.arc_length,e.arc_length)?-1:i.q.GT(t.arc_length,e.arc_length)?1:0}function g(t,e){if(e){var n=!0,i=!1,r=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,h=c.edge_before;if(h.shape.start.equalTo(c.pt)&&(c.is_vertex|=a),h.shape.end.equalTo(c.pt)&&(c.is_vertex|=o),c.is_vertex&a)c.edge_before=h.prev,c.is_vertex=o;else if(!(c.is_vertex&o)){var l=t.addVertex(c.pt,h);c.edge_before=l}}}catch(m){i=!0,r=m}finally{try{n||null==u.return||u.return()}finally{if(i)throw r}}var f=!0,d=!1,v=void 0;try{for(var p,y=e[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var g=p.value;g.edge_after=g.edge_before.next}}catch(m){d=!0,v=m}finally{try{f||null==y.return||y.return()}finally{if(d)throw v}}}}function m(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=function(){var t=o.value;e.find(function(e){return e.face===t})||n.push(t)},u=t.faces[Symbol.iterator]();!(i=(o=u.next()).done);i=!0)s()}catch(c){r=!0,a=c}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}return n}function _(t,e){var n=!0,i=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.first.bv=s.first.bvStart=s.first.bvEnd=void 0,s.first.setInclusion(e)}}catch(u){i=!0,r=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}function b(t){var e=!0,n=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value;s.edge_before.bvStart=void 0,s.edge_before.bvEnd=void 0,s.edge_before.bv=void 0,s.edge_before.overlap=void 0,s.edge_after.bvStart=void 0,s.edge_after.bvEnd=void 0,s.edge_after.bv=void 0,s.edge_after.overlap=void 0}}catch(v){n=!0,r=v}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}var u=!0,c=!1,h=void 0;try{for(var l,f=t[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;d.edge_before.bvEnd=i.b,d.edge_after.bvStart=i.b}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}function w(t,e){var n=!0,i=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.edge_before.setInclusion(e),s.edge_after.setInclusion(e)}}catch(u){i=!0,r=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}function x(t,e,n,r){if(n)for(var a,o,h=void 0,l=void 0,f=0;f<n.length;f++)if((a=n[f]).face!==h&&(l=f,h=a.face),!h.isEmpty()){var d=f,v=k(n,f,h),p=void 0;o=n[p=d+v<n.length&&n[d+v].face===a.face?d+v:l];var y=p,g=k(n,y,h),m=a.edge_after,_=o.edge_before;if(m.bv===i.h&&_.bv===i.h&&e===s||m.bv===i.k&&_.bv===i.k&&e===u||(m.bv===i.k||_.bv===i.k)&&e===c&&!r||(m.bv===i.h||_.bv===i.h)&&e===c&&r||m.bv===i.b&&_.bv===i.b&&m.overlap&i.m&&r||m.bv===i.b&&_.bv===i.b&&m.overlap&i.l){t.removeChain(h,m,_);for(var b=d;b<d+v;b++)a.edge_after=void 0;for(var w=y;w<y+g;w++)o.edge_before=void 0}f+=v-1}}function k(t,e,n){var i,r,a=1;if(1==t.length)return 1;i=t[e];for(var o=e+1;o<t.length&&i.face==n&&((r=t[o]).pt.equalTo(i.pt)&&r.edge_before===i.edge_before&&r.edge_after===i.edge_after);o++)a++;return a}function O(t,e){var n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t.faces.delete(s.face),s.face=void 0,s.edge_before&&(s.edge_before.face=void 0),s.edge_after&&(s.edge_after.face=void 0)}}catch(u){i=!0,r=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}function S(t,e,n){var i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;if(void 0!==u.edge_before&&void 0!==u.edge_after&&(!u.face&&!u.edge_after.face&&!u.edge_before.face)){var c=u.edge_after,h=u.edge_before,l=t.addFace(c,h),f=!0,d=!1,v=void 0;try{for(var p,y=e[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var g=p.value;g.edge_before&&g.edge_after&&g.edge_before.face===l&&g.edge_after.face===l&&(g.face=l)}}catch(O){d=!0,v=O}finally{try{f||null==y.return||y.return()}finally{if(d)throw v}}var m=!0,_=!1,b=void 0;try{for(var w,x=n[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var k=w.value;k.edge_before&&k.edge_after&&k.edge_before.face===l&&k.edge_after.face===l&&(k.face=l)}}catch(O){_=!0,b=O}finally{try{m||null==x.return||x.return()}finally{if(_)throw b}}}}}catch(O){r=!0,a=O}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}}function E(t,e,n,r){var a=!0,o=!1,h=void 0;try{for(var l,f=e[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var d=l.value,v=d.first.bv;(n===s&&v===i.h||n===c&&v===i.h&&r||n===c&&v===i.k&&!r||n===u&&v===i.k)&&t.deleteFace(d)}}catch(p){o=!0,h=p}finally{try{a||null==f.return||f.return()}finally{if(o)throw h}}}},function(t,e,n){t.exports=n(56)},function(t,e,n){"use strict";var i=function(){};t.exports=i},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}n.d(e,"a",function(){return r})},,function(t,e,n){"use strict";n.d(e,"e",function(){return u}),n.d(e,"c",function(){return h}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return v}),n.d(e,"d",function(){return d});var i=n(51),r={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function s(t){if("object"!==("undefined"===typeof t?"undefined":a(t))||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function u(t,e,n){var o;if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(u)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var c=t,h=e,l=[],f=l,d=!1;function v(){f===l&&(f=l.slice())}function p(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return h}function y(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return v(),f.push(t),function(){if(e){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,v();var n=f.indexOf(t);f.splice(n,1)}}}function g(t){if(!s(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,h=c(h,t)}finally{d=!1}for(var e=l=f,n=0;n<e.length;n++){(0,e[n])()}return t}return g({type:r.INIT}),(o={dispatch:g,subscribe:y,getState:p,replaceReducer:function(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");c=t,g({type:r.REPLACE})}})[i.a]=function(){var t,e=y;return(t={subscribe:function(t){if("object"!==("undefined"===typeof t?"undefined":a(t))||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(p())}return n(),{unsubscribe:e(n)}}})[i.a]=function(){return this},t},o}function c(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function h(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var a=e[i];0,"function"===typeof t[a]&&(n[a]=t[a])}var o=Object.keys(n);var s=void 0;try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:r.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+r.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(u){s=u}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(s)throw s;for(var i=!1,r={},a=0;a<o.length;a++){var u=o[a],h=n[u],l=t[u],f=h(l,e);if("undefined"===typeof f){var d=c(u,e);throw new Error(d)}r[u]=f,i=i||f!==l}return i?r:t}}function l(t,e){return function(){return e(t.apply(this,arguments))}}function f(t,e){if("function"===typeof t)return l(t,e);if("object"!==("undefined"===typeof t?"undefined":a(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":"undefined"===typeof t?"undefined":a(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},r=0;r<n.length;r++){var o=n[r],s=t[o];"function"===typeof s&&(i[o]=l(s,e))}return i}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function v(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=t.apply(void 0,i),s=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},u={getState:a.getState,dispatch:function(){return s.apply(void 0,arguments)}},c=e.map(function(t){return t(u)});return s=d.apply(void 0,c)(a.dispatch),o({},a,{dispatch:s})}}}},function(t,e,n){"use strict";(function(e){var i=n(18),r=n(60),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!==typeof XMLHttpRequest?t=n(40):"undefined"!==typeof e&&(t=n(40)),t}(),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){s.headers[t]={}}),i.forEach(["post","put","patch"],function(t){s.headers[t]=i.merge(a)}),t.exports=s}).call(this,n(59))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=u(n(0)),o=u(n(21)),s=u(n(75));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.displayName="FontAwesome",t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Component),r(e,[{key:"render",value:function(){var t=this.props,e=t.border,n=t.cssModule,r=t.className,o=t.fixedWidth,u=t.flip,c=t.inverse,h=t.name,l=t.pulse,f=t.rotate,d=t.size,v=t.spin,p=t.stack,y=t.tag,g=void 0===y?"span":y,m=t.ariaLabel,_=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(t,["border","cssModule","className","fixedWidth","flip","inverse","name","pulse","rotate","size","spin","stack","tag","ariaLabel"]),b=[];return n?(b.push(n.fa),b.push(n["fa-"+h]),d&&b.push(n["fa-"+d]),v&&b.push(n["fa-spin"]),l&&b.push(n["fa-pulse"]),e&&b.push(n["fa-border"]),o&&b.push(n["fa-fw"]),c&&b.push(n["fa-inverse"]),u&&b.push(n["fa-flip-"+u]),f&&b.push(n["fa-rotate-"+f]),p&&b.push(n["fa-stack-"+p])):(b.push("fa"),b.push("fa-"+h),d&&b.push("fa-"+d),v&&b.push("fa-spin"),l&&b.push("fa-pulse"),e&&b.push("fa-border"),o&&b.push("fa-fw"),c&&b.push("fa-inverse"),u&&b.push("fa-flip-"+u),f&&b.push("fa-rotate-"+f),p&&b.push("fa-stack-"+p)),r&&b.push(r),a.default.createElement(g,i({},_,{"aria-hidden":!0,className:b.join(" ")}),m?a.default.createElement("span",{style:s.default},m):null)}}]),e}();c.propTypes={ariaLabel:o.default.string,border:o.default.bool,className:o.default.string,cssModule:o.default.object,fixedWidth:o.default.bool,flip:o.default.oneOf(["horizontal","vertical"]),inverse:o.default.bool,name:o.default.string.isRequired,pulse:o.default.bool,rotate:o.default.oneOf([90,180,270]),size:o.default.oneOf(["lg","2x","3x","4x","5x"]),spin:o.default.bool,stack:o.default.oneOf(["1x","2x"]),tag:o.default.string},e.default=c,t.exports=e.default},function(t,e,n){"use strict";var i=n(36);var r=n(38);function a(t,e){return Object(i.a)(t)||function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(u){r=!0,a=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(t,e)||Object(r.a)()}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";t.exports=n(50)},function(t,e,n){"use strict";function i(t){if(Array.isArray(t))return t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(18),r=n(61),a=n(63),o=n(64),s=n(65),u=n(41),c="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n(66);t.exports=function(t){return new Promise(function(e,h){var l=t.data,f=t.headers;i.isFormData(l)&&delete f["Content-Type"];var d=new XMLHttpRequest,v="onreadystatechange",p=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,v="onload",p=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var y=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+c(y+":"+g)}if(d.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[v]=function(){if(d&&(4===d.readyState||p)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};r(e,h,i),d=null}},d.onerror=function(){h(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){h(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var m=n(67),_=(t.withCredentials||s(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;_&&(f[t.xsrfHeaderName]=_)}if("setRequestHeader"in d&&i.forEach(f,function(t,e){"undefined"===typeof l&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(b){if("json"!==t.responseType)throw b}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),h(t),d=null)}),void 0===l&&(l=null),d.send(l)})}},function(t,e,n){"use strict";var i=n(62);t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){},function(t,e,n){"use strict";var i=n(27),r=n.n(i),a=n(22),o=n.n(a),s=n(0),u=n.n(s),c=n(21),h=n.n(c),l=n(46),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var v=function(t){return 0===u.a.Children.count(t)},p=function(t){function e(){var n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=i=d(this,t.call.apply(t,[this].concat(a))),i.state={match:i.computeMatch(i.props,i.context.router)},d(i,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:f({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,i=t.location,r=t.path,a=t.strict,s=t.exact,u=t.sensitive;if(n)return n;o()(e,"You should not use <Route> or withRouter() outside a <Router>");var c=e.route,h=(i||c.location).pathname;return Object(l.a)(h,{path:r,strict:a,exact:s,sensitive:u},c.match)},e.prototype.componentWillMount=function(){r()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),r()(!(this.props.component&&this.props.children&&!v(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),r()(!(this.props.render&&this.props.children&&!v(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){r()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),r()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,i=e.component,r=e.render,a=this.context.router,o=a.history,s=a.route,c=a.staticContext,h={match:t,location:this.props.location||s.location,history:o,staticContext:c};return i?t?u.a.createElement(i,h):null:r?t?r(h):null:"function"===typeof n?n(h):n&&!v(n)?u.a.Children.only(n):null},e}(u.a.Component);p.propTypes={computedMatch:h.a.object,path:h.a.string,exact:h.a.bool,strict:h.a.bool,sensitive:h.a.bool,component:h.a.func,render:h.a.func,children:h.a.oneOfType([h.a.func,h.a.node]),location:h.a.object},p.contextTypes={router:h.a.shape({history:h.a.object.isRequired,route:h.a.object.isRequired,staticContext:h.a.object})},p.childContextTypes={router:h.a.object.isRequired},e.a=p},function(t,e,n){"use strict";var i=n(85),r=n.n(i),a={},o=0;e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof e&&(e={path:e});var i=e,s=i.path,u=i.exact,c=void 0!==u&&u,h=i.strict,l=void 0!==h&&h,f=i.sensitive;if(null==s)return n;var d=function(t,e){var n=""+e.end+e.strict+e.sensitive,i=a[n]||(a[n]={});if(i[t])return i[t];var s=[],u={re:r()(t,s,e),keys:s};return o<1e4&&(i[t]=u,o++),u}(s,{end:c,strict:l,sensitive:void 0!==f&&f}),v=d.re,p=d.keys,y=v.exec(t);if(!y)return null;var g=y[0],m=y.slice(1),_=t===g;return c&&!_?null:{path:s,url:"/"===s&&""===g?"/":g,isExact:_,params:p.reduce(function(t,e,n){return t[e.name]=m[n],t},{})}}},function(t,e,n){"use strict";var i=n(48);function r(){}t.exports=function(){function t(t,e,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var i;function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(35),o=(n(0),{childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u=r({},a.ForwardRef,(r(i={},"$$typeof",!0),r(i,"render",!0),i)),c=Object.defineProperty,h=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,v=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(v){var r=d(n);r&&r!==v&&t(e,r,i)}var a=h(n);l&&(a=a.concat(l(n)));for(var p=u[e.$$typeof]||o,y=u[n.$$typeof]||o,g=0;g<a.length;++g){var m=a[g];if(!s[m]&&(!i||!i[m])&&(!y||!y[m])&&(!p||!p[m])){var _=f(n,m);try{c(e,m,_)}catch(b){}}}return e}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,l=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.memo"):60115,p=i?Symbol.for("react.lazy"):60116;function y(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case l:case o:case u:case s:return t;default:switch(t=t&&t.$$typeof){case h:case f:case c:return t;default:return e}}case a:return e}}}function g(t){return y(t)===l}e.typeOf=y,e.AsyncMode=l,e.ConcurrentMode=l,e.ContextConsumer=h,e.ContextProvider=c,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Profiler=u,e.Portal=a,e.StrictMode=s,e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===l||t===u||t===s||t===d||"object"===typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===v||t.$$typeof===c||t.$$typeof===h||t.$$typeof===f)},e.isAsyncMode=function(t){return g(t)},e.isConcurrentMode=g,e.isContextConsumer=function(t){return y(t)===h},e.isContextProvider=function(t){return y(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return y(t)===f},e.isFragment=function(t){return y(t)===o},e.isProfiler=function(t){return y(t)===u},e.isPortal=function(t){return y(t)===a},e.isStrictMode=function(t){return y(t)===s}},function(t,e,n){"use strict";(function(t,i){var r,a=n(54);r="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:i;var o=Object(a.a)(r);e.a=o}).call(this,n(52),n(53)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t){return function(e){var n=e.dispatch,i=e.getState;return function(e){return function(r){return"function"===typeof r?r(n,i,t):e(r)}}}}var r=i();r.withExtraArgument=i,e.a=r},function(t,e,n){"use strict";var i=n(18),r=n(39),a=n(58),o=n(32);function s(t){var e=new a(t),n=r(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var u=s(o);u.Axios=a,u.create=function(t){return s(i.merge(o,t))},u.Cancel=n(43),u.CancelToken=n(73),u.isCancel=n(42),u.all=function(t){return Promise.all(t)},u.spread=n(74),t.exports=u,t.exports.default=u},function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var i=n(32),r=n(18),a=n(68),o=n(69);function s(t){this.defaults=t,this.interceptors={request:new a,response:new a}}s.prototype.request=function(t){"string"===typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),(t=r.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e){var n,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"===typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,c=[],h=!1,l=-1;function f(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!h){var t=s(f);h=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new v(t,e)),1!==c.length||h||s(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(18);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(41);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";var i=n(18);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,function(t,e){null!==t&&"undefined"!==typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,n){"use strict";var i=n(18),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var i=n(18);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,a=String(t),o="",s=0,u=i;a.charAt(0|s)||(u="=",s%1);o+=u.charAt(63&e>>8-s%1*8)){if((n=a.charCodeAt(s+=.75))>255)throw new r;e=e<<8|n}return o}},function(t,e,n){"use strict";var i=n(18);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(18);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";var i=n(18),r=n(70),a=n(42),o=n(32),s=n(71),u=n(72);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return c(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(c(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(18);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(43);function r(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={position:"absolute",width:"1px",height:"1px",padding:"0px",margin:"-1px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",border:"0px"},t.exports=e.default},,,,,,,,,,function(t,e,n){var i=n(86);t.exports=d,t.exports.parse=a,t.exports.compile=function(t,e){return s(a(t,e))},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(t,e){for(var n,i=[],a=0,o=0,s="",h=e&&e.delimiter||"/";null!=(n=r.exec(t));){var l=n[0],f=n[1],d=n.index;if(s+=t.slice(o,d),o=d+l.length,f)s+=f[1];else{var v=t[o],p=n[2],y=n[3],g=n[4],m=n[5],_=n[6],b=n[7];s&&(i.push(s),s="");var w=null!=p&&null!=v&&v!==p,x="+"===_||"*"===_,k="?"===_||"*"===_,O=n[2]||h,S=g||m;i.push({name:y||a++,prefix:p||"",delimiter:O,optional:k,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+u(O)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&i.push(s),i}function o(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var a="",s=n||{},u=(r||{}).pretty?o:encodeURIComponent,c=0;c<t.length;c++){var h=t[c];if("string"!==typeof h){var l,f=s[h.name];if(null==f){if(h.optional){h.partial&&(a+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(i(f)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(l=u(f[d]),!e[c].test(l))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(l)+"`");a+=(0===d?h.prefix:h.delimiter)+l}}else{if(l=h.asterisk?encodeURI(f).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(f),!e[c].test(l))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+l+'"');a+=h.prefix+l}}else a+=h}return a}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function l(t){return t.sensitive?"":"i"}function f(t,e,n){i(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)o+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";e.push(c),c.repeat&&(d+="(?:"+f+d+")*"),o+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var v=u(n.delimiter||"/"),p=o.slice(-v.length)===v;return r||(o=(p?o.slice(0,-v.length):o)+"(?:"+v+"(?=$))?"),o+=a?"$":r&&p?"":"(?="+v+"|$)",h(new RegExp("^"+o,l(n)),e)}function d(t,e,n){return i(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(t,e)}(t,e):i(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(d(t[r],e,n).source);return h(new RegExp("(?:"+i.join("|")+")",l(n)),e)}(t,e,n):function(t,e,n){return f(a(t,n),e,n)}(t,e,n)}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},,,,,,,function(t,e,n){"use strict";var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,h=c&&c(Object);t.exports=function t(e,n,l){if("string"!==typeof n){if(h){var f=c(n);f&&f!==h&&t(e,f,l)}var d=o(n);s&&(d=d.concat(s(n)));for(var v=0;v<d.length;++v){var p=d[v];if(!i[p]&&!r[p]&&(!l||!l[p])){var y=u(n,p);try{a(e,p,y)}catch(g){}}}return e}return e}},,,function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(45);e.a=i.a},,function(t,e,n){"use strict";var i=n(27),r=n.n(i),a=n(0),o=n.n(a),s=n(21),u=n.n(s),c=n(28),h=n.n(c),l=n(22),f=n.n(l);function d(t){return"/"===t.charAt(0)}function v(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}var p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&d(t),a=e&&d(e),o=r||a;if(t&&d(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var s=void 0;if(i.length){var u=i[i.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,h=i.length;h>=0;h--){var l=i[h];"."===l?v(i,h):".."===l?(v(i,h),c++):c&&(v(i,h),c--)}if(!o)for(;c--;c)i.unshift("..");!o||""===i[0]||i[0]&&d(i[0])||i.unshift("");var f=i.join("/");return s&&"/"!==f.substr(-1)&&(f+="/"),f};"function"===typeof Symbol&&Symbol.iterator;var y=function(t){return"/"===t.charAt(0)?t:"/"+t},g=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},m=function(t,e){return g(t,e)?t.substr(e.length):t},_=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},b=function(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r},w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x=function(t,e,n,i){var r=void 0;"string"===typeof t?(r=function(t){var e=t||"/",n="",i="",r=e.indexOf("#");-1!==r&&(i=e.substr(r),e=e.substr(0,r));var a=e.indexOf("?");return-1!==a&&(n=e.substr(a),e=e.substr(0,a)),{pathname:e,search:"?"===n?"":n,hash:"#"===i?"":i}}(t)).state=e:(void 0===(r=w({},t)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==e&&void 0===r.state&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(r.key=n),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=p(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r},k=function(){var t=null,e=[];return{setPrompt:function(e){return h()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,i,r){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof i?i(a,r):(h()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==a)}else r(!0)},appendListener:function(t){var n=!0,i=function(){n&&t.apply(void 0,arguments)};return e.push(i),function(){n=!1,e=e.filter(function(t){return t!==i})}},notifyListeners:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e.forEach(function(t){return t.apply(void 0,n)})}}},O=!("undefined"===typeof window||!window.document||!window.document.createElement),S=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},E=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},T=function(t,e){return e(window.confirm(t))},j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},A=function(){try{return window.history.state||{}}catch(t){return{}}},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f()(O,"Browser history needs a DOM");var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),r=t.forceRefresh,a=void 0!==r&&r,o=t.getUserConfirmation,s=void 0===o?T:o,u=t.keyLength,c=void 0===u?6:u,l=t.basename?_(y(t.basename)):"",d=function(t){var e=t||{},n=e.key,i=e.state,r=window.location,a=r.pathname+r.search+r.hash;return h()(!l||g(a,l),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+l+'".'),l&&(a=m(a,l)),x(a,i,n)},v=function(){return Math.random().toString(36).substr(2,c)},p=k(),w=function(t){P(Y,t),Y.length=e.length,p.notifyListeners(Y.location,Y.action)},C=function(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||M(d(t.state))},I=function(){M(d(A()))},L=!1,M=function(t){L?(L=!1,w()):p.confirmTransitionTo(t,"POP",s,function(e){e?w({action:"POP",location:t}):R(t)})},R=function(t){var e=Y.location,n=N.indexOf(e.key);-1===n&&(n=0);var i=N.indexOf(t.key);-1===i&&(i=0);var r=n-i;r&&(L=!0,U(r))},D=d(A()),N=[D.key],F=function(t){return l+b(t)},U=function(t){e.go(t)},B=0,q=function(t){1===(B+=t)?(S(window,"popstate",C),i&&S(window,"hashchange",I)):0===B&&(E(window,"popstate",C),i&&E(window,"hashchange",I))},G=!1,Y={length:e.length,action:"POP",location:D,createHref:F,push:function(t,i){h()(!("object"===("undefined"===typeof t?"undefined":j(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=x(t,i,v(),Y.location);p.confirmTransitionTo(r,"PUSH",s,function(t){if(t){var i=F(r),o=r.key,s=r.state;if(n)if(e.pushState({key:o,state:s},null,i),a)window.location.href=i;else{var u=N.indexOf(Y.location.key),c=N.slice(0,-1===u?0:u+1);c.push(r.key),N=c,w({action:"PUSH",location:r})}else h()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=i}})},replace:function(t,i){h()(!("object"===("undefined"===typeof t?"undefined":j(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=x(t,i,v(),Y.location);p.confirmTransitionTo(r,"REPLACE",s,function(t){if(t){var i=F(r),o=r.key,s=r.state;if(n)if(e.replaceState({key:o,state:s},null,i),a)window.location.replace(i);else{var u=N.indexOf(Y.location.key);-1!==u&&(N[u]=r.key),w({action:"REPLACE",location:r})}else h()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(i)}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=p.setPrompt(t);return G||(q(1),G=!0),function(){return G&&(G=!1,q(-1)),e()}},listen:function(t){var e=p.appendListener(t);return q(1),function(){q(-1),e()}}};return Y},I=(Object.assign,"function"===typeof Symbol&&Symbol.iterator,Object.assign,Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});function L(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var M=function(t){function e(){var n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=i=L(this,t.call.apply(t,[this].concat(a))),i.state={match:i.computeMatch(i.props.history.location.pathname)},L(i,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:I({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,i=e.history;f()(null==n||1===o.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=i.listen(function(){t.setState({match:t.computeMatch(i.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){r()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?o.a.Children.only(t):null},e}(o.a.Component);M.propTypes={history:u.a.object.isRequired,children:u.a.node},M.contextTypes={router:u.a.object},M.childContextTypes={router:u.a.object.isRequired};var R=M;function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var N=function(t){function e(){var n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=i=D(this,t.call.apply(t,[this].concat(a))),i.history=C(i.props),D(i,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){r()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return o.a.createElement(R,{history:this.history,children:this.props.children})},e}(o.a.Component);N.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};e.a=N},function(t,e,n){"use strict";var i=n(0),r=n.n(i),a=n(21),o=n.n(a),s=n(93),u=n.n(s),c=n(45),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var l=function(t){var e=function(e){var n=e.wrappedComponentRef,i=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(e,["wrappedComponentRef"]);return r.a.createElement(c.a,{children:function(e){return r.a.createElement(t,h({},i,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:o.a.func},u()(e,t)};e.a=l},function(t,e,n){"use strict";var i=n(0),r=n.n(i),a=n(21),o=n.n(a),s=n(27),u=n.n(s),c=n(22),h=n.n(c),l=n(46);var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){u()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,i=void 0,a=void 0;return r.a.Children.forEach(e,function(e){if(null==i&&r.a.isValidElement(e)){var o=e.props,s=o.path,u=o.exact,c=o.strict,h=o.sensitive,f=o.from,d=s||f;a=e,i=Object(l.a)(n.pathname,{path:d,exact:u,strict:c,sensitive:h},t.match)}}),i?r.a.cloneElement(a,{location:n,computedMatch:i}):null},e}(r.a.Component);f.contextTypes={router:o.a.shape({route:o.a.object.isRequired}).isRequired},f.propTypes={children:o.a.node,location:o.a.object};var d=f;e.a=d}]]);
//# sourceMappingURL=2.78cde87a.chunk.js.map