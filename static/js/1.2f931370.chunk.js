(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{101:function(e,t,a){e.exports={LabelsLayer:"labelsLayer_LabelsLayer__1O9Hj",LabelComponent:"labelsLayer_LabelComponent__3GWlj"}},103:function(e,t,a){e.exports={BackDrop:"ModalPopup_BackDrop__3HTI8",ModalPopup:"ModalPopup_ModalPopup__yAVS4",fadeIn:"ModalPopup_fadeIn__3ymPT"}},105:function(e,t,a){e.exports={AboutPopup:"AboutPopup_AboutPopup__2Ghnq"}},107:function(e,t,a){e.exports={"Main-content":"MainComponent_Main-content__1ZoSP"}},109:function(e,t,a){e.exports={"Layer-list-toolbar":"LayerListToolbar_Layer-list-toolbar__GYX1Q"}},111:function(e,t,a){e.exports={"Layer-edit-form":"LayerEditForm_Layer-edit-form__ihOJE"}},113:function(e,t,a){e.exports={Layer:"LayerListElement_Layer__1WgQk",LayerSelectionBox:"LayerListElement_LayerSelectionBox__2DXrV",LayerSelectionMark:"LayerListElement_LayerSelectionMark__2zYS5",LayerNameBox:"LayerListElement_LayerNameBox__1m2fQ","Layer-displayed":"LayerListElement_Layer-displayed__223Ba","Layer-undisplayed":"LayerListElement_Layer-undisplayed__3_DcN"}},115:function(e,t,a){e.exports={"App-layers":"LayersList_App-layers__dDR80"}},117:function(e,t,a){e.exports={"App-aside":"AsideComponent_App-aside__1yhWy"}},119:function(e,t,a){e.exports={"App-header":"HeaderComponent_App-header__19h2h"}},121:function(e,t){e.exports="data:image/png;base64,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"},122:function(e,t,a){e.exports={Logo:"Logo_Logo__PNO_b","App-logo-spin":"Logo_App-logo-spin__2ndIi"}},124:function(e,t,a){},146:function(e,t,a){e.exports={BackDrop:"Spinner_BackDrop__19thA",Loader:"Spinner_Loader__2rJlS",load2:"Spinner_load2__2_wJ9"}},151:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=(a(9),a(1)),s=a(2),i=a(4),l=a(3),c=a(5),u=a(153),p=a(33),h=a.n(p),d=a(53),y=a.n(d),f=a(54),m=a.n(f),v=a(55),g=a.n(v),E=a(56),A=a.n(E),S=a(57),b=a.n(S),O=(a(34),function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).openJobButtonClicked=function(){return a.refs.browseFiles.click()},a.notImplemented=function(){return alert("Not implemented yet")},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:b.a["App-toolbar"]},n.a.createElement("button",{title:"Open file",onClick:this.openJobButtonClicked},n.a.createElement(h.a,{name:"folder-open",size:"2x",style:{color:"grey"}})),n.a.createElement("input",{style:{fontSize:16,marginTop:5,marginBottom:5,display:"none"},type:"file",id:"browseFiles",ref:"browseFiles",name:"files[]",multiple:!0,onChange:this.props.onFileSelected}),n.a.createElement("button",{title:"Zoom and pan to home view",onClick:this.props.onHomeButtonPressed},n.a.createElement(h.a,{name:"home",size:"2x",style:{color:"grey"}})),n.a.createElement("button",{title:"Pan by drag",onClick:this.props.onPanByDragPressed},n.a.createElement(h.a,{name:"arrows-alt",size:"2x",style:{color:"grey"}})),n.a.createElement("button",{title:"Measure distance between points",onClick:this.props.onMeasurePointsButtonPressed},n.a.createElement("img",{src:m.a,alt:"measurePoints"})),n.a.createElement("button",{title:"Measure distance between shapes",onClick:this.props.onMeasureBetweenShapesButtonPressed},n.a.createElement("img",{src:y.a,alt:"measureShapes"})),n.a.createElement("button",{title:"Display solid or wire",onClick:this.props.onToggleWidthModePressed},n.a.createElement("img",{src:g.a,alt:"width"})),n.a.createElement("button",{title:"Display vertices on/off",onClick:this.props.onToggleVerticesPressed},n.a.createElement("img",{src:A.a,alt:"vertices"})),n.a.createElement("button",{title:"Display labels on/off",onClick:this.props.onToggleLabelsPressed},n.a.createElement(h.a,{name:"tag",size:"2x",style:{color:"grey"}})),this.props.showSkeletonRecognitionButton?n.a.createElement("button",{title:"Skeleton Recognition Demo",onClick:this.props.onSkeletonRecognitionButtonPressed},n.a.createElement(h.a,{name:"tree",size:"2x",style:{color:"grey"}})):null,n.a.createElement("button",{title:"About",onClick:this.props.onShowAboutPopupPressed},n.a.createElement(h.a,{name:"info",size:"2x",style:{color:"grey"}})),n.a.createElement("button",null,n.a.createElement(h.a,{name:"ellipsis-v",size:"2x",style:{color:"white"}})),n.a.createElement("span",{style:{position:"relative",top:-3}},"Units:"),n.a.createElement("button",{style:{position:"relative",top:-3},onClick:this.props.onUnitClicked},n.a.createElement("h3",null,this.props.units)))}}]),t}(r.Component)),k=a(60),w=a.n(k),C=a(8),M=a(19),D=a.n(M),L=window.createjs,I=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(i.a)(this,Object(l.a)(t).call(this,e)),L.Touch.enable(Object(C.a)(Object(C.a)(a))),a.mouseMoveOutside=!1,a.enableMouseOver(20),a.canvas.clientWidth>0&&a.canvas.clientHeight>0&&(a.canvas.width=a.canvas.clientWidth,a.canvas.height=a.canvas.clientHeight),a.origin={x:a.canvas.width/2,y:a.canvas.height/2},a.oldOrigin={x:void 0,y:void 0},a.resolution=1e-5,a.zoomFactor=1,a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"clone",value:function(){var e=new t(this.canvas);return Object.assign(e,this)}},{key:"add",value:function(e){return this.addChild(e),this}},{key:"scalingFactor",value:function(){return this.resolution*this.zoomFactor}},{key:"C2W_Scalar",value:function(e){return e/this.scalingFactor()}},{key:"W2C_Scalar",value:function(e){return this.scalingFactor()*e}},{key:"C2W_X",value:function(e){return(e-this.origin.x)/this.scalingFactor()}},{key:"C2W_Y",value:function(e){return(this.origin.y-e)/this.scalingFactor()}},{key:"W2C_X",value:function(e){return this.scalingFactor()*e+this.origin.x}},{key:"W2C_Y",value:function(e){return this.origin.y-this.scalingFactor()*e}},{key:"W2C",value:function(e){return{x:this.W2C_X(e.x),y:this.W2C_Y(e.y)}}},{key:"panTo",value:function(e){this.origin={x:e.x,y:e.y}}},{key:"panBy",value:function(e,t){this.origin={x:this.origin.x+e,y:this.origin.y+t}}},{key:"zoomIn",value:function(e){var t=e||1.1;this.zoomFactor=Math.min(1e7,t*this.zoomFactor)}},{key:"zoomOut",value:function(e){var t=e||1.1;this.zoomFactor=Math.max(.001,this.zoomFactor/t)}},{key:"zoom",value:function(e,t,a,r){var n=this.C2W_X(e),o=this.C2W_Y(t);a?this.zoomIn(r):this.zoomOut(r);var s=this.W2C_X(n),i=this.W2C_Y(o);return this.panBy(e-s,t-i),[s,i]}},{key:"zoomByMouse",value:function(e,t,a,r){this.zoom(e,t,a,r)}},{key:"zoomToLimits",value:function(e,t){0===e&&(e=4e5),0===t&&(t=4e5);var a=Math.min(this.canvas.width/(1.1*e),this.canvas.height/(1.1*t))/this.resolution/this.zoomFactor,r=this.canvas.width/2,n=this.canvas.height/2;this.zoom(r,n,!0,a)}},{key:"resize",value:function(){this.canvas.clientWidth>0&&this.canvas.clientHeight>0&&(this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight)}},{key:"panByMouseStart",value:function(){this.oldOrigin.x=this.origin.x,this.oldOrigin.y=this.origin.y}},{key:"panByMouseMove",value:function(e,t){void 0!==e&&void 0!==t&&void 0!==this.oldOrigin.x&&void 0!==this.oldOrigin.y&&(this.origin={x:this.oldOrigin.x+e,y:this.oldOrigin.y+t})}},{key:"panByMouseStop",value:function(){this.oldOrigin.x=void 0,this.oldOrigin.y=void 0,this.tx=void 0,this.ty=void 0}},{key:"panToCoordinate",value:function(e,t){var a=this.W2C_X(e),r=this.W2C_Y(t),n=this.canvas.width/2-a,o=this.canvas.height/2-r;this.panBy(n,o)}},{key:"box",get:function(){var e=this.C2W_X(0),t=this.C2W_Y(this.canvas.height),a=this.C2W_X(this.canvas.width),r=this.C2W_Y(0);return new D.a.Box(e,t,a,r)}}]),t}(L.Stage),N=a(22),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).canvasElement=n.a.createRef(),a.handleMouseMove=function(e){a.props.stage.canvas.focus(),a.props.handleMouseMove(a.props.stage,e.stageX,e.stageY,a.props.mouse.startX?e.stageX-a.props.mouse.startX:void 0,a.props.mouse.startY?e.stageY-a.props.mouse.startY:void 0)},a.handleMouseDown=function(e){a.props.handleMouseDown(a.props.stage,e.stageX,e.stageY)},a.handleMouseUp=function(e){e.stopPropagation(),e.preventDefault(),a.props.stage.panByMouseStop(),a.props.handleMouseUp(a.props.stage,e.stageX,e.stageY)},a.handleMouseLeave=function(e){a.props.stage.canvas.blur(),document.body.focus()},a.handleMouseWheel=function(e){e.preventDefault();var t=e.detail||e.wheelDelta;0!==t&&a.props.handleMouseWheelMove(a.props.stage,e.offsetX,e.offsetY,t)},a.handleMouseWheelFox=function(e){e.preventDefault(),0!==e.detail&&a.props.handleMouseWheelMove(a.props.stage,e.layerX,e.layerY,-e.detail)},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=new I(this.canvasElement.current);e.on("stagemousemove",this.handleMouseMove),e.on("stagemousedown",this.handleMouseDown),e.on("stagemouseup",this.handleMouseUp),e.on("mouseleave",this.handleMouseLeave),e.canvas.addEventListener("mousewheel",this.handleMouseWheel),e.canvas.addEventListener("DOMMouseScroll",this.handleMouseWheelFox),this.props.registerStage(e)}},{key:"render",value:function(){return n.a.createElement("canvas",{tabIndex:"1",ref:this.canvasElement,id:"mainCanvas",className:w.a["App-canvas"]})}}]),t}(r.Component),x=Object(N.b)(function(e){return{stage:e.app.stage,mouse:e.mouse}},function(e){return{registerStage:function(t){return e(function(e){return{type:"NEW_STAGE_CREATED",stage:e}}(t))},handleMouseDown:function(t,a,r){return e(function(e,t,a){return{type:"MOUSE_DOWN_ON_STAGE",stage:e,x:t,y:a}}(t,a,r))},handleMouseUp:function(t,a,r){return e(function(e,t,a){return{type:"MOUSE_UP_ON_STAGE",stage:e,x:t,y:a}}(t,a,r))},handleMouseMove:function(t,a,r,n,o){return e(function(e,t,a,r,n){return{type:"MOUSE_MOVED_ON_STAGE",stage:e,x:t,y:a,dx:r,dy:n}}(t,a,r,n,o))},handleMouseWheelMove:function(t,a,r,n){return e(function(e,t,a,r){return{type:"MOUSE_WHEEL_MOVE_ON_STAGE",stage:e,x:t,y:a,delta:r}}(t,a,r,n))}}})(T),_=a(99),R=a.n(_),j=function(){return n.a.createElement("div",{className:R.a["App-status-bar"]},n.a.createElement("div",null,n.a.createElement("h5",null,"\xa0")))},P=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){if(this.props.stage.canvas&&this.props.stage.canvas.getContext("2d")){var e=this.props.stage.origin,t=this.props.stage.zoomFactor*this.props.stage.resolution;this.props.stage.setTransform(e.x,e.y,t,-t),this.props.stage.update()}}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.props.children)}}]),t}(r.Component),B=window.createjs,F=D.a.Point,U=D.a.Segment,Y=D.a.Circle,W=D.a.Arc,G=D.a.Polygon,J=D.a.Box;function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e instanceof F?function(e,t){var a=t&&t.radius?t.radius:3,r=t&&t.fill?t.fill:"#FF0303",n=new B.Graphics;return n.fill=n.beginFill(r).command,n.circle=n.drawCircle(e.x,e.y,a).command,n}(e,t):e instanceof U?function(e,t){var a=new B.Graphics,r=t&&void 0!==t.strokeStyle?t.strokeStyle:2,n=!t||void 0===t.ignoreScale||t.ignoreScale,o=t&&t.stroke?t.stroke:"black";return a.setStrokeStyle(r,1,0,10,n).beginStroke(o).moveTo(e.ps.x,e.ps.y).lineTo(e.pe.x,e.pe.y).endStroke()}(e,t):e instanceof W?function(e,t){var a=new B.Graphics,r=t&&t.strokeStyle?t.strokeStyle:2,n=!t||void 0===t.ignoreScale||t.ignoreScale,o=t&&t.stroke?t.stroke:"black";return a.setStrokeStyle(r,1,0,10,n).beginStroke(o).arc(e.pc.x,e.pc.y,e.r,e.startAngle,e.endAngle,!e.counterClockwise).endStroke()}(e,t):e instanceof Y?function(e,t){var a=new B.Graphics,r=t&&t.strokeStyle?t.strokeStyle:2,n=t&&t.stroke?t.stroke:"black";return a.setStrokeStyle(r,0,0,10,!0).beginStroke(n).drawCircle(e.pc.x,e.pc.y,e.r).endStroke()}(e,t):e instanceof J?function(e,t){var a=new B.Graphics,r=t&&t.strokeStyle?t.strokeStyle:1,n=t&&t.stroke?t.stroke:"black";return a.setStrokeStyle(r,0,0,10,!0).beginStroke(n).drawRect(e.xmin,e.ymin,e.xmax-e.xmin,e.ymax-e.ymin)}(e,t):e instanceof G?function(e,t){var a=new B.Graphics,r=t&&t.strokeStyle?t.strokeStyle:1,n=t&&t.stroke?t.stroke:"#FF0303",o=t&&t.fill?t.fill:"#FF0303";a.setStrokeStyle(r,0,0,10,!0),a.stroke=a.beginStroke(n).command,a.fill=a.beginFill(o).command;var s=!0,i=!1,l=void 0;try{for(var c,u=e.faces[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var p=c.value;V(a,p)}}catch(h){i=!0,l=h}finally{try{s||null==u.return||u.return()}finally{if(i)throw l}}return a.endStroke(),a}(e,t):null}function X(e,t){t.shape instanceof U?function(e,t){e.lineTo(t.pe.x,t.pe.y)}(e,t.shape):t.shape instanceof W&&function(e,t){e.arc(t.pc.x,t.pc.y,t.r,t.startAngle,t.endAngle,!t.counterClockwise)}(e,t.shape)}function V(e,t){var a=t.first.start;e.moveTo(a.x,a.y);var r=!0,n=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){X(e,s.value)}}catch(l){n=!0,o=l}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}}var Z={is_equal:function(e,t){for(var a=!0,r=Object.keys(t),n=0;n<r.length;n++){var o=r[n];if(t[o]!==e[o]){a=!1;break}}return a}},z=window.createjs,H=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this))).handleMouseOver=function(e){a.props.onMouseOver(a.props.model)},a.handleMouseOut=function(e){a.props.onMouseOut()},a.handleClick=function(e){a.props.onClick(a.props.model,a.props.layer)},a.shape=new z.Shape,e.stage.addChild(a.shape),a.vertexShapes=[];var r=!0,n=!1,s=void 0;try{for(var c,u=e.model.geom.vertices[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var p=c.value,h=new z.Shape;h.geom=p,h.mouseEnabled=!1,e.stage.addChild(h),a.vertexShapes.push(h)}}catch(d){n=!0,s=d}finally{try{r||null==u.return||u.return()}finally{if(n)throw s}}return a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"redrawVertices",value:function(e,t,a){var r=this.props.stage,n=!0,o=!1,s=void 0;try{for(var i,l=this.vertexShapes[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value,u=c.geom;c.graphics.isEmpty()?c.graphics=Q(u,{stroke:e,fill:t,radius:3/(r.zoomFactor*r.resolution)}):(c.graphics.circle.radius=3/(r.zoomFactor*r.resolution),c.graphics.fill.style=t),c.alpha=a}}catch(p){o=!0,s=p}finally{try{n||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"redraw",value:function(){var e=this.props.stage,t=this.props.hovered||this.props.selected?"black":this.props.color,a=this.props.hovered||this.props.selected?1:.6,r=this.props.widthOn,n=this.props.model.geom.aperture?this.props.model.geom.aperture:void 0,o=r&&!this.props.displayVertices?this.props.color:"white";this.shape.graphics.isEmpty()?this.shape.graphics=Q(this.props.model.geom,{strokeStyle:n,ignoreScale:!0,stroke:t,fill:o,radius:3/(e.zoomFactor*e.resolution)}):(this.shape.graphics.stroke&&(this.shape.graphics.stroke.style=t),this.shape.graphics.fill&&(this.shape.graphics.fill.style=o),this.shape.graphics.circle&&(this.shape.graphics.circle.radius=3/(e.zoomFactor*e.resolution))),this.shape.alpha=this.props.displayed?a:0,a=this.props.displayed&&this.props.displayVertices?1:0,this.redrawVertices(t,t,a)}},{key:"componentDidMount",value:function(){this.shape.on("mouseover",this.handleMouseOver),this.shape.on("mouseout",this.handleMouseOut),this.shape.on("click",this.handleClick),this.redraw()}},{key:"shouldComponentUpdate",value:function(e,t){return!Z.is_equal(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redraw()}},{key:"componentWillUnmount",value:function(){this.shape.off("mouseover",this.handleMouseOver),this.shape.off("mouseout",this.handleMouseOut),this.shape.off("click",this.handleClick),this.props.stage.removeChild(this.shape),this.shape.graphics.clear();var e=!0,t=!1,a=void 0;try{for(var r,n=this.vertexShapes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value;this.props.stage.removeChild(o)}}catch(s){t=!0,a=s}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}this.vertexShapes=[]}},{key:"render",value:function(){return null}}]),t}(r.Component),K=window.createjs,q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this))).handleMouseOver=function(e){a.props.onMouseOver(a.props.model)},a.handleMouseOut=function(e){a.props.onMouseOut()},a.handleClick=function(e){a.props.onClick(a.props.model,a.props.layer)},a.bitmap=new K.Bitmap(e.model.geom.uri),e.stage.addChild(a.bitmap),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"redraw",value:function(){this.bitmap.alpha=this.props.displayed?.5:0;var e=this.props.model.geom.width,t=this.bitmap.image.naturalWidth/this.bitmap.image.naturalHeight,a=e/this.bitmap.image.naturalWidth,r=e/(this.bitmap.image.naturalHeight*t),n=this.props.model.geom.center.x,o=this.props.model.geom.center.y;this.bitmap.setTransform(n,o,a,-r),this.bitmap.regX=this.bitmap.image.naturalWidth/2,this.bitmap.regY=this.bitmap.image.naturalHeight/2}},{key:"componentDidMount",value:function(){this.bitmap.on("mouseover",this.handleMouseOver),this.bitmap.on("mouseout",this.handleMouseOut),this.bitmap.on("click",this.handleClick),this.redraw()}},{key:"shouldComponentUpdate",value:function(e,t){return!Z.is_equal(this.props,e)}},{key:"componentDidUpdate",value:function(){this.redraw()}},{key:"componentWillUnmount",value:function(){this.bitmap.off("mouseover",this.handleMouseOver),this.bitmap.off("mouseout",this.handleMouseOut),this.bitmap.off("click",this.handleClick)}},{key:"render",value:function(){return null}}]),t}(r.Component),$=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.layer.shapes.map(function(t,a){return t.geom.uri?n.a.createElement(q,{key:a,stage:e.props.stage,layer:e.props.layer,model:t,displayed:e.props.layer.displayed,hovered:t===e.props.hoveredShape,selected:t===e.props.firstMeasuredShape||t===e.props.secondMeasuredShape,color:e.props.layer.color,widthOn:e.props.widthOn,displayLabels:e.props.displayLabels,zoomFactor:e.props.zoomFactor,onMouseOver:e.props.onMouseOver,onMouseOut:e.props.onMouseOut,onClick:e.props.onClick}):n.a.createElement(H,{key:a,stage:e.props.stage,layer:e.props.layer,model:t,displayed:e.props.layer.displayed,hovered:t===e.props.hoveredShape,selected:t===e.props.firstMeasuredShape||t===e.props.secondMeasuredShape,color:e.props.layer.color,widthOn:e.props.widthOn,displayVertices:e.props.displayVertices,zoomFactor:e.props.zoomFactor,onMouseOver:e.props.onMouseOver,onMouseOut:e.props.onMouseOut,onClick:e.props.onClick})})}}]),t}(r.Component),ee=a(101),te=a.n(ee),ae=function(e){var t=e.stage,a=e.shape,r=a.geom.center||a.geom,o=t.canvas.offsetLeft+t.W2C_X(r.x)+6,s=t.canvas.offsetTop+t.W2C_Y(r.y)-4;return o>t.canvas.offsetLeft&&o<t.canvas.offsetLeft+t.canvas.width&&s>t.canvas.offsetTop&&s<t.canvas.height?n.a.createElement("div",{style:{position:"absolute",left:o+"px",top:s+"px"},className:te.a.LabelComponent},n.a.createElement("h5",null,a.label)):null},re=function(e){var t=e.stage,a=e.layer,r=e.displayLabels;return a.displayed&&r?a.shapes.map(function(e,a){return e.label&&""!==e.label.trim()?n.a.createElement(ae,{key:a,stage:t,shape:e}):null}):null},ne=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.layers.map(function(t){return n.a.createElement(n.a.Fragment,{key:t.name},n.a.createElement($,{stage:e.props.stage,layer:t,color:t.color,displayed:t.displayed,displayVertices:e.props.displayVertices,displayLabels:e.props.displayLabels,widthOn:e.props.widthOn,hoveredShape:e.props.hoveredShape,firstMeasuredShape:e.props.firstMeasuredShape,secondMeasuredShape:e.props.secondMeasuredShape,zoomFactor:e.props.zoomFactor,onMouseOver:e.props.onMouseOver,onMouseOut:e.props.onMouseOut,onClick:e.props.onClick}),n.a.createElement(re,{stage:e.props.stage,layer:t,displayed:t.displayed,displayLabels:e.props.displayLabels}))})}}]),t}(r.Component),oe={strokeStyle:1,stroke:"#FF0303",fill:"#FF0303",alpha:1},se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(o.a)(this,e),this.geom=t,this.style=a||oe,this.label=r}return Object(s.a)(e,[{key:"clone",value:function(){var t=new e(this.geom,this.style,this.label);return Object.assign(t,this)}},{key:"box",get:function(){return this.geom.box}}]),e}(),ie=function(){function e(t){Object(o.a)(this,e),this.stage=t,this.shapes=[],this.name="",this.color="",this.title="",this.displayed=!1,this.edited=!1,this.affected=!1}return Object(s.a)(e,[{key:"clone",value:function(){var t=new e(this.stage);return Object.assign(t,this)}},{key:"add",value:function(e){if(e instanceof se)this.shapes.push(e);else{var t=new se(e,{},e.label);this.shapes.push(t)}return this}},{key:"addShapesArray",value:function(e){var t=!0,a=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var s=n.value;this.add(s)}}catch(i){a=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return this}},{key:"toggleDisplayed",value:function(e){var t=!this.displayed;return Object.assign(this.clone(),{displayed:t,color:e})}},{key:"setAffected",value:function(e){return this.affected=e,this}},{key:"setEdited",value:function(e){return Object.assign(this.clone(),{edited:e})}},{key:"setNameAndTitle",value:function(e,t){return Object.assign(this.clone(),{name:e,title:t,edited:!1})}},{key:"setAlpha",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.shapes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){r.value.alpha=this.displayed?1:0}}catch(o){t=!0,a=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}return this.shapes}},{key:"box",get:function(){var e=new D.a.Box,t=!0,a=!1,r=void 0;try{for(var n,o=this.shapes[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var s=n.value;e=e.merge(s.box)}}catch(i){a=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return e}},{key:"center",get:function(){var e=this.box;return new D.a.Point((e.xmin+e.xmax)/2,(e.ymin+e.ymax)/2)}}]),e}(),le=["#FF0303","#4AA403","#540080","#FFFF40","#FF0080","#AED424","#545400","#FFA980","#A95480","#A9A9FF","#00FF00","#FFEE76","#A40576","#4385C8","#1CC826","#BDBD00","#48316E","#14616E","#8040BD","#DC7676","#924845","#A90000","#FFA900"],ce=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"newLayer",value:function(t,a){var r=new ie(t);return r.name=e.getNewName(a),0===a.length&&(r.displayed=!1,r.affected=!1),r}},{key:"getNewName",value:function(t){for(var a=e.defaultName,r=1,n=function(e){return e.name===a};t.find(n);)a=e.defaultName+r,r++;return a}},{key:"getAffected",value:function(e){return e.find(function(e){return e.affected})}},{key:"setAffected",value:function(t,a){var r=e.getAffected(t);r&&(r.affected=!1),a.affected=!0}},{key:"getNextColor",value:function(e){for(var t="",a=function(){var a=le[r];if(!e.find(function(e){return e.displayed&&e.color===a}))return t=a,"break"},r=0;r<le.length;r++){if("break"===a())break}return t}},{key:"delete",value:function(t,a){var r=t.findIndex(function(e){return e===a}),n=t.filter(function(e){return e!==a});return r>0&&(n[r-1].affected=!0,""===n[r-1].color&&(n[r-1].color=e.getNextColor(n)),n[r-1].displayed=!0),n}},{key:"sort",value:function(e){var t=e.slice();return t.sort(function(e,t){var a=e.name.toUpperCase(),r=t.name.toUpperCase();return a<r?-1:a>r?1:0}),t}},{key:"defaultName",get:function(){return"layer"}}]),e}(),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).startX=void 0,a.startY=void 0,a.endX=void 0,a.endY=void 0,a.measureStarted=!1,a.handleMouseDown=function(e){e.preventDefault();var t=a.refs.measureCanvas,r=a.props.stage;t.getContext("2d").clearRect(0,0,t.width,t.height);var n=e.offsetX||e.originalEvent.layerX,o=e.offsetY||e.originalEvent.layerY;a.measureStarted?(a.startX=void 0,a.startY=void 0,a.endX=void 0,a.endY=void 0,a.measureStarted=!1,t.style.cursor="auto"):(a.startX=r.C2W_X(n),a.startY=r.C2W_Y(o),a.measureStarted=!0,t.style.cursor="crosshair")},a.handleMouseMove=function(e){var t=a.props.stage,r=e.offsetX,n=e.offsetY;a.measureStarted&&(a.endX=t.C2W_X(r),a.endY=t.C2W_Y(n),a.draw())},a.handleMouseUp=function(e){},a.handleMouseWheel=function(e){e.preventDefault();var t=e.detail||e.wheelDelta;0!==t&&a.props.onMouseWheelMove(e.offsetX,e.offsetY,t)},a.handleMouseWheelFox=function(e){e.preventDefault(),0!==e.detail&&a.props.onMousewheelMove(e.layerX,e.layerY,-e.detail)},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"draw",value:function(){var e=this.refs.measureCanvas,t=e.getContext("2d"),a=this.props.stage;e.getContext("2d").clearRect(0,0,e.width,e.height);var r,n,o,s,i,l=Math.min(a.W2C_X(this.startX),a.W2C_X(this.endX)),c=Math.min(a.W2C_Y(this.startY),a.W2C_Y(this.endY)),u=Math.abs(a.W2C_Scalar(this.startX-this.endX)),p=Math.abs(a.W2C_Scalar(this.startY-this.endY));t.beginPath(),t.rect(l,c,u,p),t.moveTo(a.W2C_X(this.startX),a.W2C_Y(this.startY)),t.lineTo(a.W2C_X(this.endX),a.W2C_Y(this.endY)),t.lineWidth=1,t.strokeStyle="black",t.stroke();var h=this.measurement();t.font="12pt Arial",o=t.measureText(h).width,Math.abs(a.W2C_X(this.endX)-l)<=2?(t.textAlign="left",r=l+3,s=l):(t.textAlign="right",s=(r=l+u-3)-o-3),i=(n=Math.abs(a.W2C_Y(this.endY)-c)<=2?c-3:c+p+12+3)-12-3,t.fillStyle="white",t.globalAlpha=.4,t.fillRect(s,i,o+6,18),t.fillStyle="black",t.globalAlpha=1,t.fillText(this.measurement(),r,n)}},{key:"measurement",value:function(){var e=this.endX-this.startX,t=this.endY-this.startY,a=Math.sqrt(e*e+t*t);return"DX="+this.format(e)+",DY="+this.format(t)+",D="+this.format(a)}},{key:"format",value:function(e){return(e/this.props.divisor).toFixed(this.props.decimals)}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.refs.measureCanvas;e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("mousemove",this.handleMouseMove),e.addEventListener("mouseup",this.handleMouseUp),e.addEventListener("mousewheel",this.handleMouseWheel),e.addEventListener("DOMMouseScroll",this.handleMouseWheelFox)}},{key:"componentDidUpdate",value:function(){this.measureStarted&&this.draw()}},{key:"componentWillUnmount",value:function(){var e=this.refs.measureCanvas;e.getContext("2d").clearRect(0,0,e.width,e.height)}},{key:"render",value:function(){var e=this.props.stage.canvas,t=e.width,a=e.height,r=e.offsetTop,o=e.offsetLeft;return n.a.createElement("canvas",{tabIndex:"1",ref:"measureCanvas",id:"measurePoints",width:t,height:a,style:{position:"absolute",top:r,left:o}})}}]),t}(r.Component),pe=window.createjs,he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this))).segment=new pe.Shape,e.stage.addChild(a.segment),a.labelShape=new pe.Text,a.labelShape.x=0,a.labelShape.y=0,e.stage.addChild(a.labelShape),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"format",value:function(e){return(e/this.props.divisor).toFixed(this.props.decimals)}},{key:"redrawLabel",value:function(){if(this.labelShape){var e=this.props.stage,t=this.props.shortestSegment.box,a=(t.xmin+t.xmax)/2,r=(t.ymin+t.ymax)/2,n=6/(e.zoomFactor*e.resolution),o=4/(e.zoomFactor*e.resolution);t.ymin===t.ymax&&(n=0,o=-o),this.labelShape.text=this.format(this.props.shortestSegment.length);this.labelShape.font="".concat(14,"px Arial");var s=1/(e.zoomFactor*e.resolution),i=a+n,l=r+o;this.labelShape.setTransform(i,l,s,-s)}}},{key:"draw",value:function(){this.props.shortestSegment&&(this.segment.graphics=Q(this.props.shortestSegment),this.redrawLabel())}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.segment.graphics.clear(),this.props.firstMeasuredShape&&this.props.secondMeasuredShape&&this.props.firstMeasuredLayer.displayed&&this.props.secondMeasuredLayer.displayed&&(this.draw(),this.redrawLabel())}},{key:"componentWillUnmount",value:function(){this.props.stage.removeChild(this.segment),this.segment.graphics.clear(),this.props.stage.removeChild(this.labelShape),this.labelShape.text=""}},{key:"render",value:function(){return null}}]),t}(r.Component),de=function(e){var t=e.stage,a=e.coordX,r=e.coordY,o=e.divisor,s=e.decimals,i=function(e){return(e/o).toFixed(s)},l=t.canvas,c=l.offsetTop+10,u=l.offsetLeft+10,p=t.C2W_X(a),h=t.C2W_Y(r);return n.a.createElement("div",{style:{position:"absolute",top:c,left:u}},n.a.createElement("h5",{style:{margin:0,padding:3}},"X: ",i(p)," Y: ",i(h)))},ye=a(7),fe=a.n(ye),me=document.getElementById("modal-root"),ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){me.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){me.removeChild(this.el)}},{key:"render",value:function(){return fe.a.createPortal(this.props.children,this.el)}}]),t}(r.Component),ge=a(103),Ee=a.n(ge),Ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).onBackDropClicked=function(e){"backDrop"===e.target.id&&a.props.closePopup()},a.handleKeyDown=function(e){"Escape"===e.code&&a.props.closePopup()},a.elementDrag=function(e){e=e||window.event,a.offsetX=a.dragX-e.clientX,a.offsetY=a.dragY-e.clientY,a.dragX=e.clientX,a.dragY=e.clientY;var t=e.target;t.style.top=t.offsetTop-a.offsetY+"px",t.style.left=t.offsetLeft-a.offsetX+"px"},a.closeDragElement=function(e){e.target.onmouseup=null,e.target.onmousemove=null},a.dragMouseDown=function(e){e=e||window.event,a.dragX=e.clientX,a.dragY=e.clientY,e.target.onmouseup=a.closeDragElement,e.target.onmousemove=a.elementDrag},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return this.props.showPopup?n.a.createElement(ve,null,n.a.createElement("div",{id:"backDrop",className:Ee.a.BackDrop,onClick:this.onBackDropClicked},n.a.createElement("div",{className:Ee.a.ModalPopup,onMouseDown:this.dragMouseDown},this.props.children))):null}}]),t}(r.Component),Se=a(105),be=a.n(Se),Oe=function(e){return n.a.createElement("div",{className:be.a.AboutPopup},n.a.createElement("h2",null,e.title," v",e.version),n.a.createElement("h4",null,"Build October 2018"))},ke=a(107),we=a.n(ke),Ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).handleFileSelect=function(e){if(File&&FileReader&&FileList){var t=e.target.files;a.props.handleFileSelect(t,a.props.stage,a.props.layers)}},a.setHomeView=function(){var e=ce.getAffected(a.props.layers);e&&a.props.setHomeView(a.props.stage,e)},a.handleKeyDown=function(e){if("mainCanvas"===e.target.id)switch(e.code){case"KeyH":a.setHomeView();break;case"KeyW":a.props.toggleWidthMode();break;case"KeyE":a.props.toggleDisplayVertices()}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.onresize=this.props.resizeStage,document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.props.stage?n.a.createElement(de,{key:"displayCoordinatedTool",stage:this.props.stage,units:this.props.units,divisor:this.props.divisor,decimals:this.props.decimals,coordX:this.props.mouse.x,coordY:this.props.mouse.y}):null,t=this.props.measurePointsActive?n.a.createElement(ue,{stage:this.props.stage,divisor:this.props.divisor,decimals:this.props.decimals,onMouseWheelMove:this.handleMouseWheelMove}):null,a=this.props.measureShapesTool.firstMeasuredShape&&this.props.measureShapesTool.secondMeasuredShape&&this.props.measureShapesTool.firstMeasuredLayer.displayed&&this.props.measureShapesTool.secondMeasuredLayer.displayed,r=this.props.measureShapesTool.distance&&this.props.measureShapesTool.shortestSegment&&a?n.a.createElement(he,{key:"MeasureShapesTool",stage:this.props.stage,firstMeasuredShape:this.props.measureShapesTool.firstMeasuredShape,secondMeasuredShape:this.props.measureShapesTool.secondMeasuredShape,firstMeasuredLayer:this.props.measureShapesTool.firstMeasuredLayer,secondMeasuredLayer:this.props.measureShapesTool.secondMeasuredLayer,distance:this.props.measureShapesTool.distance,shortestSegment:this.props.measureShapesTool.shortestSegment,divisor:this.props.divisor,decimals:this.props.decimals}):null;return n.a.createElement("main",{className:we.a["Main-content"]},n.a.createElement(O,{units:this.props.units,showSkeletonRecognitionButton:this.props.showSkeletonRecognitionButton,onFileSelected:this.handleFileSelect,onHomeButtonPressed:this.setHomeView,onPanByDragPressed:this.props.togglePanByDrag,onMeasurePointsButtonPressed:this.props.toggleMeasureBetweenPoints,onMeasureBetweenShapesButtonPressed:this.props.toggleMeasureBetweenShapes,onToggleWidthModePressed:this.props.toggleWidthMode,onToggleVerticesPressed:this.props.toggleDisplayVertices,onToggleLabelsPressed:this.props.toggleDisplayLabels,onShowAboutPopupPressed:this.props.toggleAboutPopup,onSkeletonRecognitionButtonPressed:this.props.applySkeletonRecognition,onUnitClicked:this.props.toggleUnits}),n.a.createElement(x,null),n.a.createElement(P,{stage:this.props.stage},n.a.createElement(ne,{stage:this.props.stage,layers:this.props.layers,displayVertices:this.props.displayVertices,displayLabels:this.props.displayLabels,widthOn:this.props.widthOn,zoomFactor:this.props.zoomFactor,hoveredShape:this.props.measureShapesTool.hoveredShape,firstMeasuredShape:this.props.measureShapesTool.firstMeasuredShape,secondMeasuredShape:this.props.measureShapesTool.secondMeasuredShape,onMouseOver:this.props.handleMouseRollOverShape,onMouseOut:this.props.handleMouseRollOutShape,onClick:this.props.handleClickOnShape}),e,t,r),n.a.createElement(j,null),n.a.createElement(Ae,{showPopup:this.props.showAboutPopup,closePopup:this.props.toggleAboutPopup},n.a.createElement(Oe,{title:this.props.title,version:this.props.version,build:this.props.build})))}}]),t}(r.Component),Me=Object(N.b)(function(e){return{stage:e.app.stage,title:e.app.title,version:e.app.version,build:e.app.build,displayVertices:e.app.displayVertices,displayLabels:e.app.displayLabels,widthOn:e.app.widthOn,zoomFactor:e.app.zoomFactor,units:e.app.units,showSkeletonRecognitionButton:e.app.showSkeletonRecognitionButton,divisor:e.app.divisor,decimals:e.app.decimals,measurePointsActive:e.app.measurePointsActive,showAboutPopup:e.app.showAboutPopup,layers:e.layers,mouse:e.mouse,measureShapesTool:e.measureShapesTool}},function(e){return{resizeStage:function(){return e({type:"STAGE_RESIZED"})},handleFileSelect:function(t,a,r){return e(function(e,t,a){return{type:"FILENAME_LIST_SELECTED",files:e,stage:t,layers:a}}(t,a,r))},setHomeView:function(t,a){return e(function(e,t){return{type:"PAN_AND_ZOOM_TO_SHAPE",stage:e,shape:t}}(t,a))},toggleUnits:function(){return e({type:"TOGGLE_UNITS_CLICKED"})},toggleWidthMode:function(){return e({type:"TOGGLE_WIDTH_MODE_CLICKED"})},toggleDisplayVertices:function(){return e({type:"TOGGLE_DISPLAY_VERTICES_CLICKED"})},toggleDisplayLabels:function(){return e({type:"TOGGLE_DISPLAY_LABELS_CLICKED"})},toggleAboutPopup:function(){return e({type:"TOGGLE_ABOUT_POPUP_CLICKED"})},toggleMeasureBetweenPoints:function(){return e({type:"MEASURE_POINTS_BUTTON_PRESSED"})},toggleMeasureBetweenShapes:function(){return e({type:"MEASURE_SHAPES_BUTTON_PRESSED"})},togglePanByDrag:function(){return e({type:"PAN_BY_DRAG_BUTTON_CLICKED"})},applySkeletonRecognition:function(){return e({type:"SKELETON_RECOGNITION_BUTTON_PRESSED"})},handleMouseRollOverShape:function(t){return e(function(e){return{type:"MOUSE_ROLL_OVER_SHAPE",shape:e}}(t))},handleMouseRollOutShape:function(){return e({type:"MOUSE_ROLL_OUT_SHAPE"})},handleClickOnShape:function(t,a){return e(function(e,t){return{type:"MOUSE_CLICKED_ON_SHAPE",shape:e,layer:t}}(t,a))}}})(Ce),De=a(109),Le=a.n(De),Ie=function(e){return n.a.createElement("div",{className:Le.a["Layer-list-toolbar"]},n.a.createElement("button",{title:"Add layer",onClick:e.onAddLayerButtonClicked},n.a.createElement(h.a,{name:"plus",size:"2x",style:{color:"grey"}})),n.a.createElement("button",{title:"Edit selected layer's name and info",onClick:e.onEditLayerButtonClicked},n.a.createElement(h.a,{name:"pencil-alt",size:"2x",style:{color:"grey"}})),n.a.createElement("button",{title:"Delete selected layer",onClick:e.onDeleteLayerButtonClicked},n.a.createElement(h.a,{name:"times",size:"2x",style:{color:"grey"}})),n.a.createElement("button",{title:"Sort layer list",onClick:e.onSortLayersButtonClicked},n.a.createElement(h.a,{name:"sort-alpha-down",size:"2x",style:{color:"grey"}})))},Ne=a(111),Te=a.n(Ne),xe=function(e){var t=function(t){t.stopPropagation(),t.preventDefault();var a=t.target.parentElement,r=Object.assign({},e.layer,{name:a.layerName.value,title:a.layerTitle.value});return e.onSubmitLayerEditForm(r),!1},a=function(e){e.stopPropagation(),e.target.focus()};return n.a.createElement("form",{className:Te.a["Layer-edit-form"],id:"layerEditForm",onSubmit:t},n.a.createElement("label",null,"Layer name:"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",id:"layer-name",name:"layerName",size:"80",defaultValue:e.layer.name,onClick:a}),n.a.createElement("br",null),n.a.createElement("label",null,"Layer info:"),n.a.createElement("br",null),n.a.createElement("textarea",{id:"layer-title",name:"layerTitle",cols:"78",rows:"3",defaultValue:e.layer.title,onClick:a}),n.a.createElement("br",null),n.a.createElement("button",{onClick:function(){e.onEscapeLayerEditForm()}},"Cancel"),n.a.createElement("button",{onClick:t},"OK"))},_e=a(113),Re=a.n(_e),je=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){if("CANVAS"!==document.activeElement.nodeName){var e=this.refs.layerName;this.props.layer.affected&&e.focus()}}},{key:"rgba",value:function(e,t){var a,r,n,o;return e?(e=e.replace("#",""),a=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16),o=t):(a=147,r=128,n=108,o=0),"rgba(".concat(a,",").concat(r,",").concat(n,",").concat(o/100,")")}},{key:"render",value:function(){var e=this.props.layer.displayed?"Layer-displayed":"Layer-undisplayed",t=e?this.rgba(this.props.layer.color,100):this.rgba(),a=e?this.rgba(this.props.layer.color,30):this.rgba(),r=this.props.layer.affected?1:0,o=0===this.props.layer.shapes.length?.6:1;return[n.a.createElement("li",{key:1,className:Re.a.Layer,onClick:this.props.onLayerClicked,onDoubleClick:this.props.onLayerDoubleClicked},n.a.createElement("div",{className:Re.a.LayerSelectionBox,onClick:this.props.onAffectedBoxClicked},n.a.createElement("h4",{className:Re.a.LayerSelectionMark,style:{opacity:r,color:t}},"\u2713")),n.a.createElement("div",{className:Re.a.LayerNameBox,style:{backgroundColor:a,opacity:o}},n.a.createElement("h4",{ref:"layerName",title:this.props.layer.name,tabIndex:"1"},this.props.layer.name))),n.a.createElement(Ae,{key:2,showPopup:this.props.layer.edited,closePopup:this.props.onEscapeLayerEditForm},n.a.createElement(xe,{layer:this.props.layer,onSubmitLayerEditForm:this.props.onSubmitLayerEditForm,onEscapeLayerEditForm:this.props.onEscapeLayerEditForm}))]}}]),t}(r.Component),Pe=a(115),Be=a.n(Pe),Fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).height=0,a.handleKeyDown=function(e){if(e.target.parentElement.parentElement&&e.target.parentElement.parentElement.parentElement&&e.target.parentElement.parentElement.parentElement.id&&"layersList"===e.target.parentElement.parentElement.parentElement.id)switch(e.code){case"ArrowRight":case"ArrowDown":a.props.setAffectedNextLayer();break;case"ArrowLeft":case"ArrowUp":a.props.setAffectedPrevLayer()}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){this.height=this.refs.layersComponent.clientHeight}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:Be.a["App-layers"],ref:"layersComponent",onClick:this.props.onLayerListClicked},n.a.createElement(Ie,{onAddLayerButtonClicked:function(){return e.props.onAddLayerButtonClicked(e.props.stage)},onEditLayerButtonClicked:this.props.onEditLayerButtonClicked,onDeleteLayerButtonClicked:this.props.onDeleteLayerButtonClicked,onSortLayersButtonClicked:this.props.onSortLayersButtonClicked}),n.a.createElement("ul",{id:"layersList",style:{maxHeight:.82*(this.height-40)}},this.props.layers.map(function(t){return n.a.createElement(je,{key:t.name,layer:t,onLayerClicked:function(){return e.props.onLayerClicked(t)},onAffectedBoxClicked:function(a){return e.props.onAffectedBoxClicked(a,t)},onSubmitLayerEditForm:e.props.onSubmitLayerEditForm,onEscapeLayerEditForm:e.props.onEscapeLayerEditForm})})))}}]),t}(r.Component),Ue=Object(N.b)(function(e){return{layers:e.layers,stage:e.app.stage}},function(e){return{onAddLayerButtonClicked:function(t){return e(function(e){return{type:"ADD_LAYER_BUTTON_PRESSED",stage:e}}(t))},onEditLayerButtonClicked:function(){return e({type:"OPEN_LAYER_EDIT_FORM_PRESSED"})},onDeleteLayerButtonClicked:function(){return e({type:"DELETE_LAYER_BUTTON_PRESSED"})},onSortLayersButtonClicked:function(){return e({type:"SORT_LAYERS_BUTTON_PRESSED"})},onLayerClicked:function(t){return e(function(e){return{type:"TOGGLE_DISPLAY_LAYER_PRESSED",layer:e}}(t))},onAffectedBoxClicked:function(t,a){return e(function(e,t){return e.stopPropagation(),{type:"TOGGLE_AFFECTED_LAYER_PRESSED",layer:t}}(t,a))},onSubmitLayerEditForm:function(t){return e(function(e){return{type:"SUBMIT_LAYER_EDIT_FORM_PRESSED",newLayer:e}}(t))},onEscapeLayerEditForm:function(){return e({type:"ESCAPE_LAYER_EDIT_FORM_PRESSED"})},onLayerListClicked:function(){return e({type:"LAYER_LIST_PANEL_PRESSED"})},setAffectedNextLayer:function(){return e({type:"LAYERS_LIST_ARROW_DOWN_PRESSED"})},setAffectedPrevLayer:function(){return e({type:"LAYERS_LIST_ARROW_UP_PRESSED"})}}})(Fe),Ye=a(117),We=a.n(Ye),Ge=function(){return n.a.createElement("aside",{className:We.a["App-aside"]},n.a.createElement("h5",null,"\xa0"))},Je=Object(N.b)(null,function(e){return{pasteDataFromBuffer:function(t){return e({type:"DATA_FROM_BUFFER_PASTED",data:t.clipboardData})}}})(function(e){return n.a.createElement("div",{className:"App-body",onPaste:e.pasteDataFromBuffer},n.a.createElement(Me,null),n.a.createElement(Ue,null),n.a.createElement(Ge,null))}),Qe=a(119),Xe=a.n(Qe),Ve=a(121),Ze=a.n(Ve),ze=a(122),He=a.n(ze),Ke=function(){return n.a.createElement("div",{className:He.a.Logo},n.a.createElement("img",{src:Ze.a,alt:"Debug Viewer Logo",height:"70px"}))},qe=function(e){return n.a.createElement("header",{className:Xe.a["App-header"]},n.a.createElement(Ke,null),n.a.createElement("h2",null,e.title," v",e.version))},$e=(a(124),a(41)),et=a.n($e),tt=D.a.Box,at=function(){function e(){Object(o.a)(this,e),this.filename="",this.title="",this.profiles=[],this.materials=[],this.shapes=[]}return Object(s.a)(e,[{key:"box",get:function(){var e=new tt,t=!0,a=!1,r=void 0;try{for(var n,o=this.profiles[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var s=n.value;e.merge(s.box)}}catch(E){a=!0,r=E}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}var i=!0,l=!1,c=void 0;try{for(var u,p=this.materials[Symbol.iterator]();!(i=(u=p.next()).done);i=!0){var h=u.value;e.merge(h.box)}}catch(E){l=!0,c=E}finally{try{i||null==p.return||p.return()}finally{if(l)throw c}}var d=!0,y=!1,f=void 0;try{for(var m,v=this.shapes[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var g=m.value;e.merge(g.box)}}catch(E){y=!0,f=E}finally{try{d||null==v.return||v.return()}finally{if(y)throw f}}return e}}]),e}(),rt=D.a.Point,nt=D.a.Segment,ot=D.a.Arc,st=D.a.Polygon,it=D.a.vector,lt=1016e4,ct=10160;function ut(e){return Math.round(Number(e)*lt,0)}function pt(e){return Math.round(Number(e)*ct,0)}function ht(e,t){for(var a,r,n=[],o=t,s=e[o],i=s.split(" "),l=new rt(ut(i[1]),ut(i[2])),c=!1;;){switch((i=(s=e[o]).split(" "))[0]){case"OS":a=new rt(ut(i[1]),ut(i[2])),n.push(new nt(l,a)),l=a.clone();break;case"OC":a=new rt(ut(i[1]),ut(i[2])),r=new rt(ut(i[3]),ut(i[4]));var u="Y"===i[5]?D.a.CW:D.a.CCW,p=it(r,l).slope,h=it(r,a).slope;D.a.Utils.EQ(p,h)&&(h+=2*Math.PI,u=!0);var d=it(r,l).length;n.push(new ot(r,d,p,h,u)),l=a.clone();break;case"OE":c=!0}if(c)break;o++}return n}function dt(e,t){var a=e.split(" "),r=new rt(ut(a[1]),ut(a[2])),n=new rt(ut(a[3]),ut(a[4])),o=new nt(r,n),s=t[Number(a[5])];return o.aperture=s,o}function yt(e,t){var a=e.split(" "),r=new rt(ut(a[1]),ut(a[2])),n=new rt(ut(a[3]),ut(a[4])),o=new rt(ut(a[5]),ut(a[6])),s="Y"===a[10]?D.a.CW:D.a.CCW,i=it(o,r).slope,l=it(o,n).slope;D.a.Utils.EQ(i,l)&&(l+=2*Math.PI,s=!0);var c=it(o,r).length,u=new ot(o,c,i,l,s),p=t[Number(a[7])];return u.aperture=p,u}function ft(e,t){var a=new at;a.filename=e;for(var r,n=t.match(/[^\r\n]+/g),o=[],s=0;s<n.length;s++){var i=n[s],l=i.split(" ");if("$"!==l[0].substr(0,1))switch(l[0]){case"S":r=new st;var c=i.split(" ")[1];r.polarity=c;break;case"OB":var u=s,p=ht(n,u);r.addFace(p),s=u+p.length+1;break;case"SE":a.shapes.push(r);break;case"L":var h=dt(i,o);a.shapes.push(h);break;case"A":var d=yt(i,o);a.shapes.push(d)}else{var y=Number(l[0].substr(1)),f=pt(l[1].substr(1));o[y]=f}}return a}var mt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={done:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.stage&&!this.state.done){var t=this.props.stage,a=this.props.layers,r=ce.newLayer(t,a);r.color=ce.getNextColor(a),r.name="features",r.title="features",r.affected=!0,r.displayed=!0,et()("https://gist.githubusercontent.com/alexbol99/825fdf2dd508467cc852eb22aa36183d/raw/d10e853338afd8294eeb3ffdebe3bc380477a978/features").then(function(a){var n=ft("features",a.data),o=!0,s=!1,i=void 0;try{for(var l,c=n.shapes[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,p=new se(u,void 0,u.label);r.add(p)}}catch(h){s=!0,i=h}finally{try{o||null==c.return||c.return()}finally{if(s)throw i}}e.props.panAndZoomToShape(t,r),e.props.addNewLayer(r),e.props.asyncOperationEnded()}),this.setState({done:!0}),this.props.asyncOperationStarted()}}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return null}}]),t}(r.Component),vt=Object(N.b)(function(e){return{layers:e.layers,stage:e.app.stage}},function(e){return{panAndZoomToShape:function(t,a){return e({type:"PAN_AND_ZOOM_TO_SHAPE",stage:t,shape:a})},addNewLayer:function(t){return e({type:"ADD_NEW_LAYER",layer:t})},asyncOperationStarted:function(){return e({type:"ASYNC_OPERATION_STARTED"})},asyncOperationEnded:function(){return e({type:"ASYNC_OPERATION_ENDED"})}}})(mt),gt=a(145),Et=a.n(gt),At=D.a.point,St=D.a.arc,bt=D.a.Polygon,Ot=Et.a.subtract,kt=Et.a.intersect,wt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={done:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){if(this.props.stage&&!this.state.done){var e=this.props.stage,t=this.props.layers,a=ce.newLayer(e,t);a.color=ce.getNextColor(t),a.name="features",a.title="features",a.affected=!0,a.displayed=!0;var r=new bt;r.addFace([At(6,6),At(6,114),At(114,114),At(114,6)]),t[t.length]=ce.newLayer(e,t).add(r);var n=new bt;n.addFace([St(At(0,0),84.5779281026111,0,2*Math.PI,D.a.CW)]),t[t.length]=ce.newLayer(e,t).add(n),r=kt(r,n),t[t.length]=ce.newLayer(e,t).add(r),(n=new bt).addFace([St(At(0,0),84.49938828627135,0,2*Math.PI,D.a.CW)]),t[t.length]=ce.newLayer(e,t).add(n),r=Ot(r,n),t[t.length]=ce.newLayer(e,t).add(r),(n=new bt).addFace([St(At(0,120),84.8710637077582,0,2*Math.PI,D.a.CW)]),t[t.length]=ce.newLayer(e,t).add(n),r=kt(r,n),t[t.length]=ce.newLayer(e,t).add(r),(n=new bt).addFace([St(At(0,120),84.79252389141845,0,2*Math.PI,D.a.CW)]),t[t.length]=ce.newLayer(e,t).add(n),r=Ot(r,n),t[t.length]=ce.newLayer(e,t).add(r),(n=new bt).addFace([St(At(120,120),85.20624291591454,0,2*Math.PI,D.a.CW)]),t[t.length]=ce.newLayer(e,t).add(n),r=kt(r,n),t[t.length]=ce.newLayer(e,t).add(r),(n=new bt).addFace([St(At(120,120),85.1277030995748,0,2*Math.PI,D.a.CW)]),t[t.length]=ce.newLayer(e,t).add(n),t[0].color=ce.getNextColor(t),t[0].affected=!0,t[0].displayed=!0,this.props.panAndZoomToShape(e,t[0]),this.setState({done:!0})}}},{key:"render",value:function(){return null}}]),t}(r.Component),Ct=Object(N.b)(function(e){return{layers:e.layers,stage:e.app.stage}},function(e){return{panAndZoomToShape:function(t,a){return e({type:"PAN_AND_ZOOM_TO_SHAPE",stage:t,shape:a})},addNewLayer:function(t){return e({type:"ADD_NEW_LAYER",layer:t})}}})(wt),Mt=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.applySkeletonRecognition()}},{key:"render",value:function(){return null}}]),t}(r.Component),Dt=Object(N.b)(function(e){return{layers:e.layers,stage:e.app.stage}},function(e){return{applySkeletonRecognition:function(){return e({type:"SKELETON_RECOGNITION_URI"})}}})(Mt),Lt=a(48),It=a(47),Nt=D.a.Vector,Tt=D.a.Segment,xt=D.a.Arc,_t=D.a.Line,Rt=D.a.Box,jt=D.a.Polygon,Pt=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"apply",value:function(t,a){for(var r=Number.POSITIVE_INFINITY,n=Object(It.a)(a.edges),o=0;o<n.length;o++){var s=n[o],i=e.edge2polygon(s,t);i<r&&(r=i)}return r}},{key:"edge2polygon",value:function(t,a){var r=t.shape.box,n=new Rt(Number.NEGATIVE_INFINITY,r.ymin,Number.POSITIVE_INFINITY,r.ymax),o=Number.POSITIVE_INFINITY,s=a.edges.search(n),i=!0,l=!1,c=void 0;try{for(var u,p=s[Symbol.iterator]();!(i=(u=p.next()).done);i=!0){var h=u.value,d=void 0;h.shape instanceof Tt&&t.shape instanceof Tt?d=e.segment2segment(h.shape,t.shape):h.shape instanceof xt&&t.shape instanceof Tt?d=e.segment2arc(t.shape,h.shape):h.shape instanceof Tt&&t.shape instanceof xt?d=e.segment2arc(h.shape,t.shape):h.shape instanceof xt&&t.shape instanceof xt&&(d=e.arc2arc(h.shape,t.shape)),d<o&&(o=d)}}catch(y){l=!0,c=y}finally{try{i||null==p.return||p.return()}finally{if(l)throw c}}return o}},{key:"point2shape",value:function(e,t){var a=new _t(e,new Nt(0,1)).intersect(t),r=Number.POSITIVE_INFINITY,n=!0,o=!1,s=void 0;try{for(var i,l=a[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value,u=e.distanceTo(c),p=Object(Lt.a)(u,2),h=p[0];p[1];h<r&&(r=h)}}catch(d){o=!0,s=d}finally{try{n||null==l.return||l.return()}finally{if(o)throw s}}return r}},{key:"segment2segment",value:function(t,a){var r=Number.POSITIVE_INFINITY,n=!0,o=!1,s=void 0;try{for(var i,l=t.vertices[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value,u=e.point2shape(c,a);u<r&&(r=u)}}catch(g){o=!0,s=g}finally{try{n||null==l.return||l.return()}finally{if(o)throw s}}var p=!0,h=!1,d=void 0;try{for(var y,f=a.vertices[Symbol.iterator]();!(p=(y=f.next()).done);p=!0){var m=y.value,v=e.point2shape(m,t);v<r&&(r=v)}}catch(g){h=!0,d=g}finally{try{p||null==f.return||f.return()}finally{if(h)throw d}}return r}},{key:"segment2arc",value:function(t,a){for(var r,n=Number.POSITIVE_INFINITY,o=new Nt(t.start,t.end),s=[(o=o.normalize()).rotate90CCW().multiply(a.r),o.rotate90CW().multiply(a.r)],i=0;i<s.length;i++){var l=s[i],c=a.center.translate(l);c.on(a)&&(r=e.point2shape(c,t))<n&&(n=r)}var u=!0,p=!1,h=void 0;try{for(var d,y=a.vertices[Symbol.iterator]();!(u=(d=y.next()).done);u=!0){var f=d.value,m=e.point2shape(f,t);m<n&&(n=m)}}catch(k){p=!0,h=k}finally{try{u||null==y.return||y.return()}finally{if(p)throw h}}var v=!0,g=!1,E=void 0;try{for(var A,S=t.vertices[Symbol.iterator]();!(v=(A=S.next()).done);v=!0){var b=A.value,O=e.point2shape(b,a);O<n&&(n=O)}}catch(k){g=!0,E=k}finally{try{v||null==S.return||S.return()}finally{if(g)throw E}}return n}},{key:"arc2arc",value:function(t,a){var r,n=Number.POSITIVE_INFINITY,o=t.clone();if(o.r+=a.r,(r=e.point2shape(a.center,o))<n){var s=t.distanceTo(e.translateArc(a,new Nt(-r,0))),i=Object(Lt.a)(s,2),l=i[0];i[1];D.a.Utils.EQ_0(l)&&(n=r)}if(D.a.Utils.GE(t.r,a.r)){var c=t.clone();if(c.r-=a.r,(r=e.point2shape(a.center,c))<n){var u=t.distanceTo(e.translateArc(a,new Nt(-r,0))),p=Object(Lt.a)(u,2),h=p[0];p[1];D.a.Utils.EQ_0(h)&&(n=r)}}if(D.a.Utils.LT(t.r,a.r)){var d=a.clone();if(d.r-=t.r,(r=e.point2shape(t.center,d))<n){var y=t.distanceTo(e.translateArc(a,new Nt(-r,0))),f=Object(Lt.a)(y,2),m=f[0];f[1];D.a.Utils.EQ_0(m)&&(n=r)}}var v=!0,g=!1,E=void 0;try{for(var A,S=t.vertices[Symbol.iterator]();!(v=(A=S.next()).done);v=!0){var b=A.value,O=e.point2shape(b,a);O<n&&(n=O)}}catch(T){g=!0,E=T}finally{try{v||null==S.return||S.return()}finally{if(g)throw E}}var k=!0,w=!1,C=void 0;try{for(var M,L=a.vertices[Symbol.iterator]();!(k=(M=L.next()).done);k=!0){var I=M.value,N=e.point2shape(I,t);N<n&&(n=N)}}catch(T){w=!0,C=T}finally{try{k||null==L.return||L.return()}finally{if(w)throw C}}return n}},{key:"translateArc",value:function(e,t){var a=e.clone();return a.pc=a.pc.translate(t),a}},{key:"translate",value:function(e,t){var a=new jt,r=!0,n=!1,o=void 0;try{for(var s,i=e.faces[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var l=s.value,c=[],u=!0,p=!1,h=void 0;try{for(var d,y=l[Symbol.iterator]();!(u=(d=y.next()).done);u=!0){var f=d.value;if(f.shape instanceof Tt)c.push(new Tt(f.shape.ps.translate(t),f.shape.pe.translate(t)));else if(f.shape instanceof xt){var m=f.shape.clone();m.pc=f.shape.pc.translate(t),c.push(m)}}}catch(v){p=!0,h=v}finally{try{u||null==y.return||y.return()}finally{if(p)throw h}}a.addFace(c)}}catch(v){n=!0,o=v}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}}]),e}();Pt.Flatten=D.a;var Bt=Pt,Ft=D.a.vector,Ut=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={done:!1,data:[]},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.stage&&!this.state.done){var t=this.props.stage,a=this.props.layers,r=ce.newLayer(t,a);r.color=ce.getNextColor(a),r.name="collision_demo",r.title="collision_demo",r.affected=!0,r.displayed=!0,et()("https://gist.githubusercontent.com/alexbol99/81893d40ec5eaa00d0336c35e069dd73/raw/b9328a4c6d7d6a44f375c68b4ec207690f40fd19/Block_53388_2parts_Cont.txt").then(function(a){var n=e.props.parser.parseToPolygon(a.data);r.add(n);var o=Ft(2*(n.box.xmax-n.box.xmin),0),s=n.translate(o);r.add(s);var i=Bt.apply(s,n),l=s.translate(Ft(-i,0));r.add(l),e.props.panAndZoomToShape(t,r),e.props.addNewLayer(r),e.props.applyCollisionDemo(),e.props.asyncOperationEnded()}),this.setState({done:!0}),this.props.asyncOperationStarted()}}},{key:"render",value:function(){return null}}]),t}(r.Component),Yt=Object(N.b)(function(e){return{layers:e.layers,stage:e.app.stage,parser:e.app.parser}},function(e){return{panAndZoomToShape:function(t,a){return e({type:"PAN_AND_ZOOM_TO_SHAPE",stage:t,shape:a})},addNewLayer:function(t){return e({type:"ADD_NEW_LAYER",layer:t})},applyCollisionDemo:function(){return e({type:"COLLISION_DEMO_URI"})},asyncOperationStarted:function(){return e({type:"ASYNC_OPERATION_STARTED"})},asyncOperationEnded:function(){return e({type:"ASYNC_OPERATION_ENDED"})}}})(Ut),Wt=a(146),Gt=a.n(Wt),Jt=function(){return n.a.createElement(ve,null,n.a.createElement("div",{className:Gt.a.BackDrop},n.a.createElement("div",{className:Gt.a.Loader},"Loading ...")))},Qt=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(qe,{title:this.props.title,version:this.props.version}),n.a.createElement(u.a,{path:"/",component:Je}),n.a.createElement(u.a,{path:"/demo",component:vt}),n.a.createElement(u.a,{path:"/boolean-test",component:Ct}),n.a.createElement(u.a,{path:"/skeleton",component:Dt}),n.a.createElement(u.a,{path:"/collision-distance",component:Yt}),this.props.showSpinner?n.a.createElement(Jt,null):null)}}]),t}(r.Component),Xt=Object(N.b)(function(e){var t=e.app;return{title:t.title,version:t.version,showSpinner:t.showSpinner}},null)(Qt),Vt=a(30),Zt=a(152),zt=D.a.Point,Ht=D.a.Segment,Kt=D.a.Arc,qt=D.a.Polygon,$t=D.a.vector,ea=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"parseToWatchArray",value:function(e){var t=e.match(/[^\r\n]+/g),a=[],r=!0,n=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var l=s.value;a.push(l.substring(l.indexOf("{")))}}catch(c){n=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}},{key:"parseToSegment",value:function(e){var t=e.match(/\{([^)]+)\}/)[1].split(" "),a=t[0].split("=")[1].split(","),r=new zt(parseInt(a[0],10),parseInt(a[1],10)),n=t[1].split("=")[1].split(","),o=new zt(parseInt(n[0],10),parseInt(n[1],10));return new Ht(r,o)}},{key:"parseToArc",value:function(e){var t=e.match(/\{([^)]+)\}/)[1].split(" "),a=t[0].split("=")[1].split(","),r=new zt(parseInt(a[0],10),parseInt(a[1],10)),n=t[1].split("=")[1].split(","),o=new zt(parseInt(n[0],10),parseInt(n[1],10)),s=t[2].split("=")[1].split(","),i=new zt(parseInt(s[0],10),parseInt(s[1],10)),l="0"===t[3].split("=")[1],c=$t(i,r).slope,u=$t(i,o).slope;D.a.Utils.EQ(c,u)&&(u+=2*Math.PI);var p=$t(i,r).length;return new Kt(i,p,c,u,l)}},{key:"parseToPolygon",value:function(e){for(var t=new qt,a=e.match(/[^\r\n]+/g),r=0;r<a.length;r++){var n=a[r];if(n.search("mat_cont_poly_struc")>=0){for(var o=n.match(/\{([^)]+)\}/)[1].split(" ")[0].split("=")[1],s=parseInt(o,10),i=[],l=r+2;l<r+2+s;l++)if((n=a[l]).search("mat_seg_struc")>=0){var c=this.parseToSegment(n);i.push(c)}else if(n.search("mat_curve_struc")>=0){var u=this.parseToArc(n);i.push(u)}t.addFace(i)}}return t}},{key:"parseToPoints",value:function(e){var t=[],a=e.match(/[^\r\n]+/g),r=!0,n=!1,o=void 0;try{for(var s,i=a[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var l=s.value;if(l.search("point_struc")>=0){var c=l.match(/\{([^)]+)\}/)[1].split("=")[1].split(","),u=new zt(parseInt(c[0],10),parseInt(c[1],10));u.label=l.split(/\s+/)[1],t.push(u)}}}catch(p){n=!0,o=p}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return t}},{key:"parseToSegmentsArcs",value:function(e){var t=[],a=e.match(/[^\r\n]+/g),r=!0,n=!1,o=void 0;try{for(var s,i=a[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var l=s.value;if(l.search("mat_seg_struc")>=0){var c=this.parseToSegment(l);t.push(c)}else if(l.search("mat_curve_struc")>=0){var u=this.parseToArc(l);t.push(u)}}}catch(p){n=!0,o=p}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return t}},{key:"parse",value:function(e){var t=this.parseToPolygon(e);if(t.edges.size>0&&t.faces.size>0)return[t];var a=this.parseToPoints(e);if(a.length>0)return a;var r=this.parseToSegmentsArcs(e);return r.length>0?r:void 0}}]),e}(),ta=[{name:"pixels",decimals:0,divisor:1},{name:"inch",decimals:7,divisor:1016e4},{name:"mm",decimals:6,divisor:4e5}],aa={title:"Debug Viewer",version:"1.2.1",build:"",units:"pixels",decimals:0,divisor:1,parser:new ea,widthOn:!0,displayVertices:!1,displayLabels:!0,measurePointsActive:!1,zoomFactor:void 0,originX:void 0,originY:void 0,showAboutPopup:!1,importDataToNewLayer:!0,showSkeletonRecognitionButton:!1,applySkeletonRecognition:!1,stage:null,showSpinner:!1},ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_STAGE_CREATED":return Object.assign({},e,{stage:t.stage,zoomFactor:t.stage.zoomFactor*t.stage.resolution,originX:t.stage.origin.x,originY:t.stage.origin.y});case"MOUSE_WHEEL_MOVE_ON_STAGE":case"PAN_AND_ZOOM_TO_SHAPE":return Object.assign({},e,{zoomFactor:t.stage.zoomFactor*t.stage.resolution,originX:t.stage.origin.x,originY:t.stage.origin.y});case"MOUSE_MOVED_ON_STAGE":return Object.assign({},e,{originX:t.stage.origin.x,originY:t.stage.origin.y});case"TOGGLE_UNITS_CLICKED":var a=ta.findIndex(function(t){return e.units===t.name}),r=ta[(a+1)%3];return Object.assign({},e,{units:r.name,decimals:r.decimals,divisor:r.divisor});case"TOGGLE_WIDTH_MODE_CLICKED":return Object.assign({},e,{widthOn:!e.widthOn,displayVertices:!!e.widthOn&&e.displayVertices});case"TOGGLE_DISPLAY_VERTICES_CLICKED":return e.displayVertices?Object.assign({},e,{displayVertices:!1}):Object.assign({},e,{widthOn:!1,displayVertices:!0});case"TOGGLE_DISPLAY_LABELS_CLICKED":return Object.assign({},e,{displayLabels:!e.displayLabels});case"TOGGLE_ABOUT_POPUP_CLICKED":return Object.assign({},e,{showAboutPopup:!e.showAboutPopup});case"PAN_BY_DRAG_BUTTON_CLICKED":return Object.assign({},e,{measurePointsActive:!1});case"MEASURE_POINTS_BUTTON_PRESSED":return Object.assign({},e,{measurePointsActive:!0});case"MEASURE_SHAPES_BUTTON_PRESSED":return Object.assign({},e,{measurePointsActive:!1});case"MOUSE_DOWN_ON_STAGE":return e.hoveredShape?e:Object.assign({},e,{measureShapesFirstClick:!0,firstMeasuredShape:null,firstMeasuredLayer:null,secondMeasuredShape:null,secondMeasuredLayer:null,distance:void 0,shortestSegment:null});case"SKELETON_RECOGNITION_URI":return Object.assign({},e,{showSkeletonRecognitionButton:!0});case"SKELETON_RECOGNITION_BUTTON_PRESSED":return Object.assign({},e,{applySkeletonRecognition:!0});case"ASYNC_OPERATION_STARTED":return Object.assign({},e,{showSpinner:!0});case"ASYNC_OPERATION_ENDED":return Object.assign({},e,{showSpinner:!1});case"LAYER_LIST_PANEL_PRESSED":case"AABB_TREE_NEXT_LEVEL":default:return e}},na=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,r=t.find(function(e){return e.affected}),n=t.findIndex(function(e){return e.affected});switch(a.type){case"ADD_LAYER_BUTTON_PRESSED":return e=ce.newLayer(a.stage,t),Object(It.a)(t).concat([e]);case"ADD_NEW_LAYER":return Object(It.a)(t).concat([a.layer]);case"DELETE_LAYER_BUTTON_PRESSED":return r?ce.delete(t,r):t;case"SORT_LAYERS_BUTTON_PRESSED":return ce.sort(t);case"TOGGLE_DISPLAY_LAYER_PRESSED":var o="";if(!a.layer.displayed&&""===(o=ce.getNextColor(t)))return;return t.map(function(e){if(e!==a.layer)return a.layer.displayed?e:e.setAffected(!1);var t=e.toggleDisplayed(o);return t.affected=t.displayed,t});case"TOGGLE_AFFECTED_LAYER_PRESSED":return t.map(function(e){return e!==a.layer?e.setAffected(!1):e.setAffected(!e.affected)});case"OPEN_LAYER_EDIT_FORM_PRESSED":return t.map(function(e){return e!==r?e:e.setEdited(!0)});case"SUBMIT_LAYER_EDIT_FORM_PRESSED":return t.map(function(e){return e.edited?e.setNameAndTitle(a.newLayer.name,a.newLayer.title):e});case"ESCAPE_LAYER_EDIT_FORM_PRESSED":return t.map(function(e){return e.edited?e.setEdited(!1):e});case"LAYERS_LIST_ARROW_DOWN_PRESSED":if(n===t.length-1)return t;var s=t[n+1];return t.map(function(e){if(e===r){var t=e.toggleDisplayed("");return t.affected=!1,t}if(e===s){var a=r.color,n=e.toggleDisplayed(a);return n.affected=!0,n}return e});case"LAYERS_LIST_ARROW_UP_PRESSED":if(0===n)return t;var i=t[n-1];return t.map(function(e){if(e===r){var t=e.toggleDisplayed("");return t.affected=!1,t}if(e===i){var a=e.toggleDisplayed(r.color);return a.displayed=!0,a.affected=!0,a}return e});default:return t}},oa={x:0,y:0,startX:void 0,startY:void 0},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOUSE_MOVED_ON_STAGE":return Object.assign({},e,{x:t.x,y:t.y});case"MOUSE_DOWN_ON_STAGE":return Object.assign({},e,{startX:t.x,startY:t.y});case"MOUSE_UP_ON_STAGE":return Object.assign({},e,{startX:void 0,startY:void 0});default:return e}},ia={measureShapesActive:!1,measureShapesFirstClick:!0,hoveredShape:null,firstMeasuredShape:null,secondMeasuredShape:null,firstMeasuredLayer:null,secondMeasuredLayer:null,distance:void 0,shortestSegment:null},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MEASURE_SHAPES_BUTTON_PRESSED":return Object.assign({},ia,{measureShapesActive:!0});case"PAN_BY_DRAG_BUTTON_CLICKED":case"MEASURE_POINTS_BUTTON_PRESSED":return Object.assign({},ia);case"MOUSE_ROLL_OVER_SHAPE":return Object.assign({},e,{hoveredShape:e.measureShapesActive?t.shape:null});case"MOUSE_ROLL_OUT_SHAPE":return Object.assign({},e,{hoveredShape:null});case"MOUSE_CLICKED_ON_SHAPE":if(!e.measureShapesActive)return e;if(e.measureShapesFirstClick)return Object.assign({},e,{firstMeasuredShape:t.shape,firstMeasuredLayer:t.layer,secondMeasuredShape:null,secondMeasuredLayer:null,measureShapesFirstClick:!1,distance:void 0,shortestSegment:null});if(t.shape===e.firstMeasuredShape)return e;var a,r,n=e.firstMeasuredShape.geom,o=t.shape.geom,s=D.a.Distance.distance(n,o),i=Object(Lt.a)(s,2);return a=i[0],r=i[1],Object.assign({},e,{secondMeasuredShape:t.shape,secondMeasuredLayer:t.layer,measureShapesFirstClick:!0,distance:a,shortestSegment:r});case"MOUSE_DOWN_ON_STAGE":return e.hoveredShape?e:Object.assign({},e,{measureShapesFirstClick:!0,firstMeasuredShape:null,firstMeasuredLayer:null,secondMeasuredShape:null,secondMeasuredLayer:null,distance:void 0,shortestSegment:null});case"DELETE_LAYER_BUTTON_PRESSED":return t.layer===e.firstMeasuredLayer||t.layer===e.secondMeasuredLayer?Object.assign({},ia):e;case"TOGGLE_DISPLAY_LAYER_PRESSED":return!t.layer.displayed||t.layer!==e.firstMeasuredLayer&&t.layer!==e.secondMeasuredLayer?e:Object.assign({},ia);default:return e}},ca=Object(Vt.c)({app:ra,layers:na,measureShapesTool:la,mouse:sa}),ua=function(e){e.getState,e.dispatch;return function(e){return function(t){"MOUSE_MOVED_ON_STAGE"!==t.type&&console.log("ACTION: "+t.type,t),e(t)}}},pa=D.a.Point,ha=D.a.Segment,da=D.a.Arc,ya=D.a.Polygon,fa=D.a.vector;function ma(e){for(var t=[],a=Array.from(e),r=0;r<a.length;r++){var n=a[r],o=n.getAttribute("type");if("segment"===o){var s=new pa(parseInt(n.getAttribute("xs"),10),parseInt(n.getAttribute("ys"),10)),i=new pa(parseInt(n.getAttribute("xe"),10),parseInt(n.getAttribute("ye"),10));t.push(new ha(s,i))}if("curve"===o){var l=new pa(parseInt(n.getAttribute("xs"),10),parseInt(n.getAttribute("ys"),10)),c=new pa(parseInt(n.getAttribute("xe"),10),parseInt(n.getAttribute("ye"),10)),u=new pa(parseInt(n.getAttribute("xc"),10),parseInt(n.getAttribute("yc"),10)),p="no"===n.getAttribute("cw"),h=fa(u,l).slope,d=fa(u,c).slope;D.a.Utils.EQ(h,d)&&(d=p?d+2*Math.PI:d-2*Math.PI);var y=fa(u,l).length;t.push(new da(u,y,h,d,p))}}return t}function va(e){var t=new ya,a=e.getAttribute("color");t.style={stroke:a||void 0,fill:a||void 0,alpha:1};var r=e.getAttribute("label");t.label=r;for(var n=e.getElementsByTagName("island"),o=Array.from(n),s=0;s<o.length;s++){var i=o[s].getElementsByTagName("edge");t.addFace(ma(i))}for(var l=e.getElementsByTagName("hole"),c=Array.from(l),u=0;u<c.length;u++){var p=c[u].getElementsByTagName("edge");t.addFace(ma(p))}return t}function ga(e){var t=new pa(parseInt(e.getAttribute("xs"),10),parseInt(e.getAttribute("ys"),10)),a=new pa(parseInt(e.getAttribute("xe"),10),parseInt(e.getAttribute("ye"),10)),r=new ha(t,a),n=e.getAttribute("label");return r.label=n,r}function Ea(e){var t=new pa(parseInt(e.getAttribute("xs"),10),parseInt(e.getAttribute("ys"),10)),a=new pa(parseInt(e.getAttribute("xe"),10),parseInt(e.getAttribute("ye"),10)),r=new pa(parseInt(e.getAttribute("xc"),10),parseInt(e.getAttribute("yc"),10)),n="yes"===e.getAttribute("cw"),o=fa(r,t).slope,s=fa(r,a).slope;D.a.Utils.EQ(o,s)&&(s=n?s+2*Math.PI:s-2*Math.PI);var i=fa(r,t).length,l=new da(r,i,o,s,n),c=e.getAttribute("label");return l.label=c,l}function Aa(e){var t=new pa(parseInt(e.getAttribute("x"),10),parseInt(e.getAttribute("y"),10)),a=e.getAttribute("label");return t.label=a,t}var Sa=25.500025,ba=400,Oa=3.0303;function ka(e){var t=Number(e);return Math.round(t*Sa*ba,0)}var wa=D.a.point,Ca=400;function Ma(e){return Math.round(Number(e)*Ca,0)}var Da=function(e,t,a,r,n,o){e.onload=function(e,t,a,r,n){return function(o){var s,i=o.target.result,l=e.name.split("."),c=l[l.length-1];s="xml"===c?function(e,t){var a=new at;a.filename=e;var r=(new DOMParser).parseFromString(t,"text/xml"),n=r.getElementsByTagName("title");n&&n.length>0&&(a.title=n[0].firstChild.nodeValue);for(var o=r.getElementsByTagName("profile"),s=Array.from(o),i=0;i<s.length;i++){var l=va(s[i]);a.profiles.push(l)}for(var c=r.getElementsByTagName("material"),u=Array.from(c),p=0;p<u.length;p++){var h=va(u[p]);a.materials.push(h)}for(var d=r.getElementsByTagName("segment"),y=Array.from(d),f=0;f<y.length;f++){var m=ga(y[f]);a.shapes.push(m)}for(var v=r.getElementsByTagName("curve"),g=Array.from(v),E=0;E<g.length;E++){var A=Ea(g[E]);a.shapes.push(A)}for(var S=r.getElementsByTagName("point"),b=Array.from(S),O=0;O<b.length;O++){var k=Aa(b[O]);a.shapes.push(k)}return a}(e.name,i):"csv"===c?function(e,t){var a=new at;a.filename=e;for(var r=t.match(/[^\r\n]+/g),n=0;n<r.length;n++){var o=r[n].split(","),s=Ma(o[0]),i=Ma(o[1]),l=Number(o[2]),c=Number(o[3]),u=wa(s,i);u.nx=l,u.ny=c,a.shapes.push(u)}return a}(e.name,i):"txt"===c?function(e,t){var a=new at;a.filename=e;var r=(new ea).parse(t);if(r.length>0){var n=!0,o=!1,s=void 0;try{for(var i,l=r[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;a.shapes.push(c)}}catch(u){o=!0,s=u}finally{try{n||null==l.return||l.return()}finally{if(o)throw s}}}return a}(e.name,i):ft(e.name,i);var u=ce.newLayer(t,a);""!==e.name&&(u.name=e.name),u.title=s.title;var p=!0,h=!1,d=void 0;try{for(var y,f=s.profiles[Symbol.iterator]();!(p=(y=f.next()).done);p=!0){var m=y.value;if(m.edges.size>0&&m.faces.size>0){var v=new se(m,void 0,m.label);u.add(v)}}}catch(T){h=!0,d=T}finally{try{p||null==f.return||f.return()}finally{if(h)throw d}}var g=!0,E=!1,A=void 0;try{for(var S,b=s.materials[Symbol.iterator]();!(g=(S=b.next()).done);g=!0){var O=S.value;if(O.edges.size>0&&O.faces.size>0){var k=new se(O,void 0,O.label);u.add(k)}}}catch(T){E=!0,A=T}finally{try{g||null==b.return||b.return()}finally{if(E)throw A}}var w=!0,C=!1,M=void 0;try{for(var D,L=s.shapes[Symbol.iterator]();!(w=(D=L.next()).done);w=!0){var I=D.value,N=new se(I,void 0,I.label);u.add(N)}}catch(T){C=!0,M=T}finally{try{w||null==L.return||L.return()}finally{if(C)throw M}}e===n[0]&&(ce.setAffected(a,u),u.color=ce.getNextColor(a),u.displayed=!0,r({type:"PAN_AND_ZOOM_TO_SHAPE",stage:t,shape:u})),r({type:"ADD_NEW_LAYER",layer:u}),r({type:"ASYNC_OPERATION_ENDED"})}}(t,a,r,n,o),e.readAsText(t),n({type:"ASYNC_OPERATION_STARTED"})},La=function(e,t,a,r,n,o){e.addEventListener("load",function(){var e=function(e){var t={},a=e.name.split("_"),r=a[0].substr(1),n=a[1]?a[1].substr(1):void 0,o=isNaN(n)?0:ka(n)+9e4,s=isNaN(r)?0:ka(r)-4e4;return t.center=new D.a.Point(o,s),t.width=Oa*ba*1e3,t.box=new D.a.Box(t.center.x-t.width/2,t.center.y-t.width/2,t.center.x+t.width/2,t.center.y+t.width/2),t}(t);e.uri=this.result;var s=new se(e),i=ce.newLayer(a,r);""!==t.name&&(i.name=t.name),i.add(s),t===o[0]&&(ce.setAffected(r,i),i.color=ce.getNextColor(r),i.displayed=!0,n({type:"PAN_AND_ZOOM_TO_SHAPE",stage:a,shape:i})),n({type:"ADD_NEW_LAYER",layer:i}),n({type:"ASYNC_OPERATION_ENDED"})},!1),e.readAsDataURL(t)},Ia=function(e,t,a,r,n){if(""===e.type||e.type.match("text.*")||e.type.match("application.*")||e.type.match("image.*")){var o=new FileReader;e.type.match("text.*")||e.type.match("application.*")||e.name.match("features*")?Da(o,e,t,a,r,n):e.type.match("image.*")&&La(o,e,t,a,r,n)}},Na=function(e){var t=e.dispatch;e.getState;return function(e){return function(a){if("FILENAME_LIST_SELECTED"!==a.type)return e(a);for(var r=a.stage,n=a.layers,o=Array.from(a.files),s=0;s<o.length;s++){var i=o[s];Ia(i,r,n,t,a.files)}}}},Ta=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(r){if("DATA_FROM_BUFFER_PASTED"!==r.type)return e(r);var n=a(),o=n.app.stage,s=n.layers,i=n.app.parser,l=void 0;n.app.importDataToNewLayer?(l=ce.newLayer(o,s),s.push(l)):(l=s.find(function(e){return e.affected}))||(l=ce.newLayer(o,s),s.push(l));var c=!0,u=!1,p=void 0;try{for(var h,d=r.data.items[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){h.value.getAsString(function(e){var a=i.parse(e);if(a.length>0){var r=!0,n=!1,s=void 0;try{for(var c,u=a[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var p=c.value;l.add(p)}}catch(h){n=!0,s=h}finally{try{r||null==u.return||u.return()}finally{if(n)throw s}}}l.shapes.length>0&&(t({type:"PAN_AND_ZOOM_TO_SHAPE",shape:l,stage:o}),t({type:"TOGGLE_DISPLAY_LAYER_PRESSED",layer:l}))});break}}catch(y){u=!0,p=y}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}}},xa=function(e){e.getState,e.dispatch;return function(e){return function(t){var a=t.stage;if(a)switch(t.type){case"STAGE_RESIZED":a.resize();break;case"MOUSE_DOWN_ON_STAGE":a.panByMouseStart();break;case"MOUSE_MOVED_ON_STAGE":void 0!==t.dx&&void 0!==t.dy&&a.panByMouseMove(t.dx,t.dy);break;case"MOUSE_UP_ON_STAGE":a.panByMouseStop();break;case"PAN_AND_ZOOM_TO_SHAPE":var r=t.shape.center,n=t.shape.box;if(isNaN(r.x)||isNaN(r.y))return;a.panToCoordinate(r.x,r.y),a.zoomToLimits(n.xmax-n.xmin,n.ymax-n.ymin);break;case"MOUSE_WHEEL_MOVE_ON_STAGE":var o=t.delta>0;a.zoomByMouse(t.x,t.y,o,1.2)}e(t)}}},_a=D.a.point,Ra=D.a.arc,ja=D.a.segment,Pa=window.Algorithmia,Ba=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(r){if("SKELETON_RECOGNITION_BUTTON_PRESSED"===r.type){var n=a(),o=n.app.stage,s=n.layers,i=ce.getAffected(s),l=i.shapes.map(function(e){return[e.geom.x/400,e.geom.y/400,e.geom.nx,e.geom.ny]});Pa.client("simby4RUwqQmtMDaHAPj5wsQwlD1").algo("alexbol99/SeketonRecognition").pipe(l).then(function(e){if(e.error)return console.error("error: "+e.error);var a=ce.newLayer(o,s);a.name="recognized",a.title="recognized";var r=!0,n=!1,l=void 0;try{for(var c,u=e.result[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var p=c.value,h=void 0;if(p[0]instanceof Array&&2===p[0].length){var d=_a(400*p[0][0],400*p[0][1]),y=400*p[1];h=Ra(d,y,p[2],p[3],D.a.CCW)}else h=ja(_a(400*p[0],400*p[1]),_a(400*p[2],400*p[3]));p[4]&&(h.label=p[4]),a.add(h)}}catch(f){n=!0,l=f}finally{try{r||null==u.return||u.return()}finally{if(n)throw l}}s.push(a),t({type:"PAN_AND_ZOOM_TO_SHAPE",stage:o,shape:i})})}return e(r)}}},Fa=Object(Vt.d)(ca,Object(Vt.a)(ua,Na,Ta,Ba,xa));t.default=function(){return n.a.createElement(N.a,{store:Fa},n.a.createElement(Zt.a,{basename:""},n.a.createElement(Xt,null)))}},53:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAACWUExURezp2L3CsAAAAH91jbamy9Sx1NXVxL2u0MvA2yEeEZy460hBJUU/JAC+ACQhE4qi2Zaw5JCp3se72Ap3Hsi82cq+2qK/8XeKtWNfTb+x0nSEsG19pH6QtWFfU8S31nt1Wpax5Xp0WoeeynBrVMm92WhkVsGz02JfU21oU5m06Mq/2se62MS21bmqzsW517ipzbyu0P///wUDcXkAAAAydFJOU/////////////////////////////////////////////////////////////////8ADVCY7wAAAO1JREFUeNpiMMQCAAKIAZsgQABhFQQIIAZDeW5uZTgXwgEIIAZFKX5+aQk2iBiUAxBADDwCClyCfIwQQSgHIICAglxigny8wmAI4TACBBCDhoymkrg6KwMIsEI4jAABxGCoyskpy8gEFmSCcNgAAojBkI2RkZENqhLIMWRkMwQIIKg7YSohACCAoIIwlRAAEEBYVQIEEFaVAAHEwIwJDAECiIGZg4NJSAiE5OSYJCWZWFiYGAECCCgowi6qwi6iza6jxs6uywISBAggoKCoFoeoioiemoE+CxgwMQIEEAMzEwZgBAggBkNGTAAQYABIRSX4H75PxQAAAABJRU5ErkJggg=="},54:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAABOUExURezp2AAAAH91jb3CsE9PT83C3CQhE7amy9Sx1ImFdL2u0AC+AMq+2si82Qp3Hsm92cvA28Gz07ipzcq/2se62LmqzsS21cW517yu0P///44+OfEAAAAadFJOU/////////////////////////////////8AFCIA2gAAAMxJREFUeNpikMQCAAKIAZsgQABhFQQIIAYWFklJTjYoD8oBCCAGIAMuJgnlAAQQUDsLG5JOMAcggBiAykGaoADCAQggBqByDhYWbj4w5GTjAJkLEEAg2xkZEIARpB4ggECCHEiCHCBBgADCqhIggLCqBAggrCoBAgirSoAAYmDCBJIAAcTAxMrKiIy4uBiZAQIIKMjLxcPPxSvCJSbIxSXKzs7OyAwQQAxMAjzCAjz8vOKCEkLsYMDIDBBADEyMGIAZIIAYJJkxAUCAAQCiZRN3sUCgAwAAAABJRU5ErkJggg=="},55:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MEYwOEQ4MDMwMzJFNDExOUZGN0MyRjAwQkZFNDkwMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NkNFODE2MzMyM0QxMUU0OTc2NkEyNzVGRDRDQUREMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NkNFODE2MjMyM0QxMUU0OTc2NkEyNzVGRDRDQUREMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM3Q0UwRDg3MzgzMkU0MTE5RkY3QzJGMDBCRkU0OTAxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcwRjA4RDgwMzAzMkU0MTE5RkY3QzJGMDBCRkU0OTAxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+nXk3UAAAAjtJREFUeNrU1ktIVFEcx/FRhExEei0kULQkiijMKduo0RNCEHuQRohgggsVJbRSNy2qRSK4qIjohRARk5YgGvmoVSEWRe9EzHJVkFZEoInT9w+/gXGasjngwgMf7uDcOeee/+Nco/x+v2cuR7RnjkdM4MPh+jOBj+moxVYsxnvcQhO+Bf/48umjEe+gAHcxgM1YgkNIxGOsjHQHUYEcsIP1XHqQg7dIk36Mo8JugxfTf5swdFfBO6jDSU1+CvdRrRDdwFn8wB7XJG9XrFejCOvQhgnkoxE+3ee0gMX7E1bgmfLRgG0qBrvuwiKnKmJ8xCol0ybLxBaUoBcH8QqjrjvwKZGf8QAJeI0NWsRC9Ut/b3SpIgvRUyX6Es4rD7sxhevqgyOqtj71yz+rKThEY9iJOziAVtX9S31vE5ZhEjvwSCU9gi8K4+3QEg5ttEFYP1zBRnzVwtYHVZp8IZoRiyTE4Y2+f4KU2c6iKdV9qXaSgYfoVPwvahEr57VYjmTtxh6sW/fNzEGYM2lGrnAOWYjHGizFBZWuR6EtxFV8IAcnIjlN7SnKdbXfLECL+sXK+Ttytah1/D6X49omH1a8LVzZCmUHjqt/NuEdUl3fB2MKxXMtaP1ioWhXTuwBlqk4nBawA3CvwnVPlWRHygtcUxXuV8n+0Qf/M27qfCpGnp7WynlIrMRr9LIKX0XhRkhlpakUu1RZg3oh2ZMfQ6UdO4FOdnknDwU1ocX+p15KXh2SvrBn0bz9r+K3AAMAvVSdlmlN6ucAAAAASUVORK5CYII="},56:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAB3RJTUUH1AgfBgU3vDbVaQAAAAlwSFlzAAAPPAAADzwBFzqfWQAAAwBQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Bz0LCAAAAAJ0Uk5T/wDltzBKAAAARUlEQVR42mNgxAIYsPEYkMUZoGwGJNVwNoLAUIWmngHVNFQ2iitQnQQTZACqRkfYVaJrg1qFUE20IMnehGtFNZhIQSAAABhlAUeIwcHOAAAAAElFTkSuQmCC"},57:function(e,t,a){e.exports={"App-toolbar":"ToolbarComponent_App-toolbar__3E3eP"}},60:function(e,t,a){e.exports={"App-canvas":"CanvasComponent_App-canvas__3v_so"}},99:function(e,t,a){e.exports={"App-status-bar":"StatusComponent_App-status-bar__21gqW"}}}]);
//# sourceMappingURL=1.2f931370.chunk.js.map